{"version":3,"sources":["../node_modules/express/lib sync","Slices/message.js","Services/authServices.js","Slices/auth.js","i18/en/index.js","i18/fr/index.js","i18/index.js","Components/LoginModal.js","Components/AuthCard.js","Components/Auth.js","Components/Navi.js","Screens/Home.js","Shared/logo.png","Shared/initbg.mp4","Slices/data.js","Screens/Init.js","Slices/order.js","Components/Tables.js","Components/Zones.js","Shared/bg.jpeg","Shared/loading.gif","Components/NaviBottom.js","Shared/serveur.png","Screens/Main.js","Shared/table.png","Shared/cc.png","Shared/delivery.png","Shared/takeout.png","Shared/cash.jpg","Shared/surplace.png","Shared/hs.png","Components/ProductStock.js","Screens/Backoffice.js","Shared/bgg.png","Components/useLongPress.js","Components/RemiseModal.js","Components/CartMenu.js","Components/Category.js","Components/SuppModal.js","Components/Item.js","Components/MenuItems.js","Components/Product.js","Screens/Menu.js","Slices/caisse.js","Shared/coin.png","Shared/billet.png","Shared/sound.mp3","Screens/Caisse.js","Screens/Avoires.js","Components/TicketZ.js","Components/TicketH.js","Screens/Cloture.js","Screens/Test.js","Components/Ticket.js","Shared/aprc.png","Screens/Checkout.js","Screens/CheckoutTwo.js","Shared/borne.png","Components/Ticketsannuler.js","Shared/updateorder.wav","Shared/born-sound.mp3","Screens/History.js","Screens/Clients.js","Screens/CalendarScreen.js","Screens/Zcaisse.js","App.js","store.js","index.js"],"names":["webpackEmptyContext","req","e","Error","code","keys","resolve","module","exports","id","messageSlice","createSlice","name","initialState","reducers","setMessage","state","action","message","payload","clearMessage","reducer","actions","authService","login","username","password","axios","post","API_URL","then","response","data","token","console","log","localStorage","setItem","JSON","stringify","tva","address","telephone","logout","removeItem","user","parse","getItem","register","createAsyncThunk","thunkAPI","first_name","last_name","email","AuthService","dispatch","toString","rejectWithValue","isLoggedIn","authSlice","restore","extraReducers","fulfilled","rejected","English","success","verifyUserAndPassword","access","auth","cashier","connect","connecter","reset","freeTable","busytables","newTable","nbrCouverts","validate","backToTable","couverts","artice","price","surplace","tiroir","cancel","added","disconnect","closureHistory","selectDate","print","latestClosure","TotalInit","close","ofCashier","confirm","cashierr","Francais","aded","i18n","use","initReactI18next","init","resources","en","translation","fr","lng","fallbackLng","interpolation","escapeValue","useTranslation","LoginModal","setShowLogin","setClickable","t","useState","input","setInput","layout","keyboard","useRef","myLayout","setMyLayout","caise_open","navigate","useNavigate","useDispatch","useEffect","table","x","final","i","j","randomIndex","Math","floor","random","length","randomItem","splice","push","randomize","className","style","display","icon","faUnlock","color","split","map","marginRight","faTimes","onClick","size","theme","buttonTheme","class","buttons","keyboardRef","r","current","layoutName","default","onChange","onKeyPress","button","justifyContent","marginTop","Button","unwrap","res","Swal","fire","title","showConfirmButton","timer","catch","err","faSignInAlt","faTrash","AuthCard","showLogin","clickable","src","width","height","alt","Auth","users","undefined","Navi","Home","Navbar","bg","variant","fixed","Container","Brand","href","Nav","Link","dataSlice","zones","tables","categories","products","nSteps","orderHistory","clients","tva_mode","coupons","dataZ","isallowedLivraison","isallowedEmporter","ping","storeCoupon","storeClients","storeDataz","storeZones","storeTables","storeCategories","storeProducts","storeNSteps","storeOrderHistory","storeTvaMode","updateProduct","prodIndex","findIndex","prod","copy","con","active","updateEmporter","updateLivraison","setPing","Init","show","msg","alert","setAlert","credentials","setCredentials","session","setSession","showPassword","setShowPassword","sessionActive","user_id","position","logo","textAlign","fontSize","fontWeight","target","value","type","placeholder","autocomplete","faEye","right","bottom","faEyeSlash","checked","for","viewBox","stroke","fill","points","x1","y1","x2","y2","staff","currency","is_open","setTimeout","faLockOpen","Alert","orderSlice","orders","checkoutData","currentOrders","selectedTable","client","remarque","orderType","ordersPartage","partNotPaid","setRemarque","storeSelectedTable","setNbrCouverts","setNewCurrentOrder","order","setNewOrder","ordersCopy","is_supp","qt","setOrderChange","key","deleteOrder","filter","_","index","clearOrders","clearData","addNewcheckoutData","some","order_id","addNewcheckoutDataFromDB","el","orderFromDb","orderItems","item","quantity","taxPrice","order_type","deletecheckoutData","setCheckoutChange","initClient","deleteClientandTable","cancelOrder","forEach","setType","setOrderPartage","editordersPartage","amount","partId","Copy","clearOrdersPartage","setPartNotPaid","updateReapartirItems","disIndex","Number","destination","droppableId","sourceIndex","source","itemId","draggableId","repatirId","totalPrice","Tables","selectedZone","rowLayout","Array","useSelector","setSelectedTable","showModal","setShowModal","zone_id","find","onTableClick","nbr","numero","ppl","nbrePersonne","libre","myorder","one","table_number","status","flexWrap","Table","Modal","onHide","Header","closeButton","Title","faUtensils","Body","from","backgroundColor","borderColor","Footer","faCheck","Zones","setSelectedZone","setShow","faBars","top","cursor","left","zone","marginLeft","nom","Offcanvas","placement","faDesktop","faUsers","faMotorcycle","faAddressBook","faStickyNote","faCashRegister","faBorderAll","faHistory","NaviBottom","ordersHistory","freeTables","showNote","setShowNote","showHistoryButton","setshowHistoryButton","note","setnote","path","window","location","hash","curr","nom_prenom","Date","date","toISOString","substr","time","getHours","getMinutes","avenir","enCours","annuler","orderNbr","setOrderHistory","orderLoding","setOrderLoding","showHistory","setshowHistory","Table_nbr","setTable_nbr","old","setOld","textorder_id","settextorder_id","prenom","company","code1","code2","etage","interphone","phone","city","now","substring","setClient","handleClose","handleNewOrder","handleGetOrders","caisse_id","customer_id","zboub","handleSelection","selectedClient","toLowerCase","includes","societe","code_1","code_2","adresse","code_postal","ville","Badge","faPlus","Form","Control","borderRadius","alignItems","FormGroup","as","zIndex","loading","toFixed","pay_method","faPrint","newOrder","client_id","customer_name","customer_company","customer_tel","customer_adress","paymentType","tvas","kitchen","new","handlePrint","auto","Group","Row","Col","onInputChange","options","min","max","xs","defaultValue","supprimer","faCheckSquare","socket","io","Main","on","sort","a","b","cat_order","category","menuSteps","newData","handleDisconnect","paddingTop","faCalendarAlt","faSignOutAlt","borderLeft","padding","serveur","ProductStock","product","setconfirmed","confirmed","showstock","setshowstock","rawHTML","image","React","createElement","dangerouslySetInnerHTML","__html","hs","prod_id","History","setFilter","toLocaleTimeString","params","useParams","storeid","setstoreid","replace","tableIcon","faSearch","cat_id","preventDefault","event","isTouchEvent","touches","useLongPress","onLongPress","shouldPreventDefault","delay","longPressTriggered","setLongPressTriggered","timeout","start","useCallback","addEventListener","passive","clear","shouldTriggerClick","clearTimeout","removeEventListener","onMouseDown","onTouchStart","onMouseUp","onMouseLeave","onTouchEnd","RemiseModal","handleUpdateOrder","orderTo","setOrderTo","setshowRemise","calcOrder","remisePerc","setremisePerc","remise","setremise","setlibre","offert","setoffert","selected","setselected","handleRemise","finalPrice","onChangeInput","Label","onFocus","CartMenu","step","setstep","nsteps","checkOutData","late_order_id","setlate_order_id","newOrders","setnewOrders","ShowModifyModal","setShowModifyModal","activation","setactivation","rab_tva","setRab_tva","newCommande","setNewCommande","currentOrder","findProductWithId","valeur","extras","extra","default_quantity","stepItems","Object","dbPrice","item_tva","is_alcool","tva_alcool","v3","v1","v2","vs1","vs2","vs3","ht2","ht3","calcTotal","tot","tvass","handlePlusOrMinus","sign","handleExtra","extraKey","is_conserved","tva5","tva10","tva20","handlePlaceOrder","server","from_kiosk","process","REACT_APP_API_SOCKET","emit","how_paid","getTime","handleFinish","renderHTML","longPressEvent","showRemise","suppSelected","at","slots","entries","faMinusCircle","faPlusCircle","borderBottom","backgroundImage","objectFit","paddingLeft","fontFamily","showDenyButton","showCancelButton","confirmButtonText","denyButtonText","result","isConfirmed","Spinner","animation","cancelButtonText","faire","content","isDenied","timeRejection","rejectedFrom","dialogClassName","description","isComp","striped","bordered","slotKey","handleSlotSelect","nstep","menu_id","nom_etape","choice","slot","STP","max_select","handleStepSelect","Category","setSelectedCategory","selectedCategory","cat","background","picture","SuppModal","orderWithSupp","handleAddOrderWithSupp","handleaAddDrink","drinks","setShowSupplements","setSuppSelected","setDrinks","page","setPage","supplement","sauces","sauce","faMinusSquare","drink","faAngleDoubleRight","faAngleDoubleLeft","Item","showPreview","setShowPreview","showSupplements","newProduct","setnewProduct","setTva","is_cold","is_hot","drink_id","suaces_ids","setOrderWithSupp","supplements","saucesIds","filtred","handleAlert","toast","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","Carousel","MenuItems","Product","Menu","shows","setShows","setDate","level","charging","timerID","setInterval","tick","clearInterval","setLayout","paddingRight","caisseSlice","monnaies","initialValue","setMonnaies","clearcaisse","caisse","setInitialValue","montant","Caisse","Audio","aud","audio","play","caisse_open","historique_monnaie","setTotal","setping","setSelected","real","lay","setlay","newarr","calcMontant","dateStr","getMonth","slice","getDate","getFullYear","getSeconds","text","coin","FormControl","billet","historiquePrint","caisse_initial_value","handleOpenCaisse","handleOpenCaisse30","editClient","setEditClient","showEdit","setShowEdit","setSearch","fluid","hover","coupon","discount","created_at","expires_at","TicketZ","recap","selectedDate","ouvDate","tvasum","lastOuverture","ouvTime","nowTime","ouverture","annuleshistory","today","logs","title_log","totalht2","qqt2","vp2","totalprice2","totalht3","qqt3","vp3","totalprice3","totalht1","qqt1","vp1","totalprice1","va1","vas1","tanul","ta1","Restaurant","clientGroups","total","totaltcc","groups","reduce","acc","count","TicketH","zHistory","restaurant","impression","fermeture","commandes","ticket_moyen","cancledOrders","prix","ht","ttc","fond_initial","fond_final","Cloture","annules","completd","paymentsInDb","finalValue","setrecap","setpage","setdata","setzHistory","previewTicket","setPreviewTicket","previewZ","setPreviewZ","previewHistory","setPreviewHistory","history","setHistory","findProduct","allHistorique","TODAY","bodyFormData","FormData","append","method","url","headers","rows","col1","item_id","col2","col3","col4","overflow","todaytva","commandesTotal","formatValue","chiffre","DataGrid","pageSize","paginationMode","onPageChange","rowCount","columns","field","headerName","orderTypes","surPlace","livraison","emporter","borne","elementt","sum","ticket","newTva","E","PrintData","ordersType","sometva","handleCloseCaisse","showZcaisse","Test","dataLocal","selectedProduct","setselectedProduct","setStep","product_id","prods","Ticket","thisDate","tvasst","table_id","toShowOrder","settoShowOrder","setrestaurant","rv","ht1","element","marginBottom","flexDirection","steps","flexwrap","abs","part","Checkout","clientone","setclientone","isavoir","setisavoir","showform","setshowform","load","setLoad","ordersData","thisOrder","o","perc","orderDate","curr_date","curr_month","curr_year","curr_hour","curr_min","showtwo","setshowtwo","showPay","setShowPay","accompte","setPart","typeRepart","settypeRepart","setpaymentType","setAmount","amountPaid","setamountPaid","notefrais","setnotefrais","setCoupon","payments","setpayments","handlefinal","handleExit","handleCreate","handleVerifyCoupon","paidamount","couponInDb","handleFinal","restAvoir","reso","handleAddition","amountss","boxShadow","faPhone","faMapMarkerAlt","faCircle","align","faEdit","borderRight","faAngleLeft","faAngleRight","faBorderNone","onSubmit","readOnly","controlId","Select","v","stringValue","locale","parts","toLocaleString","unshift","String","RegExp","numberFromLocaleString","Check","label","CheckoutTwo","orderesPartage","check","getkeyborad","setkeyborad","oredertopay","setordertopay","partageorder","ids","items","repartirOrder","totalamount","totalamountPaid","onDragEnd","ind","provided","snapshot","ref","innerRef","isDraggingOver","droppableProps","draggableProps","dragHandleProps","isDragging","draggableStyle","userSelect","grid","margin","handlefinish","handleprint","arryofswitch","pricepart","ts","isAllZero","every","orderToPrint","newPayment","handlePayment","Historyannuler","bornSound","selectedOrder","setSelectedOrder","tichetannu","settichetannu","myTime","handleEditOrder","handlePreview","toOrder","clone","updateSound","takeout","delivery","handlePreviewannuler","faGlobe","Set","words","pay","Ticketsannuler","search","cash","cc","CalendarScreen","Zcaisse","dateSelected","setdateSelected","setel","createPDF","pdf","jsPDF","html2canvas","document","querySelector","img","toDataURL","imgProperties","getImageProperties","pdfWidth","internal","getWidth","pdfHeight","addImage","save","dayjs","setValue","setshow","border","alignItmes","p","classNam","m","LocalizationProvider","dateAdapter","AdapterDayjs","MobileDatePicker","inputFormat","newValue","month","$M","parseInt","$y","$D","renderInput","TextField","App","interval","unloadCallback","returnValue","soundUpdate","exact","Clients","Avoires","Backoffice","rootReducer","combineReducers","authReducer","messageReducer","dataReducer","orderReducer","caisseReducer","persistConfig","version","storage","persistedReducer","persistReducer","store","configureStore","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","persistor","persistStore","render","getElementById"],"mappings":"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","file":"static/js/main.792af4a3.chunk.js","sourcesContent":["function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 529;","import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nconst initialState = {};\r\n\r\nconst messageSlice = createSlice({\r\n  name: \"message\",\r\n  initialState,\r\n  reducers: {\r\n    setMessage: (state, action) => {\r\n      return { message: action.payload };\r\n    },\r\n    clearMessage: () => {\r\n      return { message: \"\" };\r\n    },\r\n  },\r\n});\r\n\r\nconst { reducer, actions } = messageSlice;\r\n\r\nexport const { setMessage, clearMessage } = actions;\r\nexport default reducer;\r\n","import axios from \"axios\";\r\n\r\nconst API_URL =\"http://192.168.1.166:5000/api/\";\r\n\r\n// const register = (first_name, last_name, email, password) => {\r\n//   return axios.post(API_URL + \"register\", {\r\n//     first_name,\r\n//     last_name,\r\n//     email,\r\n//     password,\r\n//   });\r\n// };\r\n\r\nconst login = (username, password) => {\r\n  return axios\r\n    .post(API_URL + \"login\", {\r\n      username,\r\n      password,\r\n    })\r\n    .then((response) => {\r\n      if (response.data.token) {\r\n        console.log(response.data);\r\n        localStorage.setItem(\"user\", JSON.stringify(response.data.token));\r\n        localStorage.setItem(\"username\", response.data.username);\r\n        localStorage.setItem(\"tva\", response.data.tva);\r\n        localStorage.setItem(\"address\", response.data.address);\r\n        localStorage.setItem(\"telephone\", response.data.telephone);\r\n      }\r\n\r\n      return response.data;\r\n    });\r\n};\r\n\r\nconst logout = () => {\r\n  localStorage.removeItem(\"user\");\r\n};\r\n\r\nconst authService = {\r\n  login,\r\n  logout,\r\n};\r\n\r\nexport default authService;\r\n","import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\r\nimport { setMessage } from \"./message\";\r\n\r\nimport AuthService from \"../Services/authServices\";\r\n\r\nconst user = JSON.parse(localStorage.getItem(\"user\"));\r\n\r\nexport const register = createAsyncThunk(\r\n  \"auth/register\",\r\n  async ({ first_name, last_name, email, password }, thunkAPI) => {\r\n    try {\r\n      const response = await AuthService.register(\r\n        first_name,\r\n        last_name,\r\n        email,\r\n        password\r\n      );\r\n      console.log(response);\r\n      thunkAPI.dispatch(setMessage(response.data.message));\r\n      return response.data;\r\n    } catch (error) {\r\n      const message =\r\n        (error.response &&\r\n          error.response.data &&\r\n          error.response.data.message) ||\r\n        error.message ||\r\n        error.toString();\r\n      thunkAPI.dispatch(setMessage(message));\r\n      return thunkAPI.rejectWithValue();\r\n    }\r\n  }\r\n);\r\n\r\nexport const login = createAsyncThunk(\r\n  \"auth/login\",\r\n  async ({ username, password }, thunkAPI) => {\r\n    try {\r\n      const data = await AuthService.login(username, password);\r\n      console.log(data);\r\n      return { user: data };\r\n    } catch (error) {\r\n      const message =\r\n        (error.response &&\r\n          error.response.data &&\r\n          error.response.data.message) ||\r\n        error.message ||\r\n        error.toString();\r\n      thunkAPI.dispatch(setMessage(message));\r\n      return thunkAPI.rejectWithValue();\r\n    }\r\n  }\r\n);\r\n\r\nexport const logout = createAsyncThunk(\"auth/logout\", async () => {\r\n  await AuthService.logout();\r\n});\r\n\r\nconst initialState = user\r\n  ? { isLoggedIn: true, user }\r\n  : { isLoggedIn: false, user: null };\r\n\r\nconst authSlice = createSlice({\r\n  name: \"auth\",\r\n  initialState,\r\n  reducers: {\r\n    restore: (state, action) => {\r\n      state.isLoggedIn = true;\r\n      state.user = action.payload.user;\r\n    },\r\n  },\r\n  extraReducers: {\r\n    [register.fulfilled]: (state, action) => {\r\n      state.isLoggedIn = false;\r\n    },\r\n    [register.rejected]: (state, action) => {\r\n      state.isLoggedIn = false;\r\n    },\r\n    [login.fulfilled]: (state, action) => {\r\n      state.isLoggedIn = true;\r\n      state.user = action.payload.user;\r\n    },\r\n    [login.rejected]: (state, action) => {\r\n      state.isLoggedIn = false;\r\n      state.user = null;\r\n    },\r\n    [logout.fulfilled]: (state, action) => {\r\n      state.isLoggedIn = false;\r\n      state.user = null;\r\n    },\r\n  },\r\n});\r\n\r\nconst { reducer } = authSlice;\r\nexport const { restore } = authSlice.actions;\r\nexport default reducer;\r\n","const English = {\r\n  success: \"success\",\r\n  verifyUserAndPassword: \"verify username and password\",\r\n  username: \"username\",\r\n  password: \"password\",\r\n  access: \"access\",\r\n  auth: \"authentication\",\r\n  cashier: \"cashier\",\r\n  connect: \"connect\",\r\n  connecter: \"Login \",\r\n  reset: \"reset\",\r\n  freeTable: \"free table\",\r\n  busytables: \"busy table\",\r\n  newTable: \"new table\",\r\n  nbrCouverts: \"number of person\",\r\n  validate: \"validate\",\r\n  backToTable: \"back to tables\",\r\n  couverts: \"person\",\r\n  artice: \"article\",\r\n  price: \"price\",\r\n  surplace: \"Direct \",\r\n  tiroir: \"cash register\",\r\n  cancel: \"cancel\",\r\n  added: \"added\",\r\n  disconnect: \"disconnect\",\r\n  closureHistory: \"closure history\",\r\n  selectDate: \"select a date\",\r\n  print: \"print\",\r\n  latestClosure: \"latest closure\",\r\n  TotalInit: \"initial cashier total\",\r\n  close: \"close\",\r\n  ofCashier: \"of cash register\",\r\n  confirm: \"Confirm\",\r\n  cashierr: \"Cash Register\",\r\n};\r\nexport default English;\r\n","const Francais = {\r\n  success: \"success\",\r\n  verifyUserAndPassword: \"verifier utilisateur et mot de passe\",\r\n  username: \"utilisateur\",\r\n  password: \"mot de passe\",\r\n  access: \"acceder\",\r\n  auth: \"authentification\",\r\n  cashier: \"caisse\",\r\n  connect: \"Connexion\",\r\n  connecter: \"Se connecter\",\r\n  reset: \"reset\",\r\n  freeTable: \"table libre\",\r\n  busytables: \"table en cours\",\r\n  newTable: \"Nouvelle Table\",\r\n  nbrCouverts: \"nombre de couverts\",\r\n  validate: \"valider\",\r\n  backToTable: \"retour Au Tables\",\r\n  couverts: \"couverts\",\r\n  artice: \"Nom\",\r\n  price: \"prix\",\r\n  surplace: \"sur place \",\r\n  tiroir: \"Tiroir\",\r\n  cancel: \"Annuler\",\r\n  aded: \"ajouter\",\r\n  disconnect: \"dconnexion\",\r\n  closureHistory: \"historique de cltures\",\r\n  selectDate: \"slctionner une date\",\r\n  print: \"imprimer\",\r\n  latestClosure: \"Derniere Clture\",\r\n  TotalInit: \"total de caisse initial\",\r\n  close: \"clturer\",\r\n  ofCashier: \"de caisse\",\r\n  cashierr: \"Caisse\",\r\n  confirm: \"OK\",\r\n};\r\nexport default Francais;\r\n","import i18n from \"i18next\";\r\nimport { useTranslation, initReactI18next } from \"react-i18next\";\r\nimport English from \"./en\";\r\nimport Francais from \"./fr\";\r\ni18n.use(initReactI18next).init({\r\n  resources: {\r\n    en: {\r\n      translation: English,\r\n    },\r\n    fr: {\r\n      translation: Francais,\r\n    },\r\n  },\r\n  lng: \"fr\",\r\n  fallbackLng: \"en\",\r\n  interpolation: {\r\n    escapeValue: false,\r\n  },\r\n});\r\nexport default useTranslation;\r\n","import { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n  faCogs,\r\n  faSignInAlt,\r\n  faTimes,\r\n  faTrash,\r\n  faUnlock,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport Keyboard from \"react-simple-keyboard\";\r\nimport \"react-simple-keyboard/build/css/index.css\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { login } from \"../Slices/auth\";\r\nimport { useNavigate } from \"react-router\";\r\nimport useTranslation from \"./../i18\";\r\nimport Swal from \"sweetalert2\";\r\n\r\nconst LoginModal = ({ user, setShowLogin, setClickable }) => {\r\n  const { t } = useTranslation();\r\n\r\n  const [input, setInput] = useState(\"\");\r\n  const [layout, setLayout] = useState(\"default\");\r\n  const keyboard = useRef();\r\n  const [myLayout, setMyLayout] = useState([]);\r\n\r\n  let caise_open = localStorage.getItem(\"caisse_open\");\r\n\r\n  const navigate = useNavigate();\r\n  const dispatch = useDispatch();\r\n\r\n  const handleLogin = () => {\r\n    localStorage.setItem(\"username\", user);\r\n    dispatch(login({ username: user, password: input }))\r\n      .unwrap()\r\n      .then((res) => {\r\n        Swal.fire({\r\n          icon: \"success\",\r\n          title: `Connecte`,\r\n          showConfirmButton: false,\r\n          timer: 1000,\r\n        });\r\n        caise_open == true ? navigate(\"/main\") : navigate(\"/caisse\");\r\n      })\r\n      .catch((err) => {\r\n        Swal.fire({\r\n          icon: \"error\",\r\n          title: `Verifier Mot de passe`,\r\n          showConfirmButton: false,\r\n          timer: 1000,\r\n        });\r\n      });\r\n  };\r\n  const randomize = () => {\r\n    let table = [\"0\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \" \", \" \"];\r\n    let x = \"\";\r\n    let final = [];\r\n\r\n    let i = 0;\r\n    let j = 0;\r\n    do {\r\n      do {\r\n        let randomIndex = Math.floor(Math.random() * table.length);\r\n        var randomItem = table[randomIndex];\r\n        if (randomItem != \" \") {\r\n          x = x + randomItem + \" \";\r\n        } else {\r\n          x = x + randomItem;\r\n        }\r\n\r\n        i += 1;\r\n        table.splice(randomIndex, 1);\r\n        console.log(\"inner\");\r\n      } while (i != 3);\r\n      final.push(x);\r\n      x = \"\";\r\n      i = 0;\r\n      j += 1;\r\n      console.log(\"outter\");\r\n    } while (j != 4);\r\n    console.log(final);\r\n    setMyLayout([...final]);\r\n  };\r\n  const onChange = (input) => {\r\n    if (input.length < 12) {\r\n      setInput(input);\r\n    }\r\n    console.log(\"Input changed\", input);\r\n  };\r\n\r\n  const onKeyPress = (button) => {\r\n    console.log(\"Button pressed\", button);\r\n  };\r\n\r\n  const onChangeInput = (event) => {\r\n    const input = event.target.value;\r\n    setInput(input);\r\n    keyboard.current.setInput(input);\r\n  };\r\n  useEffect(() => {\r\n    randomize();\r\n  }, []);\r\n  return (\r\n    <div className=\"login_container\">\r\n      <div style={{ display: \"flex\" }}>\r\n        <div className=\"mdp_container\">\r\n          <FontAwesomeIcon icon={faUnlock} className=\"mdp_icon\" color=\"white\" />\r\n          <div className=\"input\">\r\n            {input.split(\"\").map((e) => (\r\n              <h1 style={{ color: \"white\" }}>*</h1>\r\n            ))}\r\n          </div>\r\n        </div>\r\n        <FontAwesomeIcon\r\n          style={{ marginRight: \"1.2rem\" }}\r\n          icon={faTimes}\r\n          onClick={() => {\r\n            setShowLogin(false);\r\n            setClickable(true);\r\n          }}\r\n          size=\"3x\"\r\n        />\r\n      </div>\r\n\r\n      <Keyboard\r\n        theme={\"hg-theme-default hg-layout-default myTheme\"}\r\n        buttonTheme={[\r\n          {\r\n            class: \"key_btn\",\r\n            buttons: \"0 1 2 3 4 5 6 7 8 9  \",\r\n          },\r\n          {\r\n            class: \"hg-highlight\",\r\n            buttons: \"Q q\",\r\n          },\r\n        ]}\r\n        keyboardRef={(r) => (keyboard.current = r)}\r\n        layoutName={layout}\r\n        layout={{\r\n          default: myLayout,\r\n        }}\r\n        onChange={onChange}\r\n        onKeyPress={onKeyPress}\r\n      />\r\n\r\n      <div\r\n        style={{ display: \"flex\", justifyContent: \"center\", marginTop: \"3rem\" }}\r\n      >\r\n        <Button className=\"my_btn x5\" onClick={() => handleLogin()}>\r\n          <FontAwesomeIcon\r\n            icon={faSignInAlt}\r\n            size=\"1x\"\r\n            color=\"#0dcaf0\"\r\n            style={{ marginRight: \"0.5rem\" }}\r\n          />\r\n          {t(\"connecter\")}\r\n        </Button>\r\n        <Button\r\n          className=\"my_btn x5\"\r\n          onClick={() => {\r\n            setInput(\"\");\r\n            keyboard.current.setInput(\"\");\r\n          }}\r\n        >\r\n          <FontAwesomeIcon\r\n            icon={faTrash}\r\n            size=\"1x\"\r\n            color=\"#0dcaf0\"\r\n            style={{ marginRight: \"0.5rem\" }}\r\n          />\r\n          {t(\"cancel\")}\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoginModal;\r\n","import React, { useState } from \"react\";\r\nimport LoginModal from \"./LoginModal\";\r\nimport useTranslation from \"./../i18\";\r\n\r\n\r\nconst AuthCard = ({ user }) => {\r\n  const { t } = useTranslation();\r\n  const [showLogin, setShowLogin] = useState(false);\r\n  const [clickable, setClickable] = useState(true);\r\n\r\n  return (\r\n    <div\r\n      className=\"auth_card\"\r\n      onClick={() => {\r\n        if (clickable == true) {\r\n          setShowLogin(!showLogin);\r\n          setClickable(false);\r\n        }\r\n      }}\r\n    >\r\n      <span>\r\n        <img src=\"http://141.94.77.9/caisse/icons/waiter.png\" width=\"128px\" height=\"128px\" alt=\"\" />\r\n      </span>\r\n      <h6>{user}</h6>\r\n      {showLogin && (\r\n        <LoginModal\r\n          user={user}\r\n          setShowLogin={setShowLogin}\r\n          setClickable={setClickable}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AuthCard;\r\n","import React, { useEffect } from \"react\";\r\nimport { useNavigate } from \"react-router\";\r\nimport AuthCard from \"./AuthCard\";\r\nimport useTranslation from \"./../i18\";\r\n\r\nconst Auth = () => {\r\n  const { t } = useTranslation();\r\n  let users = localStorage.getItem(\"staff\")?.split(\",\") || [];\r\n  const navigate = useNavigate();\r\n  useEffect(() => {\r\n    if (users[0] == undefined) {\r\n      navigate(\"/init\");\r\n    }\r\n  }, []);\r\n  return (\r\n    <div className=\"auth_window\">\r\n      <div style={{ display: \"flex\" }}>\r\n        {users.map((user) => (\r\n          <AuthCard user={user} />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Auth;\r\n","import React from \"react\";\r\n\r\nimport useTranslation from \"./../i18\";\r\n\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\n\r\nimport { faFingerprint } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nconst Navi = ({ title }) => {\r\n  const { t } = useTranslation();\r\n\r\n  return (\r\n    <div className=\"my_navbar\">\r\n      <h4 className=\"logo\">\r\n         \r\n        {t(`${title}`)}\r\n      </h4>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Navi;\r\n","import React, { useEffect } from \"react\";\r\nimport { useNavigate } from \"react-router\";\r\nimport Auth from \"../Components/Auth\";\r\nimport Navi from \"../Components/Navi\";\r\nimport \"./Styles.css\";\r\nimport axios from \"axios\";\r\nimport { Container, Nav, Navbar } from \"react-bootstrap\";\r\n\r\nconst Home = () => {\r\n  return (\r\n    <div className=\"my_container\">\r\n      <Navi title=\"connect\" />\r\n      <Auth />\r\n      <Navbar bg=\"light\" variant=\"light\" fixed=\"bottom\">\r\n        <Container>\r\n          <Navbar.Brand href=\"#home\">\r\n            Tous droits reserves <b>CAISSECONNECT.FR</b>  2022\r\n          </Navbar.Brand>\r\n          <Nav className=\"me-auto\">\r\n            <Nav.Link href=\"#home\"></Nav.Link>\r\n          </Nav>\r\n        </Container>\r\n      </Navbar>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","export default __webpack_public_path__ + \"static/media/logo.3c484734.png\";","export default __webpack_public_path__ + \"static/media/initbg.11e4f645.mp4\";","import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\r\nconst initialState = {\r\n  zones: [],\r\n  tables: [],\r\n  categories: [],\r\n  products: [],\r\n  nSteps: [],\r\n  orderHistory: [],\r\n  clients: [],\r\n  tva_mode: [],\r\n  coupons:[],\r\n  dataZ:[],\r\n  isallowedLivraison:false,\r\n  isallowedEmporter:false,\r\n  ping:false\r\n\r\n};\r\n\r\nconst dataSlice = createSlice({\r\n  name: \"data\",\r\n  initialState,\r\n  reducers: {\r\n    storeCoupon:(state,action)=>{   \r\n      state.coupons=action.payload.coupons\r\n      console.log(state.coupons)\r\n    },\r\n    storeClients: (state, action) => {\r\n      state.clients = action.payload.clients;\r\n    },\r\n    storeDataz: (state, action) => {\r\n      state.dataZ = action.payload.dataZ;\r\n    },\r\n    storeZones: (state, action) => {\r\n      state.zones = action.payload.zones;\r\n    },\r\n    storeTables: (state, action) => {\r\n      state.tables = action.payload.tables;\r\n    },\r\n    storeCategories: (state, action) => {\r\n      state.categories = action.payload.categories;\r\n    },\r\n    storeProducts: (state, action) => {\r\n      state.products = action.payload.products;\r\n    },\r\n    storeNSteps: (state, action) => {\r\n      state.nSteps = action.payload.nSteps;\r\n    },\r\n    storeOrderHistory: (state, action) => {\r\n      state.orderHistory = action.payload.orderHistory;\r\n    },\r\n    storeTvaMode: (state, action) => {\r\n      state.tva_mode = action.payload.tva_mode;\r\n    },\r\n    updateProduct: (state, action) => {\r\n      let prodIndex = state.products.findIndex(\r\n        (prod) => prod.id == action.payload.id\r\n      );\r\n      let copy = [...state.products];\r\n      let con=0\r\n      copy[prodIndex].active==0?con=1:con=0\r\n      copy[prodIndex] = { ...copy[prodIndex], active:con };\r\n      state.products = copy;\r\n    },\r\n    updateEmporter: (state, action) => {\r\nstate.isallowedEmporter=!state.isallowedEmporter\r\n    },\r\n    updateLivraison: (state, action) => {\r\n      state.isallowedLivraison=!state.isallowedLivraison\r\n          },\r\n\r\n    setPing :(state,action)=>{\r\n      state.ping =action.payload\r\n    }\r\n  },\r\n});\r\n\r\nconst { reducer } = dataSlice;\r\nexport const {\r\n  storeZones,\r\n  storeTables,\r\n  storeCategories,\r\n  storeProducts,\r\n  storeNSteps,\r\n  storeOrderHistory,\r\n  storeClients,\r\n  updateProduct,\r\n  storeTvaMode,\r\n  storeCoupon,\r\n  storeDataz,\r\n  setPing\r\n  \r\n} = dataSlice.actions;\r\nexport default reducer;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Container, Form, Button, Alert, FloatingLabel } from \"react-bootstrap\";\r\nimport axios from \"axios\";\r\nimport { useNavigate } from \"react-router\";\r\nimport useTranslation from \"./../i18\";\r\nimport video from \"./../Shared/initbg.mp4\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport logo from \"./../Shared/logo.png\";\r\nimport { faEye, faEyeDropper, faEyeSlash, faLockOpen } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { storeClients } from \"../Slices/data\";\r\n\r\nimport \"./Styles.css\";\r\nconst Init = () => {\r\n  const dispatch = useDispatch();\r\n  const { t } = useTranslation();\r\n  const navigate = useNavigate();\r\n  const [alert, setAlert] = useState({ show: false, variant: \"\", msg: \"\" });\r\n  const [credentials, setCredentials] = useState({\r\n    username: \"\",\r\n    password: \"\",\r\n  });\r\n  const [session, setSession] = useState(false)\r\n  const [showPassword, setShowPassword] = useState(\"password\")\r\n\r\n\r\n  useEffect(() => {\r\n  let sessionActive = localStorage.getItem(\"session\")\r\n  let user_id = localStorage.getItem(\"user_id\")\r\n  if(sessionActive&&user_id){\r\n    navigate(\"/main\")\r\n  }\r\n  \r\n  \r\n  }, [])\r\n  \r\n  const submitCreds = () => {\r\n    axios\r\n      .post(\"http://192.168.1.166:5000/api/init\",\r\n        {\r\n          ...credentials,\r\n        }\r\n      )\r\n      .then((res) => {\r\n        console.log(res.data);\r\n        localStorage.setItem(\"staff\", res.data.staff);\r\n        localStorage.setItem(\"user_id\", res.data.user_id);\r\n        localStorage.setItem(\"session\",session)\r\n        localStorage.setItem(\"currency\", res.data.currency);\r\n        dispatch(storeClients({ clients: res.data.clients }));\r\n        setAlert({ show: true, msg: t(\"success\"), variant: \"success\" });\r\n        axios\r\n          .post(\r\n            \"http://192.168.1.166:5000/api/getCaisse\",\r\n            {\r\n              user_id: res.data.user_id,\r\n            }\r\n          )\r\n          .then((res) => {\r\n            localStorage.setItem(\"caisse_id\", res.data.id);\r\n            localStorage.setItem(\r\n              \"caisse_open\",\r\n              res.data.is_open == true ? 1 : 0\r\n            );\r\n          });\r\n        setTimeout(() => {\r\n          navigate(\"/\");\r\n        }, 1000);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        localStorage.removeItem(\"staff\");\r\n        setAlert({\r\n          show: true,\r\n          msg: t(\"verifyUserAndPassword\"),\r\n          variant: \"danger\",\r\n        });\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className=\"authincation h-100 c\">\r\n      <div className=\"container h-100\">\r\n        <div className=\"row justify-content-center h-100 align-items-center\">\r\n          <div className=\"col-md-6\" >\r\n            <div className=\"authincation-content\" >\r\n              <div className=\"row no-gutters\" >\r\n                <div className=\"col-xl-12\" style={{position:\"relative\"}} >\r\n                  <div className=\"row\" >\r\n                    <div className=\"col-5 mx-auto top\">\r\n                      <br />\r\n                      <div className=\"text-center \" >\r\n                        <img\r\n                          className=\"logo-compact \"\r\n                          src={logo}\r\n                          width=\"100%\"\r\n                          alt=\"\"\r\n                        />\r\n                        <h1 style={{color:\"red\",textAlign:\"center\",fontSize:\"small\",marginTop:\"1rem\",fontWeight:\"700\",width:\"100%\"}} >Assistant:ILAN <br/> + 33 6 25 25 54 52</h1>\r\n                      </div>\r\n\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"auth-form\">\r\n                    <h4 className=\"text-center mb-4\">\r\n                      Connectez-vous  votre compte\r\n                    </h4>\r\n                    <form>\r\n                      <div className=\"form-group\">\r\n                        <label className=\"mb-1 pull-left\">\r\n                          <strong>{t(\"username\")}</strong>\r\n                        </label>\r\n                        <input\r\n                          onChange={(e) =>\r\n                            setCredentials({\r\n                              ...credentials,\r\n                              username: e.target.value,\r\n                            })\r\n                          }\r\n                          type=\"text\"\r\n                          className=\"form-control\"\r\n                          placeholder=\"Nom d'utilisateur\"\r\n                          autocomplete=\"off\"\r\n                        />\r\n                      </div>\r\n                      <div className=\"form-group\" >\r\n                        <label className=\"mb-1 pull-left\">\r\n                          <strong>{t(\"password\")}</strong>\r\n                        </label>\r\n                        {showPassword==\"password\"?<FontAwesomeIcon icon={faEye} onClick={()=>setShowPassword(\"text\")} style={{position:\"absolute\",right:\"4%\" ,bottom:\"27.5%\"}} />:\r\n                        <FontAwesomeIcon icon={faEyeSlash} onClick={()=>setShowPassword(\"password\")}  style={{position:\"absolute\",right:\"4%\" ,bottom:\"27.5%\"}}/>\r\n                        }\r\n                        <input\r\n                          onChange={(e) =>\r\n                            setCredentials({\r\n                              ...credentials,\r\n                              password: e.target.value,\r\n                            })\r\n                          }\r\n                          type={showPassword}\r\n                          className=\"form-control\"\r\n                          placeholder=\"Mot de passe\"\r\n                          autocomplete=\"new-password\"\r\n                          v-model=\"User.MotDePasse\"\r\n                          \r\n                        />\r\n                       \r\n                      </div>\r\n                      <div className=\"form-row d-flex justify-content-between mt-4 mb-2\">\r\n                        <div className=\"form-group\">\r\n                          <div className=\"custom-control custom-checkbox ml-1\">\r\n                            <input\r\n                              type=\"checkbox\"\r\n                              className=\"custom-control-input\"\r\n                              id=\"basic_checkbox_1\"\r\n                              onChange={(e)=>setSession(e.target.checked)}\r\n                            />\r\n                            <label\r\n                              className=\"custom-control-label\"\r\n                              for=\"basic_checkbox_1\"\r\n                            >\r\n                              Gardez-moi connect\r\n                            </label>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <div\r\n                        className=\"alert alert-danger alert-dismissible fade show hidden\"\r\n                        id=\"error\"\r\n                      >\r\n                        <svg\r\n                          viewBox=\"0 0 24 24\"\r\n                          width=\"24\"\r\n                          height=\"24\"\r\n                          stroke=\"currentColor\"\r\n                          stroke-width=\"2\"\r\n                          fill=\"none\"\r\n                          stroke-linecap=\"round\"\r\n                          stroke-linejoin=\"round\"\r\n                          className=\"mr-2\"\r\n                        >\r\n                          <polygon points=\"7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2\"></polygon>\r\n                          <line x1=\"15\" y1=\"9\" x2=\"9\" y2=\"15\"></line>\r\n                          <line x1=\"9\" y1=\"9\" x2=\"15\" y2=\"15\"></line>\r\n                        </svg>\r\n                        <strong id=\"errorMessage\"></strong>\r\n                      </div>\r\n                    </form>\r\n                    <div className=\"text-center col-12\">\r\n                      <Button\r\n                        variant=\"warning\"\r\n                        size=\"lg\"\r\n                        onClick={() => submitCreds()}\r\n                      >\r\n                        <FontAwesomeIcon icon={faLockOpen} /> Se connecter\r\n                      </Button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            {alert.show ? (\r\n              <Alert variant={alert.variant}>{alert.msg}</Alert>\r\n            ) : (\r\n              \"\"\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Init;\r\n","import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\r\n\r\nconst initialState = {\r\n  orders: [],\r\n  checkoutData: [],\r\n  currentOrders: [],\r\n  selectedTable: {},\r\n  client: {},\r\n  nbrCouverts: 0,\r\n  remarque: \"\",\r\n  orderType:\"sur place\",\r\n  ordersPartage :[],\r\n  partNotPaid:0\r\n};\r\n\r\n\r\nconst orderSlice = createSlice({\r\n  name: \"order\",\r\n  initialState,\r\n  reducers: {\r\n    setRemarque: (state, action) => {\r\n      state.remarque = action.payload.remarque;\r\n    },\r\n    storeSelectedTable: (state, action) => {\r\n      console.log(action.payload);\r\n      state.selectedTable = action.payload.selectedTable;\r\n    },\r\n    setNbrCouverts: (state, action) => {\r\n      state.nbrCouverts = action.payload.nbrCouverts;\r\n    },\r\n    setNewCurrentOrder: (state, action) => {\r\n      state.currentOrders = [...state.currentOrders, action.payload.order];\r\n    },\r\n    setNewOrder: (state, action) => {\r\n      let i = state.orders.findIndex(\r\n        (order) => order.id == action.payload.order.id\r\n      );\r\n      let ordersCopy = [...state.orders];\r\n     \r\n      if(i!=-1 && !action.payload.order.is_supp){\r\n        ordersCopy[i]={...ordersCopy[i],qt:ordersCopy[i].qt+1}\r\n        state.orders=[...ordersCopy]\r\n      }else{\r\n        state.orders = [...state.orders, action.payload.order];\r\n      }\r\n    \r\n   \r\n    },\r\n    setOrderChange: (state, action) => {\r\n      let i = state.orders.findIndex(\r\n        (order) => order.id == action.payload.order.id\r\n      );\r\n      let ordersCopy = [...state.orders];\r\n\r\n      ordersCopy[action.payload.key] = action.payload.order;\r\n      state.orders = [...ordersCopy];\r\n    },\r\n    deleteOrder: (state, action) => {\r\n      state.orders = state.orders.filter(\r\n        (_, index) => index != action.payload.key\r\n      );\r\n    },\r\n    clearOrders: (state, action) => {\r\n      state.orders = [];\r\n    },\r\n    clearData: (state, action) => {\r\n      state.checkoutData = [];\r\n    },\r\n    addNewcheckoutData: (state, action) => {\r\n      let check = state.checkoutData.some(\r\n        (e) => e.order_id == action.payload.order.order_id\r\n      );\r\n      if(!check){\r\n        state.checkoutData = [...state.checkoutData, action.payload.order];\r\n        \r\n      }   \r\n      \r\n     \r\n    },\r\n    addNewcheckoutDataFromDB: (state, action) => {\r\n      let i = state.checkoutData.findIndex(\r\n        (el) => el.order_id == action.payload.order.order_id\r\n      );\r\n     \r\n      \r\n      if (i == -1) {\r\n        let orderFromDb = action.payload.order.orderItems.map(item=>{\r\n          return item = {...item,qt:item.quantity}\r\n         \r\n        })\r\n        let taxPrice = action.payload.order.tva*action.payload.order.price/100\r\n        \r\n        state.checkoutData = [...state.checkoutData, {...action.payload.order,orderItems:orderFromDb,orderType:action.payload.order.order_type,taxPrice:taxPrice}];\r\n      }\r\n    },\r\n    deletecheckoutData: (state, action) => {\r\n      state.checkoutData = state.checkoutData.filter(\r\n        (x) => x.order_id != action.payload.order_id\r\n      );\r\n    },\r\n    setCheckoutChange: (state, action) => {\r\n      let i = state.checkoutData.findIndex(\r\n        (order) => order.order_id == action.payload.order.order_id\r\n      );\r\n      let ordersCopy = [...state.checkoutData];\r\n      ordersCopy[i] = action.payload.order;\r\n      state.checkoutData = [...ordersCopy];\r\n    },\r\n    initClient: (state, action) => {\r\n     \r\n      state.client = action.payload.client;\r\n    },\r\n    deleteClientandTable: (state, action) => {\r\n      state.client = {};\r\n      state.selectedTable = {};\r\n    },\r\n    cancelOrder:(state,action)=>{\r\n      \r\n      let x=[...state.checkoutData]\r\n      x.forEach(e=>{\r\n        if ( e.order_id==action.payload.order_id){\r\n          e=action.payload\r\n      \r\n          state.checkoutData=[]\r\n        }\r\n        \r\n      })\r\n      \r\n    },\r\n    setType :(state,action)=>{\r\n      state.orderType = action.payload\r\n    },\r\n    setOrderPartage:(state,action)=>{\r\n  \r\n     state.ordersPartage= action.payload\r\n    \r\n    },\r\n    editordersPartage:(state,action)=>{\r\n      if(action.payload.amount<=0){\r\n        state.partNotPaid = state.partNotPaid -1\r\n      }\r\n      let i = state.ordersPartage.findIndex(\r\n        (order) => order.partId == action.payload.partId\r\n      );\r\n      let Copy = [...state.ordersPartage];\r\n      Copy[i] = action.payload;\r\n      state.ordersPartage = [...Copy];\r\n    },\r\n    clearOrdersPartage:(state,action)=>{\r\n      state.ordersPartage =[]\r\n    },\r\n    setPartNotPaid :(state,action)=>{\r\n      state.partNotPaid= action.payload\r\n    },\r\n    updateReapartirItems:(state,action)=>{\r\n      let copy = [...state.ordersPartage]\r\n      let disIndex =Number(action.payload.destination.droppableId)\r\n      let sourceIndex =Number(action.payload.source.droppableId)\r\n      let itemId =Number(action.payload.draggableId)\r\n      if(disIndex!=sourceIndex){\r\n        copy[disIndex]={\r\n          ...copy[disIndex],\r\n          orderItems:[...copy[disIndex].orderItems,copy[sourceIndex].orderItems.filter(el=>el.repatirId==itemId)[0]],\r\n          totalPrice:copy[disIndex].totalPrice+copy[sourceIndex].orderItems.filter(el=>el.repatirId==itemId)[0].price,\r\n          amount:copy[disIndex].totalPrice+copy[sourceIndex].orderItems.filter(el=>el.repatirId==itemId)[0].price\r\n        }\r\n        copy[sourceIndex]={\r\n          ...copy[sourceIndex],\r\n          orderItems:copy[sourceIndex].orderItems.filter(el=>el.repatirId!=itemId),\r\n          totalPrice: copy[sourceIndex].totalPrice-copy[sourceIndex].orderItems.filter(el=>el.repatirId==itemId)[0].price,\r\n          amount:copy[sourceIndex].totalPrice-copy[sourceIndex].orderItems.filter(el=>el.repatirId==itemId)[0].price\r\n        }\r\n       state.ordersPartage =[...copy]\r\n      }\r\n      \r\n    }\r\n    \r\n\r\n    \r\n  },\r\n});\r\n\r\nconst { reducer } = orderSlice;\r\nexport const {\r\n  storeSelectedTable,\r\n  setNbrCouverts,\r\n  setNewOrder,\r\n  setOrderChange,\r\n  deleteOrder,\r\n  addNewcheckoutData,\r\n  clearOrders,\r\n  deletecheckoutData,\r\n  initClient,\r\n  deleteClientandTable,\r\n  setNewCurrentOrder,\r\n  setCheckoutChange,\r\n  addNewcheckoutDataFromDB,\r\n  setRemarque,\r\n  cancelOrder,\r\n  clearData,\r\n  setType,\r\n  setOrderPartage,\r\n  editordersPartage,\r\n  clearOrdersPartage,\r\n  setPartNotPaid,\r\n  updateReapartirItems\r\n} = orderSlice.actions;\r\nexport default reducer;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Button, Modal, Table } from \"react-bootstrap\";\r\nimport useTranslation from \"./../i18\";\r\nimport { initClient, setType, storeSelectedTable } from \"../Slices/order\";\r\nimport { useNavigate } from \"react-router\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\n\r\nimport { faCheck, faUtensils } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nconst Tables = ({ selectedZone }) => {\r\n  const { t } = useTranslation();\r\n  let rowLayout = [...Array(12).keys()];\r\n  const tables = useSelector((state) => state.data.tables);\r\n  const orders = useSelector((state) => state.order.checkoutData);\r\n  const [selectedTable, setSelectedTable] = useState({});\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [ppl, setPpl] = useState(0);\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n\r\n  const table = (e) => {\r\n    return tables\r\n      .filter((t) => t.zone_id == selectedZone)\r\n      .find((table) => table.position == e);\r\n  };\r\n  const onTableClick = (e) => {\r\n    if (table(e) != undefined && table(e).active != 0) {\r\n      setSelectedTable({\r\n        id: table(e).id,\r\n        nbr: table(e).numero,\r\n        ppl: table(e).nbrePersonne,\r\n        libre: table(e).libre,\r\n        nbrCouverts: 1,\r\n      });\r\n      if (table(e).libre == false) {\r\n        let myorder = orders.filter(\r\n          (one) => one.table_number == table(e).id && one.status!=\"completed\"\r\n        )[0];\r\n\r\n        navigate(`/checkout/${myorder.order_id}`);\r\n      } else {\r\n        setShowModal(true);\r\n      }\r\n    }\r\n  };\r\n  const toMenu = () => {\r\n    setShowModal(false);\r\n    console.log(selectedTable);\r\n    dispatch(storeSelectedTable({ selectedTable }));\r\n    dispatch(initClient({ client: { type: \"sur place\" } }));\r\n    dispatch(setType(\"sur place\"))\r\n    setTimeout(() => {\r\n      navigate(\"/menu\");\r\n    }, 300);\r\n  };\r\n\r\n  const handleCheckout = () => {\r\n    navigate(`/checkout/${selectedTable.id}`);\r\n  };\r\n\r\n  return (\r\n    <div style={{ marginTop: \"1rem\" }}>\r\n      <div style={{ display: \"flex\", flexWrap: \"wrap\" }}>\r\n        <Table style={{  }}>\r\n          <tbody>\r\n            <tr>\r\n              {rowLayout.map((e) => (\r\n                <td>\r\n                  <Button \r\n                    className={\r\n                      table(e)?.type == \"rond\" ? \"table_btn round\" : \"table_btn\" \r\n                    }\r\n                    variant={\r\n                      table(e)\r\n                        ? table(e)?.active\r\n                          ? table(e)?.libre\r\n                            ? \"success\"\r\n                            : \"danger\"\r\n                          : \"secondary\"\r\n                        : \"dark\"\r\n                    }\r\n                    onClick={() => onTableClick(e)}\r\n                  >\r\n                    {table(e)?.numero}\r\n                  </Button>\r\n                </td>\r\n              ))}\r\n            </tr>\r\n            <tr>\r\n              {rowLayout\r\n                .map((x) => x + 12)\r\n                .map((e) => (\r\n                  <td>\r\n                    <Button\r\n                      className={\r\n                        table(e)?.type == \"rond\"\r\n                          ? \"table_btn round\"\r\n                          : \"table_btn\"\r\n                      }\r\n                      variant={\r\n                        table(e)\r\n                          ? table(e)?.active\r\n                            ? table(e)?.libre\r\n                              ? \"success\"\r\n                              : \"danger\"\r\n                            : \"secondary\"\r\n                          : \"dark\"\r\n                      }\r\n                      onClick={() => onTableClick(e)}\r\n                    >\r\n                      {table(e)?.numero}\r\n                    </Button>\r\n                  </td>\r\n                ))}\r\n            </tr>\r\n            <tr>\r\n              {rowLayout\r\n                .map((x) => x + 24)\r\n                .map((e) => (\r\n                  <td>\r\n                    <Button\r\n                      className={\r\n                        table(e)?.type == \"rond\"\r\n                          ? \"table_btn round\"\r\n                          : \"table_btn\"\r\n                      }\r\n                      variant={\r\n                        table(e)\r\n                          ? table(e)?.active\r\n                            ? table(e)?.libre\r\n                              ? \"success\"\r\n                              : \"danger\"\r\n                            : \"secondary\"\r\n                          : \"dark\"\r\n                      }\r\n                      onClick={() => onTableClick(e)}\r\n                    >\r\n                      {table(e)?.numero}\r\n                    </Button>\r\n                  </td>\r\n                ))}\r\n            </tr>\r\n            <tr>\r\n              {rowLayout\r\n                .map((x) => x + 36)\r\n                .map((e) => (\r\n                  <td>\r\n                    <Button\r\n                      className={\r\n                        table(e)?.type == \"rond\"\r\n                          ? \"table_btn round\"\r\n                          : \"table_btn\"\r\n                      }\r\n                      variant={\r\n                        table(e)\r\n                          ? table(e)?.active\r\n                            ? table(e)?.libre\r\n                              ? \"success\"\r\n                              : \"danger\"\r\n                            : \"secondary\"\r\n                          : \"dark\"\r\n                      }\r\n                      onClick={() => onTableClick(e)}\r\n                    >\r\n                      {table(e)?.numero}\r\n                    </Button>\r\n                  </td>\r\n                ))}\r\n            </tr>\r\n            <tr>\r\n              {rowLayout\r\n                .map((x) => x + 48)\r\n                .map((e) => (\r\n                  <td>\r\n                    <Button\r\n                      className={\r\n                        table(e)?.type == \"rond\"\r\n                          ? \"table_btn round\"\r\n                          : \"table_btn\"\r\n                      }\r\n                      variant={\r\n                        table(e)\r\n                          ? table(e)?.active\r\n                            ? table(e)?.libre\r\n                              ? \"success\"\r\n                              : \"danger\"\r\n                            : \"secondary\"\r\n                          : \"dark\"\r\n                      }\r\n                      onClick={() => onTableClick(e)}\r\n                    >\r\n                      {table(e)?.numero}\r\n                    </Button>\r\n                  </td>\r\n                ))}\r\n            </tr>\r\n            <tr>\r\n              {rowLayout\r\n                .map((x) => x + 60)\r\n                .map((e) => (\r\n                  <td>\r\n                    <Button\r\n                      className={\r\n                        table(e)?.type == \"rond\"\r\n                          ? \"table_btn round\"\r\n                          : \"table_btn\"\r\n                      }\r\n                      variant={\r\n                        table(e)\r\n                          ? table(e)?.active\r\n                            ? table(e)?.libre\r\n                              ? \"success\"\r\n                              : \"danger\"\r\n                            : \"secondary\"\r\n                          : \"dark\"\r\n                      }\r\n                      onClick={() => onTableClick(e)}\r\n                    >\r\n                      {table(e)?.numero}\r\n                    </Button>\r\n                  </td>\r\n                ))}\r\n            </tr>\r\n          </tbody>\r\n        </Table>\r\n      </div>\r\n      <Modal show={showModal} onHide={() => setShowModal(false)}>\r\n        {selectedTable.libre == true ? (\r\n          <>\r\n            <Modal.Header closeButton>\r\n              <Modal.Title>\r\n                <h5 style={{ fontSize: \"24px\" }}>\r\n                  <FontAwesomeIcon\r\n                    icon={faUtensils}\r\n                    style={{ marginRight: \"1rem\" }}\r\n                  />\r\n                  {t(\"newTable\")}\r\n                </h5>\r\n              </Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n              {t(\"nbrCouverts\")}\r\n              {Array.from({ length: selectedTable.ppl }, (_, i) => i + 1).map(\r\n                (e) => (\r\n                  <Button\r\n                    className=\"ml\"\r\n                    onClick={() => {\r\n                      setSelectedTable({ ...selectedTable, nbrCouverts: e });\r\n                      console.log(selectedTable);\r\n                    }}\r\n                    variant={\r\n                      selectedTable?.nbrCouverts == e ? \"warning\" : \"dark\"\r\n                    }\r\n                    style={{\r\n                      backgroundColor:\r\n                        selectedTable?.nbrCouverts == e ? \"#ff6b6b\" : \"black\",\r\n                      borderColor:\r\n                        selectedTable?.nbrCouverts == e ? \"#ff6b6b\" : \"black\",\r\n                    }}\r\n                  >\r\n                    {e}\r\n                  </Button>\r\n                )\r\n              )}\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n              <Button variant=\"secondary\" onClick={() => setShowModal(false)}>\r\n                {t(\"cancel\")}\r\n              </Button>\r\n              <Button\r\n                style={{ backgroundColor: \"#ff6b6b\", borderColor: \"#ff6b6b\" }}\r\n                variant=\"warning\"\r\n                onClick={() => toMenu()}\r\n              >\r\n                <FontAwesomeIcon\r\n                  icon={faCheck}\r\n                  style={{ marginRight: \"0.5rem\" }}\r\n                />\r\n                {t(\"validate\")}\r\n              </Button>\r\n            </Modal.Footer>\r\n          </>\r\n        ) : (\r\n          <Modal.Body>\r\n            <Button variant=\"danger\" onClick={() => handleCheckout()}>\r\n              Checkout !\r\n            </Button>\r\n          </Modal.Body>\r\n        )}\r\n      </Modal>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Tables;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { storeTables, storeZones } from \"../Slices/data\";\r\nimport { Button, Offcanvas, Stack } from \"react-bootstrap\";\r\nimport Tables from \"./Tables\";\r\nimport \"./respensive.css\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n  faAddressBook,\r\n  faBars,\r\n  faBorderAll,\r\n  faCashRegister,\r\n  faDesktop,\r\n  faHistory,\r\n  faMotorcycle,\r\n  faStickyNote,\r\n  faUsers,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport { useNavigate } from \"react-router\";\r\n\r\nconst Zones = () => {\r\n  const ping = useSelector((state) => state.data.ping);\r\n  const user_id = localStorage.getItem(\"user_id\");\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n  const [selectedZone, setSelectedZone] = useState(\"\");\r\n  const zones = useSelector((state) => state.data.zones);\r\n  const checkoutData = useSelector((state) => state.order.checkoutData);\r\n  const [show, setShow] = useState(false);\r\n  \r\n\r\n  const handleClose = () => setShow(false);\r\n  const handleShow = () => setShow(true);\r\n\r\n  useEffect(() => {\r\n    \r\n    axios\r\n      .post(\r\n       \"http://192.168.1.166:5000/api/getUserZones\",\r\n        {\r\n          user_id,\r\n        }\r\n      )\r\n      .then((res) => {\r\n      \r\n        dispatch(storeZones({ zones: res.data.zones }));\r\n        dispatch(storeTables({ tables: res.data.tables }));\r\n        setSelectedZone(zones[0]?.id);\r\n      });\r\n  }, [checkoutData,ping]);\r\n\r\n  return (\r\n    <div>\r\n      <FontAwesomeIcon\r\n        icon={faBars}\r\n        style={{\r\n          position: \"absolute\",\r\n          right: \"1rem\",\r\n          top: \"1rem\",\r\n          cursor: \"pointer\",\r\n        }}\r\n        size=\"2x\"\r\n        color=\"white\"\r\n        onClick={handleShow}\r\n      />\r\n      <div className=\"zone\"\r\n        style={{\r\n          display: \"flex\",\r\n          justifyContent: \"center\",\r\n          marginTop: \"1.5rem\",\r\n          height: \"45px\",\r\n        }}\r\n      >\r\n        <h2 className=\"plan-restuarnat\"  style={{ position: \"absolute\", left: \"3.5%\" }}>\r\n          <b>Plan du Restaurant</b>\r\n        </h2>\r\n        {zones.map((zone) => (\r\n          <Button\r\n          className=\"zone_button\"\r\n            style={{ marginLeft: \"1rem\" }}\r\n            onClick={() => setSelectedZone(zone.id)}\r\n            variant={selectedZone == zone.id ? \"dark\" : \"outline-dark\"}\r\n          >\r\n            {zone.nom}\r\n          </Button>\r\n        ))}\r\n      </div>\r\n      <Tables selectedZone={selectedZone} />\r\n      <Offcanvas placement=\"end\" show={show} onHide={handleClose}>\r\n        <Offcanvas.Header closeButton>\r\n          <Offcanvas.Title>menu</Offcanvas.Title>\r\n        </Offcanvas.Header>\r\n        <Offcanvas.Body>\r\n          <div className=\"my_offcanvas\">\r\n            <div className=\"offcanvas_item\" onClick={()=>navigate(\"/backoffice\")}>\r\n              <FontAwesomeIcon icon={faDesktop} />\r\n              <p>Accder aux back-Office</p>\r\n            </div>\r\n            <div\r\n              className=\"offcanvas_item\"\r\n              onClick={() => navigate(\"/clients\")}\r\n            >\r\n              <FontAwesomeIcon icon={faUsers} />\r\n              <p>Gestion des clients</p>\r\n            </div>\r\n            <div className=\"offcanvas_item\">\r\n              <FontAwesomeIcon icon={faMotorcycle} />\r\n              <p>Commandes a livrer</p>\r\n            </div>\r\n            <div className=\"offcanvas_item\">\r\n              <FontAwesomeIcon icon={faAddressBook} />\r\n              <p>Commandes a emporter</p>\r\n            </div>\r\n            <div className=\"offcanvas_item\" onClick={()=>navigate(\"/avoires\")}>\r\n              <FontAwesomeIcon icon={faStickyNote} />\r\n              <p>Gestion des avoirs</p>\r\n            </div>\r\n            <div className=\"offcanvas_item\" onClick={()=>navigate(\"/cloture\")}>\r\n              <FontAwesomeIcon icon={faCashRegister} />\r\n              <p>Cloture de caisse</p>\r\n            </div>\r\n            <div className=\"offcanvas_item\">\r\n              <FontAwesomeIcon icon={faBorderAll} />\r\n              <p>Cumuler les tables</p>\r\n            </div>\r\n            <div className=\"offcanvas_item\">\r\n              <FontAwesomeIcon icon={faHistory} />\r\n              <p>Rappel ticket</p>\r\n            </div>\r\n          </div>\r\n        </Offcanvas.Body>\r\n      </Offcanvas>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Zones;\r\n","export default __webpack_public_path__ + \"static/media/bg.74e24a49.jpeg\";","export default __webpack_public_path__ + \"static/media/loading.30c0aa7c.gif\";","import React, { useEffect, useState } from \"react\";\r\nimport {\r\n  Badge,\r\n  Breadcrumb,\r\n  Button,\r\n  Col,\r\n  Container,\r\n  Form,\r\n  FormGroup,\r\n  Modal,\r\n  Nav,\r\n  Navbar,\r\n  Row,\r\n  Tab,\r\n  Tabs,\r\n} from \"react-bootstrap\";\r\n\r\nimport Swal from \"sweetalert2\";\r\n\r\nimport {\r\n  storeCategories,\r\n  storeNSteps,\r\n  storeOrderHistory,\r\n  storeProducts,\r\n  storeTvaMode,\r\n} from \"../Slices/data\";\r\nimport { addNewcheckoutDataFromDB, setType } from \"../Slices/order\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useNavigate, useParams } from \"react-router\";\r\nimport {\r\n  clearOrders,\r\n  deleteClientandTable,\r\n  initClient,\r\n  setRemarque,\r\n  storeSelectedTable,\r\n} from \"../Slices/order\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\n\r\nimport {\r\n  faCheckSquare,\r\n  faEdit,\r\n  faHistory,\r\n  faLockOpen,\r\n  faPlus,\r\n  faPrint,\r\n  faStickyNote,\r\n  faTimes,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport timespan from \"jsonwebtoken/lib/timespan\";\r\nimport { Typeahead } from \"react-bootstrap-typeahead\";\r\nimport axios from \"axios\";\r\nimport { storeClients } from \"../Slices/data\";\r\nimport loading from \"../Shared/loading.gif\";\r\nimport { BiTransfer } from \"react-icons/bi\";\r\n\r\nconst NaviBottom = () => {\r\n  const user_id = localStorage.getItem(\"user_id\");\r\n  const zones = useSelector((state) => state.data.zones);\r\n  const [selectedZone, setSelectedZone] = useState(\"\");\r\n  const tables = useSelector((state) => state.data.tables);\r\n  const ordersHistory = useSelector((state) => state.data.orderHistory);\r\n  console.log(\"ordersHistory\",ordersHistory)\r\n  const checkoutData = useSelector((state) => state.order.checkoutData);\r\n  const clients = useSelector((state) => state.data.clients);\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n  let freeTables = tables?.filter((table) => table.libre == true)?.length;\r\n  let busyTables = tables?.filter((table) => table.libre == false)?.length;\r\n  const [show, setShow] = useState(false);\r\n  const [showNote, setShowNote] = useState(false);\r\n  const [showHistoryButton, setshowHistoryButton] = useState(false);\r\n\r\n  const [note, setnote] = useState(\"\");\r\n\r\n  var ID = function () {\r\n    return Number(\r\n      Math.floor(Math.random() * Date.now())\r\n        .toString()\r\n        .substring(11)\r\n    );\r\n  };\r\n\r\n  const path = window.location.hash;\r\n\r\n  let clientsData = clients.map((client) => client.nom_prenom);\r\n  const orders = useSelector((state) => state.data.orderHistory) || [];\r\n  var curr = new Date();\r\n  var date = curr.toISOString().substr(0, 10);\r\n  var time = curr.getHours() + \":\" + curr.getMinutes();\r\n  let avenir = checkoutData?.filter((e) => e.date > date)?.length || 0;\r\n  let enCours =\r\n    checkoutData?.filter((e) => (e.status == \"pending\" ||e.status==\"cooking\"||e.status==\"ready\")&& e.date == date)\r\n      ?.length || 0;\r\n  let annuler =\r\n    checkoutData?.filter((e) => e.status == \"rejected\")?.length || 0;\r\n\r\n  let orderNbr =\r\n    ordersHistory?.filter((e) => e.status == \"completed\")?.length || 0;\r\n  const handleAddNote = () => {\r\n    dispatch(setRemarque({ remarque: note }));\r\n    setShowNote(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .post(\r\n        \"http://192.168.1.166:5000/api/getclients\",\r\n        {\r\n          user_id,\r\n        }\r\n      )\r\n      .then((res) => {\r\n        dispatch(storeClients({ clients: res.data.clients }));\r\n      });\r\n  }, []);\r\n  const [orderHistory, setOrderHistory] = useState([]);\r\n\r\n\r\n  const [orderLoding, setOrderLoding] = useState(false);\r\n  const [selectedTable, setSelectedTable] = useState({});\r\n  const [newClient, setnewClient] = useState({});\r\n  const [showHistory, setshowHistory] = useState(false);\r\n  const [Table_nbr, setTable_nbr] = useState(0);\r\n  const [old, setOld] = useState(false);\r\n  const [textorder_id, settextorder_id] = useState(\"\");\r\n\r\n  const [client, setClient] = useState({\r\n    prenom: \"\",\r\n    company: \"\",\r\n    code1: \"\",\r\n    code2: \"\",\r\n    etage: \"\",\r\n    interphone: \"\",\r\n    name: \"\",\r\n    phone: \"\",\r\n    address: \"\",\r\n    post: \"\",\r\n    city: \"\",\r\n    message: \"\",\r\n    email: \"\",\r\n    type: \"emporter\",\r\n    nbrCouverts: 1,\r\n    id: ID(),\r\n    date: date,\r\n    time: time,\r\n  });\r\n\r\n  const table = (e) => {\r\n    return tables.find((table) => table.numero == e);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setShow(false);\r\n    setshowHistory(false);\r\n  };\r\n  const handleShow = () => setShow(true);\r\n\r\n  const handleNewOrder = () => {\r\n    dispatch(deleteClientandTable());\r\n    handleShow();\r\n  };\r\n\r\n  const handleGetOrders = async () => {\r\n    setOrderLoding(true);\r\n    const caisse_id = localStorage.getItem(\"caisse_id\");\r\n    await axios\r\n      .post(\r\n        \"http://192.168.1.166:5000/api/getallorders\",\r\n        {\r\n          user_id,\r\n          caisse_id,\r\n          customer_id: client.id,\r\n        }\r\n      )\r\n      .then((res) => {\r\n        console.log({ zboub: res.data });\r\n        setOrderHistory(res.data);\r\n        setOrderLoding(false);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n  // const handleCreate = async () => {\r\n  //   if (old == false) {\r\n  //     await axios\r\n  //       .post(\"/api/createClient\", {\r\n  //         user_id,\r\n  //         client: {\r\n  //           etage: client.etage || 0,\r\n  //           interphone: client.interphone || 0,\r\n  //           supprimer: 0,\r\n  //           societe: client.company || \"\",\r\n  //           nom_prenom: client.name || \"\",\r\n  //           telephone: client.phone || \"\",\r\n  //           adresse: client.address || \"\",\r\n  //           code_postal: client.post || 0,\r\n  //           ville: client.city || \"\",\r\n  //           email: client.email || \"\",\r\n  //           code_1: client.code1 || \"\",\r\n  //           code_2: client.code2 || \"\",\r\n  //         },\r\n  //       })\r\n  //       .then((res) => {\r\n  //         setClient({ ...client, id: res.data.id });\r\n  //        console.log({ client: client.id, data: res.data });\r\n  //       })\r\n  //       .catch((err) => console.log(err));\r\n  //   }\r\n  //   if (client?.type == \"sur place\") {\r\n  //     console.log(table(Table_nbr).id);\r\n  //     dispatch(\r\n  //       storeSelectedTable({\r\n  //         selectedTable: {\r\n  //           id: table(Table_nbr).id,\r\n  //           nbr: table(Table_nbr).numero,\r\n  //           ppl: table(Table_nbr).nbrePersonne,\r\n  //           libre: table(Table_nbr).libre,\r\n  //           nbrCouverts: 1,\r\n  //         },\r\n  //       })\r\n  //     );\r\n  //     handleClose();\r\n  //     navigate(\"/menu\");\r\n  //   }\r\n  //   dispatch(initClient({ client }));\r\n\r\n  // };\r\n  const handleCreate = () => {\r\n    if (old == false) {\r\n      axios\r\n        .post(\r\n          \"http://192.168.1.166:5000//api/createClient\",\r\n          {\r\n            user_id,\r\n            client: {\r\n              etage: client.etage || 0,\r\n              interphone: client.interphone || 0,\r\n              supprimer: 0,\r\n              societe: client.company || \"\",\r\n              nom_prenom: client.name || \"\",\r\n              telephone: client.phone || \"\",\r\n              adresse: client.address || \"\",\r\n              code_postal: client.post || 0,\r\n              ville: client.city || \"\",\r\n              email: client.email || \"\",\r\n              code_1: client.code1 || \"\",\r\n              code_2: client.code2 || \"\",\r\n            },\r\n          }\r\n        )\r\n        .then((res) => {\r\n\r\n          setClient({ ...client, id: res.data.id });\r\n          dispatch(initClient({ client: { ...client, id: res.data.id } }));\r\n        })\r\n        .catch((err) => console.log(err));\r\n    } else {\r\n      dispatch(initClient({ client }));\r\n    }\r\n    if (client.type == \"sur place\") {\r\n      \r\n    if (Table_nbr==0)\r\n    {\r\n      Swal.fire({\r\n        title: \"Selectioner une table !\",\r\n      });\r\n    }\r\n    else{\r\n      dispatch(\r\n        storeSelectedTable({\r\n          selectedTable: {\r\n            id: table(Table_nbr).id,\r\n            nbr: table(Table_nbr).numero,\r\n            ppl: table(Table_nbr).nbrePersonne,\r\n            libre: table(Table_nbr).libre,\r\n            nbrCouverts: 1,\r\n          },\r\n        })\r\n      );\r\n      handleClose();\r\n      \r\n      navigate(\"/menu\");\r\n    }     \r\n    }\r\nif(client.type!=\"sur place\")\r\n{\r\n  handleClose();\r\n    navigate(\"/menu\");\r\n}\r\n    \r\n  };\r\n\r\n  const handleSelection = (x) => {\r\n    setshowHistoryButton(true);\r\n    setOld(true);\r\n    let selectedClient = clients?.filter(\r\n      (e) =>\r\n        e.nom_prenom?.toLowerCase().includes(x?.toLowerCase()) ||\r\n        e.telephone?.toLowerCase().includes(x?.toLowerCase()) ||\r\n        e.email?.toLowerCase().includes(x?.toLowerCase())\r\n    )[0];\r\n\r\n   \r\n    if (selectedClient) {\r\n      setClient({\r\n        ...client,\r\n        id: selectedClient.id,\r\n        prenom: selectedClient.nom_prenom,\r\n        company: selectedClient.societe,\r\n        code1: selectedClient.code_1,\r\n        code2: selectedClient.code_2,\r\n        etage: selectedClient.etage,\r\n        interphone: selectedClient.interphone,\r\n        name: selectedClient.nom_prenom,\r\n        phone: selectedClient.telephone,\r\n        address: selectedClient.adresse,\r\n        post: selectedClient.code_postal,\r\n        city: selectedClient.ville,\r\n        email: selectedClient.email,\r\n      });\r\n    }\r\n  };\r\n  //test\r\n\r\n  const handlePrint = (newOrder) => {\r\n    \r\n    let order = {\r\n      table: newOrder?.table_number || \"\",\r\n      client_id: newOrder?.customer_id || 0,\r\n      order_id: newOrder.id,\r\n      message: newOrder.message || \"aucune\",\r\n      customer_name: newOrder?.customer_name || \"\",\r\n      customer_company: newOrder?.customer_company || \"\",\r\n      code1: newOrder?.code1 || \"\",\r\n      code2: newOrder?.code2 || \"\",\r\n      interphone: newOrder?.interphone || \"\",\r\n      etage: newOrder?.etage || \"\",\r\n      table_number: newOrder?.table_number || 0,\r\n      customer_tel: newOrder?.customer_tel || \"\",\r\n      customer_adress: newOrder?.customer_adress,\r\n      status: newOrder?.status,\r\n      orderType: newOrder?.order_type,\r\n      paymentType: newOrder?.pay_method,\r\n      totalPrice: newOrder?.price,\r\n      taxPrice: newOrder?.tva,\r\n      tvas: (newOrder?.price * newOrder?.tva) / 100,\r\n      orderItems: newOrder?.orderItems,\r\n      \r\n      date: newOrder?.date,\r\n      time: newOrder?.time,\r\n    };\r\n    // console.log(calcTotal().tvas);\r\n    // newOrders.map((one) => {\r\n    //   order.orderItems.push({\r\n    //     ...one,\r\n    //     price: one.price,\r\n    //     tva: one.tva,\r\n    //   });\r\n    // });\r\n\r\n    axios\r\n      .post(\r\n       \"http://192.168.1.166:5000/api/printOrder\",\r\n        {\r\n          kitchen: false,\r\n          user_id: user_id,\r\n          order: {\r\n            new: false,\r\n            ...order,\r\n\r\n            // Date: new Date(),\r\n            nbrCouverts: 1,\r\n          },\r\n        }\r\n      )\r\n      .then((res) => console.log(res.data))\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n  console.log(\"path\", path);\r\n  \r\n  return (\r\n    <div>\r\n      <Navbar bg=\"light\" variant=\"light\" fixed=\"bottom\" className=\"nav-buttom\">\r\n        <Container>\r\n          <Nav className=\"me-auto\">\r\n            <Nav.Link>\r\n              <Button variant=\"success\" className=\"nav-buttom-button\">\r\n                Libres <Badge bg=\"success\">{freeTables}</Badge>\r\n              </Button>\r\n            </Nav.Link>\r\n            <Nav.Link>\r\n              <Button\r\n                variant=\"danger\"\r\n                onClick={() => {\r\n                  dispatch(clearOrders());\r\n                  navigate(\"/history/encours\");\r\n                }}\r\n                className=\"nav-buttom-button\"\r\n              >\r\n                En cours<Badge bg=\"danger\"> {enCours}</Badge>\r\n              </Button>\r\n            </Nav.Link>\r\n            <Nav.Link>\r\n              <Button variant=\"info\" className=\"nav-buttom-button\">\r\n                Livrs <Badge bg=\"info\">0</Badge>\r\n              </Button>\r\n            </Nav.Link>\r\n            <Nav.Link>\r\n              <Button\r\n                variant=\"warning\"\r\n                className=\"nav-buttom-button\"\r\n                onClick={() => {\r\n                  dispatch(clearOrders());\r\n                  navigate(\"/history/annules\");\r\n                }}\r\n              >\r\n                Annules <Badge bg=\"warning\">{annuler}</Badge>\r\n             \r\n              </Button>\r\n              \r\n            </Nav.Link>\r\n            <Nav.Link>\r\n              <Button\r\n                className=\"nav-buttom-button\"\r\n                variant=\"dark\"\r\n                onClick={() => {\r\n                  dispatch(clearOrders());\r\n                  navigate(\"/history/avenir\");\r\n                }}\r\n              >\r\n                Commandes a Venir <Badge bg=\"dark\">{avenir}</Badge>\r\n              </Button>\r\n            </Nav.Link>\r\n            <Nav.Link>\r\n              <Button\r\n                className=\"nav-buttom-button\"\r\n                variant=\"primary\"\r\n                onClick={() => {\r\n                  dispatch(clearOrders());\r\n                  navigate(\"/history/all\");\r\n                }}\r\n              >\r\n                Termines <Badge bg=\"primary\">{orderNbr}</Badge>\r\n              </Button>\r\n            </Nav.Link>\r\n          \r\n            <Nav.Link>\r\n              <Button\r\n                variant=\"warning\"\r\n                className=\"nav-buttom-button\"\r\n                onClick={() => {\r\n                  axios\r\n                    .post(\r\n                      \r\n                        \"http://192.168.1.166:5000/api/getorder\",\r\n                      {\r\n                        user_id: user_id,\r\n                        order_id: textorder_id,\r\n                      }\r\n                    )\r\n                    .then((res) => {\r\n                      // dispatch(storeClients({ clients: res.data.clients }));\r\n                      console.log(res.data);\r\n                      if (res.data == \"no data\") {\r\n                        Swal.fire({\r\n                          icon: \"warning\",\r\n                          title: `pas de commande avec cet identifiant`,\r\n                          showConfirmButton: false,\r\n                          timer: 1500,\r\n                        });\r\n                      }else if(res.data[0].status==\"completed\"){\r\n                        Swal.fire({\r\n                          icon: \"warning\",\r\n                          title: `la commande est termine `,\r\n                          showConfirmButton: false,\r\n                          timer: 1500,\r\n                        });\r\n                      }\r\n                       else  {\r\n                        console.log(res.data[0].status);\r\n                        navigate(`/checkout/${textorder_id}`);\r\n                      }\r\n                    });\r\n                }}\r\n              >\r\n                <FontAwesomeIcon icon={faPlus} />\r\n              </Button>\r\n            </Nav.Link>\r\n            <Nav.Link>\r\n              <Form.Control\r\n                 className=\"order_id_input\"\r\n                type=\"text\"\r\n                placeholder=\"Order_id\"\r\n                onChange={(e) => {\r\n                  console.log(e.target.value);\r\n                  settextorder_id(e.target.value);\r\n                }}\r\n              />\r\n            </Nav.Link>\r\n          </Nav>\r\n          <Button\r\n            className=\"nav-buttom-button nouvelle-cmd-btn\"\r\n            style={{ borderRadius: \"50px !important\" }}\r\n            variant=\"success\"\r\n            size=\"lg\"\r\n            onClick={() => handleNewOrder()}\r\n          >\r\n            <FontAwesomeIcon icon={faPlus} style={{ marginRight: \"1rem\" }} />\r\n            Nouvelle Commande\r\n          </Button>\r\n          {path.includes(\"menu\") ? (\r\n            <Button\r\n              className=\"nav_butoons-note\"\r\n              onClick={() => setShowNote(true)}\r\n              style={{\r\n                borderRadius: \"50px !important\",\r\n                display: \"flex\",\r\n                alignItems: \"center\",\r\n                borderColor: \"#d63031\",\r\n                backgroundColor: \"transparent\",\r\n                marginLeft: \"0.5rem\",\r\n              }}\r\n              variant=\"secondary\"\r\n              size=\"lg\"\r\n            >\r\n              <FontAwesomeIcon icon={faStickyNote} color=\"#d63031\" />\r\n            </Button>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n        </Container>\r\n\r\n        <Modal show={showNote} onHide={() => setShowNote(false)}>\r\n          <Modal.Header closeButton>\r\n            <Modal.Title>Remarque</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            <FormGroup>\r\n              <h3>\r\n                <FontAwesomeIcon\r\n                  icon={faStickyNote}\r\n                  color=\"#d63031\"\r\n                  style={{ marginRight: \"1rem\" }}\r\n                />\r\n                Note\r\n              </h3>\r\n              <Form.Control\r\n                onChange={(e) => setnote(e.target.value)}\r\n                as=\"textarea\"\r\n                type=\"text\"\r\n                placeholder=\"Remarque ...\"\r\n              ></Form.Control>\r\n            </FormGroup>\r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            <Button variant=\"secondary\" onClick={() => setShowNote(false)}>\r\n              Annuler\r\n            </Button>\r\n            <Button\r\n              variant=\"warning\"\r\n              style={{ backgroundColor: \"#ff6b6b\", borderColor: \"#ff6b6b\" }}\r\n              onClick={handleAddNote}\r\n            >\r\n              Ajouter\r\n            </Button>\r\n          </Modal.Footer>\r\n        </Modal>\r\n\r\n        <Modal\r\n          show={show}\r\n          onHide={handleClose}\r\n          style={{ zIndex: 1050, left: -120, top: 50 }}\r\n        >\r\n          <Modal.Header closeButton>\r\n            <Modal.Title>\r\n              <div style={{ width: \"100%\" }}>\r\n                <h5>Choix du mode de consommation</h5>\r\n              <Button\r\n                  size=\"lg\"\r\n                  variant={\r\n                    client?.type == \"emporter\" ? \"light\" : \"outline-warning\"\r\n                  }\r\n                  style={{\r\n                    borderColor: \"#ff6b6b\",\r\n                    color: \"#ff6b6b\",\r\n                    marginRight: \"2rem\",\r\n                  }}\r\n                  onClick={() => {dispatch(setType(\"emporter\")) ;setClient({ ...client, type: \"emporter\" })}}\r\n                >\r\n                  A emporter\r\n                </Button>\r\n                \r\n\r\n <Button\r\n                  size=\"lg\"\r\n                  variant={\r\n                    client?.type == \"livraison\" ? \"light\" : \"outline-warning\"\r\n                  }\r\n                  style={{\r\n                    borderColor: \"#ff6b6b\",\r\n                    color: \"#ff6b6b\",\r\n                    marginRight: \"2rem\",\r\n                  }}\r\n                  onClick={() => {dispatch(setType(\"livraison\")) ;setClient({ ...client, type: \"livraison\" })}}\r\n                >\r\n                  Livraison\r\n                </Button>\r\n               \r\n                <Button\r\n                  size=\"lg\"\r\n                  variant={\r\n                    client?.type == \"sur place\" ? \"light\" : \"outline-warning\"\r\n                  }\r\n                  style={{ borderColor: \"#ff6b6b\", color: \"#ff6b6b\" }}\r\n                  onClick={() => {dispatch(setType(\"sur place\"))  ;setClient({ ...client, type: \"sur place\" })}}\r\n                >\r\n                  sur place\r\n                </Button>\r\n              </div>\r\n            </Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            {showHistory && (\r\n              <div className=\"histo\">\r\n                <h1 style={{ textAlign: \"center\" }}>\r\n                  {\" \"}\r\n                  <b>Historique Client</b>{\" \"}\r\n                  <FontAwesomeIcon\r\n                    onClick={() => {\r\n                      setshowHistory(false);\r\n                      setOrderHistory([]);\r\n                    }}\r\n                    className=\"times\"\r\n                    icon={faTimes}\r\n                  />\r\n                </h1>\r\n                <div className=\"hhead\">\r\n                  <h3 className=\"wid\">Type</h3>\r\n                  <h3 className=\"wid\">Date</h3>\r\n                  <h3 className=\"wid\">Order</h3>\r\n                  <h3 className=\"wid\">Prix</h3>\r\n                  <h3 className=\"wid\">Paiement</h3>\r\n                </div>\r\n                <div className=\"hbody\">\r\n                  {orderHistory.length == 0 && !orderLoding ? (\r\n                    <h1>Aucune Commande trouve</h1>\r\n                  ) : orderLoding ? (\r\n                    <div style={{ display: \"flex\" }}>\r\n                      <h3>Chargement en cours</h3>\r\n                      <img src={loading} alt=\"loading\" width={30} />\r\n                    </div>\r\n                  ) : (\r\n                    \"\"\r\n                  )}\r\n                  {orderHistory?.map((order, key) => (\r\n                    <div className=\"el\">\r\n                      <h5 className=\"wid\">{order?.order_type}</h5>\r\n                      <h5 className=\"wid\">{order?.date}</h5>\r\n                      <h5 className=\"wid\">#{order?.id}</h5>\r\n                      <h5 className=\"wid\">{order?.price?.toFixed(2)}</h5>\r\n                      <h5 className=\"wid\">{order?.pay_method}</h5>\r\n                      <FontAwesomeIcon\r\n                        icon={faPrint}\r\n                        onClick={() => handlePrint(order)}\r\n                        style={{ cursor: \"pointer\" }}\r\n                      />\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n                {/* <Button className=\"impr_btn\" style={{ marginBottom: \"1rem\" }}>\r\n                  Imprimer\r\n                </Button> */}\r\n              </div>\r\n            )}\r\n            <div>\r\n              {client?.type == \"livraison\" ? (\r\n                <div>\r\n                  <Form auto>\r\n                    <Form.Group className=\"mb-3\">\r\n                      <Row>\r\n                        <Col>\r\n                          <Form.Control\r\n                            value={client.name}\r\n                            type=\"text\"\r\n                            placeholder=\"nom/prenom\"\r\n                            onChange={(e) =>\r\n                              setClient({ ...client, name: e.target.value })\r\n                            }\r\n                          />\r\n                        </Col>\r\n                      </Row>\r\n                    </Form.Group>\r\n                    <Form.Group className=\"mb-3\">\r\n                      <Row>\r\n                        <Col>\r\n                          {client.telephone?.length > 0 &&\r\n                          client.telephone?.length < 10 ? (\r\n                            <Badge bg=\"danger\">\r\n                              Numero pas valide (10 chiffres obligatoire)\r\n                            </Badge>\r\n                          ) : (\r\n                            \"\"\r\n                          )}\r\n                          <Typeahead\r\n                            onInputChange={(e) => {\r\n                              setClient({ ...client, phone: e });\r\n                              \r\n                            }}\r\n                            onChange={(e) => {\r\n                              handleSelection(e[0]);\r\n                              console.log(e);\r\n                            }}\r\n                            options={clients.map((client) => client.telephone)}\r\n                            placeholder=\"telephone\"\r\n                            type=\"number\"\r\n                            min=\"1\"\r\n                            max=\"5\"\r\n                          />\r\n                        </Col>\r\n\r\n                        <Col>\r\n                          <Form.Control\r\n                            value={client.email}\r\n                            type=\"email\"\r\n                            placeholder=\"Email\"\r\n                            onChange={(e) =>\r\n                              setClient({ ...client, email: e.target.value })\r\n                            }\r\n                          />\r\n                        </Col>\r\n                      </Row>\r\n                    </Form.Group>\r\n                    <Form.Group className=\"mb-3\">\r\n                      <Row>\r\n                        <Col>\r\n                          <Form.Control\r\n                            value={client.address}\r\n                            as=\"textarea\"\r\n                            type=\"text\"\r\n                            placeholder=\"Addresse\"\r\n                            onChange={(e) =>\r\n                              setClient({\r\n                                ...client,\r\n                                address: e.target.value,\r\n                              })\r\n                            }\r\n                          />\r\n                        </Col>\r\n                        <Col>\r\n                          <Form.Control\r\n                            value={client.company}\r\n                            type=\"text\"\r\n                            placeholder=\"socit\"\r\n                            onChange={(e) =>\r\n                              setClient({\r\n                                ...client,\r\n                                company: e.target.value,\r\n                              })\r\n                            }\r\n                          />\r\n                        </Col>\r\n                      </Row>\r\n                    </Form.Group>\r\n                    <Form.Group className=\"mb-3\">\r\n                      <Row>\r\n                        <Col>\r\n                          <Form.Control\r\n                            value={client.code1}\r\n                            type=\"text\"\r\n                            placeholder=\"code 1\"\r\n                            onChange={(e) =>\r\n                              setClient({ ...client, code1: e.target.value })\r\n                            }\r\n                          />\r\n                        </Col>\r\n                        <Col>\r\n                          <Form.Control\r\n                            value={client.code2}\r\n                            type=\"text\"\r\n                            placeholder=\"code 2\"\r\n                            onChange={(e) =>\r\n                              setClient({ ...client, code2: e.target.value })\r\n                            }\r\n                          />\r\n                        </Col>\r\n\r\n                        <Col xs=\"6\">\r\n                          <Form.Control\r\n                            value={client.city}\r\n                            type=\"text\"\r\n                            placeholder=\"Ville\"\r\n                            onChange={(e) =>\r\n                              setClient({ ...client, city: e.target.value })\r\n                            }\r\n                          />\r\n                        </Col>\r\n                      </Row>\r\n                    </Form.Group>\r\n                    <Form.Group className=\"mb-3\">\r\n                      <Row>\r\n                        <Col>\r\n                          <Form.Control\r\n                            value={client.interphone}\r\n                            type=\"text\"\r\n                            placeholder=\"interphone\"\r\n                            onChange={(e) =>\r\n                              setClient({\r\n                                ...client,\r\n                                interphone: e.target.value,\r\n                              })\r\n                            }\r\n                          />\r\n                        </Col>\r\n                        <Col>\r\n                          <Form.Control\r\n                            value={client.etage}\r\n                            type=\"text\"\r\n                            placeholder=\"etage\"\r\n                            onChange={(e) =>\r\n                              setClient({ ...client, etage: e.target.value })\r\n                            }\r\n                          />\r\n                        </Col>\r\n                        <Col xs=\"6\">\r\n                          <Form.Control\r\n                            value={client.post}\r\n                            type=\"postal\"\r\n                            placeholder=\"Code postal\"\r\n                            onChange={(e) =>\r\n                              setClient({ ...client, post: e.target.value })\r\n                            }\r\n                          />\r\n                        </Col>\r\n                      </Row>\r\n                    </Form.Group>\r\n                    <Form.Group className=\"mb-3\">\r\n                      <Row>\r\n                        <Col>\r\n                          <Form.Control\r\n                            value={client.message}\r\n                            as=\"textarea\"\r\n                            type=\"text\"\r\n                            placeholder=\"remarque\"\r\n                            onChange={(e) =>\r\n                              setClient({\r\n                                ...client,\r\n                                message: e.target.value,\r\n                              })\r\n                            }\r\n                          />\r\n                        </Col>\r\n                      </Row>\r\n                    </Form.Group>\r\n                    <Form.Group className=\"mb-3\">\r\n                      <Row>\r\n                        <Col>\r\n                          <Form.Control\r\n                            value={client.date}\r\n                            type=\"date\"\r\n                            defaultValue={client.date}\r\n                            onChange={(e) =>\r\n                              setClient({ ...client, date: e.target.value })\r\n                            }\r\n                          />\r\n                        </Col>\r\n                        <Col>\r\n                          <Form.Control\r\n                            value={client.time}\r\n                            type=\"time\"\r\n                            defaultValue={client.time}\r\n                            onChange={(e) =>\r\n                              setClient({ ...client, time: e.target.value })\r\n                            }\r\n                          />\r\n                        </Col>\r\n                      </Row>\r\n                    </Form.Group>\r\n                  </Form>\r\n                </div>\r\n              ) : client?.type == \"emporter\" ? (\r\n                <div>\r\n                  <Form auto>\r\n                    <Form.Group className=\"mb-3\">\r\n                      <Row>\r\n                        <Col>\r\n                          <Form.Control\r\n                            value={client.name}\r\n                            type=\"text\"\r\n                            placeholder=\"nom/prenom\"\r\n                            onChange={(e) =>\r\n                              setClient({ ...client, name: e.target.value })\r\n                            }\r\n                          />\r\n                        </Col>\r\n                      </Row>\r\n                    </Form.Group>\r\n                    <Form.Group className=\"mb-3\">\r\n                      <Row>\r\n                        <Col>\r\n                          {client.telephone?.length > 0 &&\r\n                          client.telephone?.length < 10 ? (\r\n                            <Badge bg=\"danger\">\r\n                              Numero pas valide (10 chiffres obligatoire)\r\n                            </Badge>\r\n                          ) : (\r\n                            \"\"\r\n                          )}\r\n                          <Typeahead\r\n                            onInputChange={(e) => {\r\n                              setClient({ ...client, phone: e });\r\n                              setOld(false);\r\n                              setshowHistory(false);\r\n                            }}\r\n                            onChange={(e) => {\r\n                              handleSelection(e[0]);\r\n                              console.log(e);\r\n                            }}\r\n                            options={clients.map((client) => client.telephone)}\r\n                            placeholder=\"telephone\"\r\n                          />\r\n                        </Col>\r\n                      </Row>\r\n                    </Form.Group>\r\n\r\n                    <Form.Group className=\"mb-3\">\r\n                      <Row>\r\n                        <Col>\r\n                          <Form.Control\r\n                            value={client.message}\r\n                            as=\"textarea\"\r\n                            type=\"text\"\r\n                            placeholder=\"remarque\"\r\n                            onChange={(e) =>\r\n                              setClient({\r\n                                ...client,\r\n                                message: e.target.value,\r\n                              })\r\n                            }\r\n                          />\r\n                        </Col>\r\n                      </Row>\r\n                    </Form.Group>\r\n                    <Form.Group className=\"mb-3\">\r\n                      <Row>\r\n                        <Col>\r\n                          <Form.Control\r\n                            value={client.date}\r\n                            type=\"date\"\r\n                            defaultValue={client.date}\r\n                            onChange={(e) =>\r\n                              setClient({ ...client, date: e.target.value })\r\n                            }\r\n                          />\r\n                        </Col>\r\n                        <Col>\r\n                          <Form.Control\r\n                            value={client.time}\r\n                            type=\"time\"\r\n                            defaultValue={client.time}\r\n                            onChange={(e) =>\r\n                              setClient({ ...client, time: e.target.value })\r\n                            }\r\n                          />\r\n                        </Col>\r\n                      </Row>\r\n                    </Form.Group>\r\n                  </Form>\r\n                </div>\r\n              ) : (\r\n                <div>\r\n                  <Form auto>\r\n                    <Form.Group className=\"mb-3\">\r\n                      <Row>\r\n                        <Col>\r\n                          <Typeahead\r\n                            onInputChange={(e) => {\r\n                              setClient({ ...client, name: e });\r\n                              setOld(false);\r\n                              setshowHistory(false);\r\n                            }}\r\n                            onChange={(e) => handleSelection(e[0])}\r\n                            options={clients.map((client) => client.nom_prenom)}\r\n                            placeholder=\"nom/prenom\"\r\n                          />\r\n                        </Col>\r\n                      </Row>\r\n                    </Form.Group>\r\n                    <Form.Group className=\"mb-3\">\r\n                      <Row>\r\n                        <Col\r\n                        style={{\r\n                          display: \"flex\",\r\n                          alignItems: \"center\",\r\n                          flexWrap: \"wrap\",\r\n                        }}\r\n                        >\r\n                          <h3>Zones :</h3>\r\n                          {zones.map((zone) => (\r\n                            <Button\r\n                              className=\"zone_button\"\r\n                              style={{ marginLeft: \"1rem\" }}\r\n                              onClick={() => setSelectedZone(zone.id)}\r\n                              variant={selectedZone == zone.id ? \"dark\" : \"outline-dark\"}\r\n                             \r\n                            >\r\n                              {zone.nom}\r\n                            </Button>\r\n                          ))}\r\n                        </Col>\r\n                      </Row>\r\n                      <Row>\r\n                        <Col\r\n                          style={{\r\n                            display: \"flex\",\r\n                            alignItems: \"center\",\r\n                            flexWrap: \"wrap\",\r\n                          }}\r\n                        >\r\n                          <h3>Tables :</h3>\r\n                          {tables\r\n                            .filter((e) => e.active == true && e.libre == true && e.zone_id == selectedZone)\r\n                            .map((el) => (\r\n                              <div\r\n                                className={\r\n                                  el.numero == Table_nbr ? \"tbl sel\" : \"tbl\"\r\n                                }\r\n                                onClick={() => setTable_nbr(el.numero)}\r\n                              >\r\n                                <h6>\r\n                                  <b>{el.numero}</b>\r\n                                </h6>\r\n                              </div>\r\n                            ))}\r\n                          {/* <Form.Control\r\n                              value={Table_nbr}\r\n                              type=\"number\"\r\n                              placeholder=\"Numero de la table\"\r\n                              onChange={(e) => setTable_nbr(e.target.value)}\r\n                            /> */}\r\n                        </Col>\r\n                      </Row>\r\n                    </Form.Group>\r\n\r\n                    <Form.Group className=\"mb-3\">\r\n                      <Row>\r\n                        <Col>\r\n                          <Form.Control\r\n                            value={client.message}\r\n                            as=\"textarea\"\r\n                            type=\"text\"\r\n                            placeholder=\"remarque\"\r\n                            onChange={(e) =>\r\n                              setClient({ ...client, message: e.target.value })\r\n                            }\r\n                          />\r\n                        </Col>\r\n                      </Row>\r\n                    </Form.Group>\r\n                  </Form>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            {showHistoryButton ? (\r\n              <Button\r\n                variant=\"warning\"\r\n                style={{ backgroundColor: \"#ff6b6b\", borderColor: \"#ff6b6b\" }}\r\n                onClick={() => {\r\n                  setshowHistory(!showHistory);\r\n                  handleGetOrders();\r\n                }}\r\n              >\r\n                <FontAwesomeIcon\r\n                  icon={faHistory}\r\n                  style={{ marginRight: \"5px\" }}\r\n                />\r\n                Historiques\r\n              </Button>\r\n            ) : (\r\n              \"\"\r\n            )}\r\n            <Button variant=\"outline-secondary\" onClick={handleClose}>\r\n              Annuler\r\n            </Button>\r\n            <Button\r\n              variant=\"warning\"\r\n              style={{ backgroundColor: \"#ff6b6b\", borderColor: \"#ff6b6b\" }}\r\n              onClick={() => handleCreate()}\r\n            >\r\n              <FontAwesomeIcon\r\n                icon={faCheckSquare}\r\n                style={{ marginRight: \"5px\" }}\r\n              />\r\n              Crer la vente\r\n            </Button>\r\n          </Modal.Footer>\r\n        </Modal>\r\n      </Navbar>\r\n      {/* <div>\r\n            <h3>\r\n              <FontAwesomeIcon\r\n                icon={faPencilAlt}\r\n                style={{ width: \"24\", marginRight: \"0.5rem\" }}\r\n              />\r\n              Remarque\r\n            </h3>\r\n            <Form.Control\r\n              type=\"textarea\"\r\n              as=\"textarea\"\r\n              placeholder=\"note\"\r\n              style={{ width: \"300px\", marginRight: \"300px\" }}\r\n              onChange={(e) =>\r\n                setnewProduct({ ...newProduct, note: e.target.value })\r\n              }\r\n            ></Form.Control>\r\n          </div> */}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NaviBottom;\r\n","export default __webpack_public_path__ + \"static/media/serveur.496e23b3.png\";","import React, { useEffect, useState } from \"react\";\r\nimport { useNavigate } from \"react-router\";\r\nimport axios from \"axios\";\r\nimport Zones from \"../Components/Zones\";\r\nimport { Container, Nav, Navbar } from \"react-bootstrap\";\r\nimport TableStats from \"../Components/TableStats\";\r\nimport useTranslation from \"./../i18\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport logo from \"./../Shared/logo.png\";\r\nimport bg from \"./../Shared/bg.jpeg\";\r\nimport io, { Socket } from \"socket.io-client\";\r\n\r\nimport \"./Styles.css\";\r\n\r\nimport {\r\n  faCalendarAlt,\r\n  faCashRegister,\r\n  faSignOutAlt,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport NaviBottom from \"../Components/NaviBottom\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport {\r\n  addNewcheckoutDataFromDB,\r\n  deleteClientandTable,\r\n} from \"../Slices/order\";\r\nimport {\r\n  storeCategories,\r\n  storeNSteps,\r\n  storeOrderHistory,\r\n  storeProducts,\r\n  storeTvaMode,\r\n} from \"../Slices/data\";\r\nimport serveur from \"./../Shared/serveur.png\";\r\nimport $ from \"jquery\";\r\n\r\nconst socket =io.connect(\"http://localhost:5002\")\r\nconst Main = () => {\r\n  const { t } = useTranslation();\r\n  const currentToken = localStorage.getItem(\"user\");\r\n  const username = localStorage.getItem(\"username\") || \"\";\r\n  const user_id = localStorage.getItem(\"user_id\");\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\nuseEffect(() => {\r\n  socket.on(\"a\",(data)=>{\r\n    console.log(data)\r\n  })\r\n}, [socket])\r\n\r\n  useEffect(() => {\r\n    \r\n    \r\n\r\n    axios\r\n      .post(\r\n       \r\n          \"http://192.168.1.166:5000/api/categories\",\r\n        {\r\n          user_id,\r\n        }\r\n      )\r\n      .then((res) =>\r\n        dispatch(\r\n          storeCategories({\r\n            categories: res.data.sort((a, b) => a.cat_order - b.cat_order),\r\n          })\r\n        )\r\n      );\r\n    axios\r\n      .post(\r\n      \"http://192.168.1.166:5000/api/products\",\r\n        {\r\n          user_id,\r\n          category: 0,\r\n        }\r\n      )\r\n      .then((res) => {\r\n        dispatch(storeProducts({ products: res.data.products }));\r\n        dispatch(storeNSteps({ nSteps: res.data.menuSteps }));\r\n      });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const caisse_id = localStorage.getItem(\"caisse_id\");\r\n    axios\r\n      .post(\r\n       \"http://192.168.1.166:5000/api/getorders\",\r\n        {\r\n          user_id,\r\n          caisse_id,\r\n        }\r\n      )\r\n      .then((res) => {\r\n        dispatch(storeOrderHistory({ orderHistory: res.data }));\r\n        console.log(res.data);\r\n        let newData = res.data.map((order) => ({\r\n          ...order,\r\n          table_number: order.table_number || order.order_id,\r\n          order_id: order.id,\r\n        }));\r\n        /*  .filter((order) => order.order_type == \"surplace\"); */\r\n        console.log(\"got data\", newData);\r\n        newData.map((data) => {\r\n          dispatch(addNewcheckoutDataFromDB({ order: data }));\r\n        });\r\n      });\r\n\r\n    axios\r\n      .post(\r\n      \"http://192.168.1.166:5000/api/gettva\"\r\n      )\r\n      .then((res) => {\r\n        dispatch(storeTvaMode({ tva_mode: res.data }));\r\n      });\r\n  }, []);\r\n\r\n\r\n\r\n  const handleDisconnect = () => {\r\n    localStorage.removeItem(\"user\");\r\n    localStorage.removeItem(\"username\");\r\n    navigate(\"/\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"main_bg\">\r\n      <Navbar variant=\"warning\" className=\"navbar\">\r\n        <Container className=\"main-container\">\r\n          <Navbar.Brand>\r\n            <div class=\"logo-container\">\r\n              <img id=\"chrome\" class=\"logo\" src={logo} />\r\n            </div>\r\n          </Navbar.Brand>\r\n          <Navbar.Brand>\r\n            {/* <div\r\n              id=\"circle\"\r\n              style={{ background: connect ? \"green\" : \"red\" }}\r\n            ></div> */}\r\n          </Navbar.Brand>\r\n          <Nav className=\"ms-auto\">\r\n            <Nav.Link>\r\n              <h6\r\n                className=\"nav_link-h6\"\r\n                style={{ color: \"white\", paddingTop: \"5px\" }}\r\n                // onClick={() => navigate(\"/calendar\")}\r\n              >\r\n                <FontAwesomeIcon\r\n                  icon={faCalendarAlt}\r\n                  style={{ marginRight: \"5px\" }}\r\n                  className=\"ico2\"\r\n                />\r\n                Agenda\r\n              </h6>\r\n            </Nav.Link>\r\n            <Nav.Link onClick={() => navigate(\"/cloture\")}>\r\n              <h6\r\n                style={{ color: \"white\", paddingTop: \"5px\" }}\r\n                className=\"nav_link-h6\"\r\n              >\r\n                <FontAwesomeIcon\r\n                  icon={faCashRegister}\r\n                  style={{ marginRight: \"5px\" }}\r\n                  className=\"ico1\"\r\n                />\r\n                {t(\"cashier\")}\r\n              </h6>\r\n            </Nav.Link>\r\n            <Nav.Link onClick={() => handleDisconnect()}>\r\n              <h6\r\n                style={{ color: \"white\", paddingTop: \"5px\" }}\r\n                className=\"nav_link-h6\"\r\n              >\r\n                <FontAwesomeIcon\r\n                  icon={faSignOutAlt}\r\n                  style={{ marginRight: \"5px\" }}\r\n                  className=\"ico\"\r\n                />\r\n                {t(\"disconnect\")}\r\n              </h6>\r\n            </Nav.Link>\r\n          </Nav>\r\n          <h6\r\n            style={{\r\n              color: \"white\",\r\n              marginLeft: \"1rem\",\r\n              marginTop: \"0.5rem\",\r\n              borderLeft: \"1px solid white\",\r\n              padding: \"5px\",\r\n            }}\r\n            className=\"nav-link\"\r\n          >\r\n            <img\r\n              src={serveur}\r\n              width={32}\r\n              height={32}\r\n              style={{ marginRight: \"0.5rem\" }}\r\n              className=\"server-img\"\r\n            />\r\n            <b>{username}</b>\r\n            <FontAwesomeIcon\r\n              onClick={() => handleDisconnect()}\r\n              size=\"2x\"\r\n              icon={faSignOutAlt}\r\n              style={{ marginLeft: \"0.5rem\", paddingTop: \"0.5rem\" }}\r\n            />\r\n          </h6>\r\n        </Container>\r\n      </Navbar>\r\n      <div className=\"x2\">\r\n      \r\n        <Zones />\r\n        <NaviBottom />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Main;\r\n","export default \"data:image/png;base64,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\"","export default __webpack_public_path__ + \"static/media/cc.883bea09.png\";","export default __webpack_public_path__ + \"static/media/delivery.c63ca6d5.png\";","export default __webpack_public_path__ + \"static/media/takeout.47a36a20.png\";","export default __webpack_public_path__ + \"static/media/cash.99b68bb2.jpg\";","export default __webpack_public_path__ + \"static/media/surplace.2e0aa439.png\";","export default __webpack_public_path__ + \"static/media/hs.dcadad91.png\";","import React, { Fragment, useEffect, useState } from \"react\";\r\nimport { Modal, Button, Table, Carousel } from \"react-bootstrap\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n  faCheck,\r\n  faEdit,\r\n  faMinusCircle,\r\n  faMinusSquare,\r\n  faPencilAlt,\r\n  faPlusCircle,\r\n  faPlusSquare,\r\n  faTimes,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport hs from \"./../Shared/hs.png\";\r\nimport useTranslation from \"./../i18\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { setNewOrder } from \"../Slices/order\";\r\nimport axios from \"axios\";\r\nimport Swal from \"sweetalert2\";\r\nimport { updateProduct } from \"../Slices/data\";\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\n\r\n\r\nconst ProductStock = ({ product, setAlert, order_id,setconfirmed,confirmed }) => {\r\n  const { t } = useTranslation();\r\n  const dispatch = useDispatch(); \r\n  const [selected, setselected] = useState(1);\r\n  const [showPreview, setShowPreview] = useState(false);\r\n  const [newProduct, setnewProduct] = useState(undefined);\r\n  const [showstock, setshowstock] = useState(false);\r\n  useEffect(() => {\r\n   console.log(product)\r\n  }, []);\r\n  const handleStockD = () => {\r\n    setshowstock(false);\r\n    axios\r\n      .post(\r\n        \"http://192.168.1.166:5000/api/bringwarehouse\",\r\n        { prod_id: product.id }\r\n      )\r\n      .then((res) => {\r\n        console.log(res.data);\r\n        dispatch(updateProduct({ id: product.id }));\r\n        Swal.fire({\r\n          icon: \"success\",\r\n          title: \"produit mis  jours !\",\r\n          showConfirmButton: false,\r\n          timer: 1500,\r\n        });\r\n      });\r\n  };\r\n  const handleStock = () => {\r\n    setshowstock(false);\r\n    axios\r\n      .post(\r\n        \"http://192.168.1.166:5000/api/resetwarehouse\",\r\n        { prod_id: product.id }\r\n      )\r\n      .then((res) => {\r\n        console.log(res.data);\r\n        dispatch(updateProduct({ id: product.id }));\r\n        Swal.fire({\r\n          icon: \"success\",\r\n          title: \"produit mis ajours!\",\r\n          showConfirmButton: false,\r\n          timer: 1500,\r\n        });\r\n      });\r\n  };\r\n\r\n  const renderHTML = (rawHTML: string) =>\r\n    React.createElement(\"div\", {\r\n      dangerouslySetInnerHTML: { __html: rawHTML },\r\n    });\r\n  const currency = localStorage.getItem(\"currency\");\r\n  return (\r\n    <>\r\n    <ToastContainer />\r\n   <div className=\"item_container\"onClick={(e) => setshowstock(true)}>\r\n      <p>\r\n        <b>{product.name.substring(0, 21)}</b>\r\n      </p>\r\n      {product.active==1?<div>\r\n      <img src={product.image}  className=\"prod_img\" />\r\n      <div className=\"price\">\r\n        {`${product.price.toFixed(2)}`}\r\n        {renderHTML(`<i>${currency}</i>`)}\r\n      </div>\r\n      </div>: <img src={hs}  className=\"prod_imgs\" />}\r\n      \r\n    \r\n     \r\n      \r\n    </div>\r\n       \r\n    <Modal show={showstock} onHide={() => setshowstock(false)}>\r\n      <Modal.Header closeButton>\r\n        <Modal.Title>Gestion de stock</Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Footer>\r\n        <Button variant=\"secondary\" onClick={() => setshowstock(false)}>\r\n          Retour au tables\r\n        </Button>\r\n     {product.active==1?<Button variant=\"danger\" onClick={() => handleStock()}>\r\n          Hors stock\r\n        </Button>:<Button variant=\"primary\" onClick={() => handleStockD()}>\r\n          Disponible\r\n        </Button>}\r\n        \r\n      </Modal.Footer>\r\n    </Modal>\r\n  </>\r\n  )\r\n}\r\n\r\nexport default ProductStock","import { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport loading from \"../Shared/loading.gif\";\r\nimport {\r\n  Badge,\r\n  Button,\r\n  Container,\r\n  Form,\r\n  FormGroup,\r\n  Modal,\r\n  Nav,\r\n  Navbar,\r\n  Row,\r\n  Table,\r\n  Col,\r\n} from \"react-bootstrap\";\r\nimport {\r\n  faCalendarAlt,\r\n  faCashRegister,\r\n  faCheckSquare,\r\n  faEdit,\r\n  faSignOutAlt,\r\n  faSearch,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport { useNavigate, useParams } from \"react-router\";\r\nimport tableIcon from \"./../Shared/table.png\";\r\nimport useTranslation from \"./../i18\";\r\nimport NaviBottom from \"../Components/NaviBottom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport logo from \"./../Shared/logo.png\";\r\nimport serveur from \"./../Shared/serveur.png\";\r\nimport cc from \"./../Shared/cc.png\";\r\nimport delivery from \"./../Shared/delivery.png\";\r\nimport takeout from \"./../Shared/takeout.png\";\r\nimport cash from \"./../Shared/cash.jpg\";\r\nimport surplace from \"./../Shared/surplace.png\";\r\nimport $ from \"jquery\";\r\nimport axios from \"axios\";\r\nimport { storeCategories, storeCoupon, storeNSteps, storeProducts } from \"../Slices/data\";\r\n\r\nimport ProductStock from \"../Components/ProductStock\";\r\n\r\nconst History = () => {\r\n const   chej=[];\r\n const [filter, setFilter] = useState(\"\");\r\n  const username = localStorage.getItem(\"username\") || \"\";\r\n  const user_id = localStorage.getItem(\"user_id\");\r\n  const [date, setDate] = useState(new Date().toLocaleTimeString(\"fa-IR\"));\r\n  const [alert, setAlert] = useState({ show: false, msg: \"\", type: \"\" });\r\n  const caisse_id = localStorage.getItem(\"caisse_id\");\r\n  const coupons = useSelector((state) => state.data.coupons);\r\n  const tables = useSelector((state) => state.data.tables);\r\n  const [editClient, setEditClient] = useState({});\r\n  const [showEdit, setShowEdit] = useState(false);\r\n  const [ping, setping] = useState(false);\r\n  const [search, setSearch] = useState(\"\");\r\n  const params = useParams();\r\n  const navigate = useNavigate();\r\n  const { id } = params;\r\n  const { t } = useTranslation();\r\n  const dispatch = useDispatch();\r\n  const products = useSelector((state) => state.data.products);\r\n  const categories = useSelector((state) => state.data.categories);\r\n\r\n  const [storeid, setstoreid] = useState(\"\")\r\n\r\n  const tick = () => {\r\n    setDate(new Date().toLocaleTimeString(\"fr-fr\").replace(/(.*)\\D\\d+/, \"$1\"));\r\n  };\r\n\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .post(\r\n        \"http://192.168.1.166:5000/api/products\",\r\n        {\r\n          user_id,\r\n          category: 0,\r\n        }\r\n      )\r\n      .then((res) => {\r\n        dispatch(storeProducts({ products: res.data.products }));\r\n        dispatch(storeNSteps({ nSteps: res.data.menuSteps }));\r\n      });\r\n      axios\r\n      .post(\r\n       \"http://192.168.1.166:5000/api/categories\",\r\n        {\r\n          user_id,\r\n        }\r\n      )\r\n      .then((res) =>\r\n        dispatch(\r\n          storeCategories({\r\n            categories: res.data.sort((a, b) => a.cat_order - b.cat_order),\r\n          })\r\n        )\r\n      );\r\n      console.log(categories)\r\n  }, []);\r\n \r\n\r\n  const handleDisconnect = () => {\r\n    localStorage.removeItem(\"user\");\r\n    localStorage.removeItem(\"username\");\r\n    navigate(\"/\");\r\n  };\r\n\r\n  const renderHTML = (rawHTML: string) =>\r\n    React.createElement(\"div\", {\r\n      dangerouslySetInnerHTML: { __html: rawHTML },\r\n    });\r\n  const currency = localStorage.getItem(\"currency\").replace(/;/g, '').replace(/&/g, '');\r\n  \r\n  const table = ({ e }) => {\r\n    console.log(e);\r\n    return tables.find((table) => table.id == e);\r\n  };\r\n\r\n  return (\r\n    <div className=\"navbar\">\r\n      <Navbar\r\n        style={{  height: \"60px\" }}\r\n        variant=\"warning\"\r\n      >\r\n        <Container className=\"history-navbar\">\r\n          <Navbar.Brand>\r\n            <div class=\"logo-container\">\r\n              <img id=\"chrome\" class=\"logo\" src={logo} />\r\n            </div>\r\n          </Navbar.Brand>\r\n          <Nav className=\"ms-auto\">\r\n            <Nav.Link onClick={() => navigate(\"/main\")}>\r\n              <img width=\"45px\" src={tableIcon} className=\"table-icon\" />\r\n            </Nav.Link>\r\n            <Nav.Link>\r\n              <h6\r\n                style={{ color: \"white\", paddingTop: \"1rem\" }}\r\n                className=\"agenda\"\r\n              >\r\n                <FontAwesomeIcon\r\n                  icon={faCalendarAlt}\r\n                  style={{ marginRight: \"5px\" }}\r\n                />\r\n                Agenda\r\n              </h6>\r\n            </Nav.Link>\r\n            <Nav.Link onClick={() => navigate(\"/cloture\")}>\r\n              <h6\r\n                style={{ color: \"white\", paddingTop: \"1rem\" }}\r\n                className=\"caiss-h6\"\r\n              >\r\n                <FontAwesomeIcon\r\n                  icon={faCashRegister}\r\n                  style={{ marginRight: \"5px\" }}\r\n                />\r\n                {t(\"cashier\")}\r\n              </h6>\r\n            </Nav.Link>\r\n            <Nav.Link onClick={() => handleDisconnect()}>\r\n              <h6\r\n                style={{ color: \"white\", paddingTop: \"1rem\" }}\r\n                className=\"log-out\"\r\n              >\r\n                <FontAwesomeIcon\r\n                  icon={faSignOutAlt}\r\n                  style={{ marginRight: \"5px\" }}\r\n                />\r\n                {t(\"disconnect\")}\r\n              </h6>\r\n            </Nav.Link>\r\n          </Nav>\r\n          <h6\r\n            className=\"client-server-icon\"\r\n            style={{\r\n              color: \"white\",\r\n              marginLeft: \"1rem\",\r\n              marginTop: \"0.5rem\",\r\n              borderLeft: \"1px solid white\",\r\n              padding: \"5px\",\r\n            }}\r\n          >\r\n            <img\r\n              src={serveur}\r\n              width={32}\r\n              height={32}\r\n              style={{ marginRight: \"0.5rem\" }}\r\n            />\r\n            <b>{username}</b>\r\n            <FontAwesomeIcon\r\n              onClick={() => handleDisconnect()}\r\n              size=\"2x\"\r\n              icon={faSignOutAlt}\r\n              style={{ marginLeft: \"0.5rem\", paddingTop: \"0.5rem\" }}\r\n            />\r\n          </h6>\r\n          <div className=\"client-search\">\r\n            <label>\r\n              <FontAwesomeIcon icon={faSearch} />\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Chercher...\"\r\n              onChange={(e) => setFilter(e.target.value)}\r\n              value={filter}\r\n            />\r\n          </div>\r\n        </Container>\r\n      </Navbar>\r\n      <div className=\"backoffice\">\r\n        <div className=\"B_header\">\r\n       \r\n            <select name=\"\" id=\"b_office_select\"  onChange={(e)=>{setstoreid(e.target.value) }} >\r\n            <option  value=\"\">Voirs tous</option>\r\n             {categories.map((e,key)=><option  key={key} value={e.id}>{e.name}</option>)} \r\n            </select>\r\n         \r\n        </div>\r\n      <div className=\"all-produc-menus\" >    \r\n        {products.length!=0? <div className=\"modal-bodyss\">\r\n            {\r\n             \r\n              products.filter(e=>storeid!=''?e.cat_id==storeid:e.cat_id).filter(e=>e.name.toLowerCase().includes(filter.toLowerCase())||e.code.includes(filter)).map((product,key)=><ProductStock setAlert={setAlert}  product={product} />\r\n\r\n              )\r\n              \r\n            }\r\n          </div>:<div className=\"loadingProd\">\r\n   \r\n   <h1>Chargement des produits...</h1>\r\n   <img src={loading} alt=\"loading\" />\r\n </div>  }       \r\n        </div>\r\n        </div>    \r\n      <NaviBottom />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default History;\r\n","export default __webpack_public_path__ + \"static/media/bgg.5f53063d.png\";","import { useCallback, useRef, useState } from \"react\";\r\n\r\nconst useLongPress = (\r\n  onLongPress,\r\n  onClick,\r\n  { shouldPreventDefault = true, delay = 300 } = {}\r\n) => {\r\n  const [longPressTriggered, setLongPressTriggered] = useState(false);\r\n  const timeout = useRef();\r\n  const target = useRef();\r\n\r\n  const start = useCallback(\r\n    (event) => {\r\n      if (shouldPreventDefault && event.target) {\r\n        event.target.addEventListener(\"touchend\", preventDefault, {\r\n          passive: false,\r\n        });\r\n        target.current = event.target;\r\n      }\r\n      timeout.current = setTimeout(() => {\r\n        onLongPress(event);\r\n        setLongPressTriggered(true);\r\n      }, delay);\r\n    },\r\n    [onLongPress, delay, shouldPreventDefault]\r\n  );\r\n\r\n  const clear = useCallback(\r\n    (event, shouldTriggerClick = true) => {\r\n      timeout.current && clearTimeout(timeout.current);\r\n      shouldTriggerClick && !longPressTriggered && onClick();\r\n      setLongPressTriggered(false);\r\n      if (shouldPreventDefault && target.current) {\r\n        target.current.removeEventListener(\"touchend\", preventDefault);\r\n      }\r\n    },\r\n    [shouldPreventDefault, onClick, longPressTriggered]\r\n  );\r\n\r\n  return {\r\n    onMouseDown: (e) => start(e),\r\n    onTouchStart: (e) => start(e),\r\n    onMouseUp: (e) => clear(e),\r\n    onMouseLeave: (e) => clear(e, false),\r\n    onTouchEnd: (e) => clear(e),\r\n  };\r\n};\r\n\r\nconst isTouchEvent = (event) => {\r\n  return \"touches\" in event;\r\n};\r\n\r\nconst preventDefault = (event) => {\r\n  if (!isTouchEvent(event)) return;\r\n\r\n  if (event.touches.length < 2 && event.preventDefault) {\r\n    event.preventDefault();\r\n  }\r\n};\r\n\r\nexport default useLongPress;\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\nimport { Button, Form, FormGroup } from \"react-bootstrap\";\r\nimport Keyboard from \"react-simple-keyboard\";\r\nimport \"react-simple-keyboard/build/css/index.css\";\r\nimport {\r\n  faCheck,\r\n  faCross,\r\n  faMinusCircle,\r\n  faMinusSquare,\r\n  faPlus,\r\n  faPlusCircle,\r\n  faPlusSquare,\r\n  faTimes,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport Swal from \"sweetalert2\";\r\n\r\nconst RemiseModal = ({\r\n  handleUpdateOrder,\r\n  orderTo,\r\n  setOrderTo,\r\n  setshowRemise,\r\n  calcOrder,\r\n}) => {\r\n  const currency = localStorage.getItem(\"currency\");\r\n  const [ping, setping] = useState(true);\r\n  const [input, setInput] = useState(\"\");\r\n  const [myLayout, setLayout] = useState([\r\n    \"9 8 7\",\r\n    \"6 5 4\",\r\n    \"3 2 1\",\r\n    \"0 {bksp}\",\r\n  ]);\r\n  const keyboard = useRef();\r\n  const [remisePerc, setremisePerc] = useState(0);\r\n  const [remise, setremise] = useState(0);\r\n  const [libre, setlibre] = useState(0);\r\n  const [offert, setoffert] = useState(false);\r\n  const [selected, setselected] = useState(\"\");\r\n\r\n  const handleRemise = () => {\r\n    let copy = JSON.parse(JSON.stringify(orderTo.order) || {});\r\n    let finalPrice = 0;\r\n    if (offert == true) {\r\n      finalPrice = 0;\r\n      console.log(\"offert\", finalPrice,copy);\r\n    } else if (remisePerc > 0) {\r\n      finalPrice =\r\n      orderTo.order?.price -\r\n        (orderTo.order?.price * remisePerc) / 100;\r\n      console.log(\"perc\", finalPrice);\r\n    } else if (remise > 0) {\r\n      finalPrice = orderTo.order?.price - remise;\r\n      console.log(\"remise\", finalPrice);\r\n     \r\n    } else if (libre > 0) {\r\n      finalPrice = libre;\r\n      console.log(\"libre\", finalPrice);\r\n    }\r\n    console.log(\"nothing\");\r\n    copy = { ...copy, finalPrice };\r\n    setOrderTo({ ...orderTo, order: copy });\r\n  };\r\n\r\n  useEffect(() => {\r\n    handleRemise();\r\n  }, [offert, remise, remisePerc, libre]);\r\n\r\n  const onChange = (input) => {\r\n    setInput(input);\r\n    console.log(\"Input changed\", input);\r\n    switch (selected) {\r\n      case \"remisePerc\":\r\n        if (Number(input) > 100) {\r\n          Swal.fire({\r\n            icon: \"warning\",\r\n            title: \"faut etre inferieur a 100%\",\r\n            showConfirmButton: false,\r\n            timer: 1500,\r\n          });\r\n        } else {\r\n          setremisePerc(Number(input));\r\n          console.log(remisePerc);\r\n          setremise(0);\r\n          setlibre(0);\r\n          setoffert(false);\r\n        }\r\n        break;\r\n      case \"remise\":\r\n        if (Number(input) > orderTo.order?.price) {\r\n          Swal.fire({\r\n            icon: \"warning\",\r\n            title: `faut etre inferieur a ${calcOrder(orderTo.order).price} `,\r\n            showConfirmButton: false,\r\n            timer: 1500,\r\n          });\r\n        } else {\r\n          setremisePerc(0);\r\n          setremise(Number(input));\r\n          console.log(remise);\r\n          setlibre(0);\r\n          setoffert(false);\r\n        }\r\n        break;\r\n      case \"libre\":\r\n        setremisePerc(0);\r\n        setremise(0);\r\n        setlibre(Number(input));\r\n        console.log(libre);\r\n        setoffert(false);\r\n        break;\r\n    }\r\n\r\n    // handleRemise();\r\n    // let newarr = [...lay];\r\n    // newarr[selected].value = Number(input);\r\n    // setlay(newarr);\r\n    setInput(\"\");\r\n  };\r\n\r\n  const onKeyPress = (button) => {\r\n    console.log(\"Button pressed\", button);\r\n  };\r\n\r\n  const onChangeInput = ({ e, index }) => {\r\n    const input = e.target.value;\r\n    setInput(input);\r\n    keyboard.current.setInput(input);\r\n    // setTotal(calcMontant());\r\n  };\r\n\r\n  const renderHTML = (rawHTML: string) =>\r\n    React.createElement(\"div\", {\r\n      dangerouslySetInnerHTML: { __html: rawHTML },\r\n    });\r\n  return (\r\n    <div className=\"remise_modal\">\r\n      <div className=\"uper\">\r\n        <h3>Remise</h3>\r\n        <FontAwesomeIcon\r\n          style={{ position: \"absolute\", top: \"5px\", right: \"8px\" }}\r\n          onClick={() => setshowRemise(false)}\r\n          icon={faTimes}\r\n          size=\"2x\"\r\n        />\r\n      </div>\r\n      <div className=\"con\">\r\n        <FormGroup style={{ display: \"flex\" }}>\r\n          <Form.Label className=\"remise_input\">\r\n            <b>Remise (%)</b>\r\n          </Form.Label>\r\n          <Form.Control\r\n            onChange={(e) => onChangeInput({ e, index: 5 })}\r\n            className=\"remise_input\"\r\n            value={`${remisePerc} %`}\r\n            onFocus={() => {\r\n              setselected(\"remisePerc\");\r\n              keyboard.current.setInput(\"\");\r\n            }}\r\n          ></Form.Control>\r\n        </FormGroup>\r\n        <FormGroup style={{ display: \"flex\" }}>\r\n          <Form.Label className=\"remise_input\">\r\n            <b>Remise ()</b>\r\n          </Form.Label>\r\n          <Form.Control\r\n            onChange={(e) => onChangeInput({ e, index: 5 })}\r\n            className=\"remise_input\"\r\n            value={`${remise?.toFixed(2)} `}\r\n            onFocus={() => {\r\n              setselected(\"remise\");\r\n              keyboard.current.setInput(\"\");\r\n            }}\r\n          ></Form.Control>\r\n        </FormGroup>\r\n        <FormGroup style={{ display: \"flex\" }}>\r\n          <Form.Label className=\"remise_input\">\r\n            <b>Montant libre ()</b>\r\n          </Form.Label>\r\n          <Form.Control\r\n            onChange={(e) => onChangeInput({ e, index: 5 })}\r\n            value={`${libre?.toFixed(2)} `}\r\n            className=\"remise_input\"\r\n            onFocus={() => {\r\n              setselected(\"libre\");\r\n              keyboard.current.setInput(\"\");\r\n            }}\r\n          ></Form.Control>\r\n        </FormGroup>\r\n        <FormGroup style={{ display: \"flex\", marginTop: \"1rem\" }}>\r\n          <Button\r\n            variant={offert ? \"success\" : \"danger\"}\r\n            onClick={() => {\r\n              setoffert(!offert);\r\n              setremisePerc(Number(input));\r\n              setremise(0);\r\n              setlibre(0);\r\n              handleRemise();\r\n            }}\r\n            style={{\r\n              width: \"150px\",\r\n            }}\r\n          >\r\n            <FontAwesomeIcon\r\n              icon={offert ? faCheck : faTimes}\r\n              style={{ marginRight: \"2.2rem\" }}\r\n            />\r\n            Offert !\r\n          </Button>\r\n        </FormGroup>\r\n        <FormGroup style={{ display: \"flex\", marginTop: \"0.5rem\" }}>\r\n          <Button\r\n            onClick={() => handleUpdateOrder()}\r\n            variant={\"success\"}\r\n            style={{\r\n              width: \"150px\",\r\n              height: \"80px\",\r\n            }}\r\n          >\r\n            <FontAwesomeIcon icon={faPlus} style={{ marginRight: \"1rem\" }} />\r\n            Confirmer\r\n          </Button>\r\n        </FormGroup>\r\n      </div>\r\n      <div className=\"off\">\r\n        <h5>\r\n          <b>\r\n            {\"Prix initial : \" +\r\n              orderTo.order?.price.toFixed(2) +\r\n              \"\"}\r\n          </b>\r\n        </h5>\r\n        <h5>\r\n          <b>\r\n            {\"Nouveau Prix : \" + orderTo.order.finalPrice?.toFixed(2) ||\r\n              0 + \"\"}\r\n          </b>\r\n        </h5>\r\n      </div>\r\n      <Keyboard\r\n        theme={\"hg-theme-default hg-layout-default myTheme3\"}\r\n        display={{\r\n          \"{bksp}\": \"EFFACER\",\r\n        }}\r\n        buttonTheme={[\r\n          {\r\n            class: \"key_btn2\",\r\n            buttons: \"0 1 2 3 4 5 6 7 8 9 {bksp} {enter}\",\r\n          },\r\n          {\r\n            class: \"hg-highlight\",\r\n            buttons: \"Q q\",\r\n          },\r\n        ]}\r\n        keyboardRef={(r) => (keyboard.current = r)}\r\n        layoutName={\"default\"}\r\n        layout={{\r\n          default: myLayout,\r\n        }}\r\n        onChange={onChange}\r\n        onKeyPress={onKeyPress}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RemiseModal;\r\n","import { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { Table, Button, Alert, Modal, Spinner } from \"react-bootstrap\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport image from \"./../Shared/bgg.png\";\r\nimport cartbg from \"./../Shared/cartbg.png\";\r\nimport {\r\n  addNewcheckoutData,\r\n\r\n  clearOrders,\r\n \r\n  deleteOrder,\r\n  setCheckoutChange,\r\n \r\n  setNewOrder,\r\n  setOrderChange,\r\n} from \"../Slices/order\";\r\nimport useTranslation from \"./../i18\";\r\nimport {\r\n  faCheck,\r\n  faMinusCircle,\r\n  faMinusSquare,\r\n  faPlusCircle,\r\n  faPlusSquare,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport { useNavigate, useParams } from \"react-router\";\r\nimport Swal from \"sweetalert2\";\r\nimport axios from \"axios\";\r\nimport useLongPress from \"./useLongPress\";\r\nimport RemiseModal from \"./RemiseModal\";\r\n// import { forEach } from \"lodash\";\r\n// import e from \"cors\";\r\nimport io from \"socket.io-client\";\r\nimport { setPing } from \"../Slices/data\";\r\n\r\nconst CartMenu = ({ selectedTable, setconfirmed, confirmed }) => {\r\n  const ping = useSelector((state) => state.data.ping);\r\n  const username = localStorage.getItem(\"username\")\r\n  const navigate = useNavigate();\r\n  const { t } = useTranslation();\r\n  const dispatch = useDispatch();\r\n  const { nbr, nbrCouverts } = selectedTable;\r\n  const [total, setTotal] = useState(0);\r\n  const [step, setstep] = useState(1);\r\n  const nsteps = useSelector((state) => state.data.nSteps);\r\n  const [selected, setselected] = useState(0);\r\n  const table_number = useSelector((state) => state.order.selectedTable.id);\r\n  const client = useSelector((state) => state.order.client);\r\n  const remarque = useSelector((state) => state.order.remarque);\r\n  const params = useParams();\r\n  const { order_id } = params;\r\n  \r\nconst checkOutData = useSelector((state) => state.order.checkoutData || []);\r\nconst [late_order_id, setlate_order_id] = useState(0);\r\n\r\n  const orders = useSelector((state) => state.order.orders || []);\r\n  console.log(\"order carte menu\",orders)\r\n\r\n  const [newOrders, setnewOrders] = useState([]);\r\n  const [orderTo, setOrderTo] = useState({ order: {}, key: 0 });\r\n  const [ShowModifyModal, setShowModifyModal] = useState(false);\r\n  const [activation, setactivation] = useState(false)\r\n  const tva_mode = useSelector((state) => state.data.tva_mode);\r\n  const orderType = useSelector((state) => state.order.orderType);\r\n  const [rab_tva, setRab_tva] = useState(0);\r\n  const products = useSelector((state) => state.data.products);\r\n  const user_id = localStorage.getItem(\"user_id\");\r\n  const user = localStorage.getItem(\"username\");\r\n  const [newCommande, setNewCommande] = useState({})\r\n  const currentOrder = checkOutData.filter((e) => e.order_id == order_id)[0];\r\n  // const tva = localStorage.getItem(\"tva\");\r\n\r\n  useEffect(() => {\r\n\r\n    if (order_id != undefined) {\r\n      console.log(currentOrder);\r\n      currentOrder?.orderItems?.map((item) => {\r\n        dispatch(setNewOrder({ order: item }));\r\n      });\r\n    }\r\n  }, []);\r\n\r\n  const findProductWithId = (id) => {\r\n    return products.find((prod) => prod.id == id) || {};\r\n  };\r\n\r\n  const calcOrder = (order) => {\r\n    //test\r\n\r\n    let price;\r\n    if (order?.finalPrice) {\r\n      price = order.finalPrice;\r\n    } else if (order?.finalPrice == 0) {\r\n      price = 0;\r\n    } else {\r\n      price = order.price;\r\n    }\r\n    //\r\n\r\n    let tva = order.tva;\r\n    if (orderType == \"sur place\" || orderType == \"livraison\") {\r\n      tva = tva_mode.find((e) => e.nom == \"sur place\").valeur;\r\n    } else if (orderType == \"emporter\") {\r\n      tva = tva_mode.find((e) => e.nom == \"emporter\").valeur;\r\n    }\r\n    if (rab_tva > 0) {\r\n      tva = rab_tva;\r\n    }\r\n    if (order.extras && order.extras.length) {\r\n     \r\n      order.extras.map((extra) => {\r\n        console.log(extra.price, extra.default_quantity);\r\n        price += extra.price * extra.default_quantity;\r\n      });\r\n    }\r\n    if (order.stepItems && order.stepItems != {}) {\r\n      Object.keys(order.stepItems).map((e) => {\r\n        order.stepItems[e].map((item) => {\r\n          price += item.price;\r\n        });\r\n      });\r\n    }\r\n\r\n    if (order.offert == true) {\r\n      return 0;\r\n    } else\r\n      return {\r\n        dbPrice: price,\r\n        price: price * order.qt,\r\n        tva: (price * order.qt * tva) / 100,\r\n        item_tva: tva,\r\n      };\r\n  };\r\n\r\n  useEffect(() => {\r\n    let copy = JSON.parse(JSON.stringify(orders) || [{}]);\r\n   \r\n    setnewOrders(copy);\r\n    orders.map((order) => {\r\n      if (order.is_alcool == true) {\r\n        let tva_alcool = tva_mode.find((e) => e.nom == \"alcool\").valeur;\r\n        console.log(tva_alcool);\r\n        setRab_tva(tva_alcool);\r\n      }\r\n    });\r\n  }, [orders]);\r\n\r\n  const calcTotal = () => {\r\n    let tot = 0;\r\n    let tva = 0;\r\n    let tvas = [];\r\n    newOrders.map((order) => {\r\n      tot += calcOrder(order).price;\r\n      tva += calcOrder(order).tva;\r\n      tvas=tvass;\r\n    });\r\n    return { tot, tva, tvas };\r\n  };\r\n\r\n  var groupBy = function (xs, key) {\r\n    return xs?.reduce(function (rv, x) {\r\n      (rv[x[key]] = rv[x[key]] || []).push(x.value);\r\n      return rv;\r\n    }, {});\r\n  };\r\n\r\n  const handlePlusOrMinus = ({ key, order, sign}) => {\r\n    if (sign == \"+\") {\r\n      let newOrder = { ...order, qt: order.qt + 1 };\r\n      console.log(newOrder);\r\n      dispatch(setOrderChange({ key, order: newOrder }));\r\n    } else {\r\n      if (order.qt == 1) {\r\n        dispatch(deleteOrder({ key }));\r\n      } else {\r\n        let newOrder = { ...order, qt: order.qt - 1 };\r\n        dispatch(setOrderChange({ key, order: newOrder }));\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleClose = () => setShowModifyModal(false);\r\n\r\n  const handleExtra = ({ extraKey, sign }) => {\r\n    let copy = JSON.parse(JSON.stringify(orderTo.order) || {});\r\n    if (sign == \"+\" && copy.extras[extraKey].default_quantity < 1) {\r\n      copy.extras[extraKey].default_quantity += 1;\r\n      console.log(copy);\r\n      setOrderTo({ ...orderTo, order: copy });\r\n    } else {\r\n      if (copy.extras[extraKey].default_quantity > 0) {\r\n        copy.extras[extraKey].default_quantity -= 1;\r\n        console.log(copy);\r\n        setOrderTo({ ...orderTo, order: copy });\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleSlotSelect = ({ slotKey, id }) => {\r\n    console.log(slotKey, id);\r\n    let copy = JSON.parse(JSON.stringify(orderTo.order) || {});\r\n    copy.slots[slotKey].products.forEach((prod) => {\r\n      prod.id == id ? (prod.checked = true) : (prod.checked = false);\r\n      console.log(prod.name);\r\n    });\r\n    setOrderTo({ ...orderTo, order: copy });\r\n  };\r\n\r\n  const handleStepSelect = ({ id, STP }) => {\r\n    console.log(STP);\r\n    setselected(step);\r\n    let copy = JSON.parse(JSON.stringify(orderTo.order) || {});\r\n    let max_select = STP.max_select;\r\n    if (copy.stepItems[step] == undefined) {\r\n      copy.stepItems[step] = [];\r\n      console.log(copy);\r\n    }\r\n    if (copy.stepItems[step].length < max_select) {\r\n      if (!copy.stepItems[step].find((el) => el.id == id)) {\r\n        console.log(\"will push now\");\r\n        copy.stepItems[step].push(findProductWithId(id));\r\n      }\r\n    }\r\n    {\r\n      if (!copy.stepItems[step].find((el) => el.id == id)) {\r\n        copy.stepItems[step] = [];\r\n        copy.stepItems[step].push(findProductWithId(id));\r\n      }\r\n    }\r\n\r\n    setOrderTo({ ...orderTo, order: copy });\r\n    console.log(\"done\");\r\n    console.log(copy);\r\n  };\r\n\r\n  const handleUpdateOrder = () => {\r\n    dispatch(setOrderChange({ key: orderTo.key, order: orderTo.order }));\r\n    setShowModifyModal(false);\r\n    setshowRemise(false);\r\n  };\r\n\r\n  var curr = new Date();\r\n  var date = curr.toISOString().substr(0, 10);\r\n  var time = curr.getHours() + \":\" + curr.getMinutes();\r\n\r\n\r\n  const handleConfirm = () => {\r\n    if (confirmed == true) {\r\n      handleFinish();\r\n      setactivation(true)\r\n    } else if (calcTotal().tot == 0) {\r\n      Swal.fire({\r\n        title: \"Attention le montant de la commande est 0  !\",\r\n      });\r\n    } else {\r\n      Swal.fire({\r\n        title: \"confirmer la commande ?\",\r\n        showDenyButton: true,\r\n        showCancelButton: false,\r\n        confirmButtonText: \"confirmer\",\r\n        denyButtonText: `annuler`,\r\n      }).then((result) => {\r\n        /* Read more about isConfirmed, isDenied below */\r\n        if (result.isConfirmed) {\r\n          handlePlaceOrder();\r\n          Swal.fire({\r\n            icon: \"success\",\r\n            title: \"commande confirme\",\r\n            showConfirmButton: false,\r\n            timer: 1500,\r\n          });\r\n          setconfirmed(true);\r\n        }\r\n      });\r\n    }\r\n    // setconfirmed(true);\r\n  };\r\n  let tvass=[]\r\n  let v3,v1,v2,vs1,vs2,vs3,ht1,ht2,ht3;\r\n  v2=0;\r\n  v1=0;\r\n  v3=0;\r\n  vs1=0;\r\n  vs2=0;\r\n  vs3=0;\r\n  orders?.map((item) => {\r\n    if (item.is_alcool) {\r\n      \r\n      v3=+item.qt+v3;\r\n      vs3=+item.price;\r\n      console.log(v3);\r\n     }\r\n     else if(item.is_conserved){\r\n       v1=+item.qt+v1;\r\n      \r\n       vs1=+item.price;\r\n     }\r\n \r\n       else {\r\n         v2=+item.qt+v2;\r\n         vs2=+item.price;\r\n       }\r\n \r\n       ht1=v1*(vs1/(1+(5.5/100)));\r\n       ht2=v2*(vs2/(1+(10/100)));\r\n       ht3=v3*(vs3/(1+(20/100)));\r\n      var tva5= {\r\n        \"name\": \"5.5 %\",\r\n        \"count\":v1,\r\n        \"totaltcc\":vs1,\r\n        \"amount\":ht1.toFixed(2)\r\n      };\r\n      var tva10= {\r\n        \"name\": \"10 %\",\r\n        \"count\":v2,\r\n        \"totaltcc\":vs2,\r\n        \"amount\":ht2.toFixed(2)\r\n      };\r\n      var tva20= {\r\n        \"name\": \"20 %\",\r\n        \"count\":v3,\r\n        \"totaltcc\":vs3,\r\n        \"amount\":ht3.toFixed(2)\r\n      };\r\n      tvass[0] = tva5;\r\n      tvass[1] = tva10;\r\n      tvass[2] = tva20;\r\n   });\r\n \r\n\r\n  const handlePlaceOrder = () => {\r\n    \r\n    let order = {\r\n      table: nbr || \"\",\r\n      server:username,\r\n      from_kiosk:false,\r\n      client_id: client?.id,\r\n      id: order_id ? order_id : \"\",\r\n      message: remarque || client?.message || \"aucune\",\r\n      customer_name: client?.name || \"\",\r\n      customer_company: client?.company || \"\",\r\n      code1: client?.code1 || \"\",\r\n      code2: client?.code2 || \"\",\r\n      interphone: client?.interphone || \"\",\r\n      etage: client?.etage || \"\",\r\n      table_number: table_number || 0,\r\n      customer_tel: client?.phone || \"\",\r\n      customer_adress: client?.address\r\n        ? `${client?.address} - ${client?.city} - ${client?.post}\r\n      code 1 : ${client?.code1 || \"\"} | code2 : ${client?.code2 || \"\"}\r\n       interphone : ${client?.interphone || \"\"} | etage : ${client?.etage || \"\"\r\n        }`\r\n        : \"\",\r\n      status: \"pending\",\r\n      orderType: orderType || \"sur place\",\r\n      paymentType: \"Especes\",\r\n      totalPrice: calcTotal().tot,\r\n      taxPrice: calcTotal().tva,\r\n      tvas: tvass,\r\n      orderItems: [],\r\n      \r\n      date: client?.date || date,\r\n      time: client?.time || time,\r\n    };\r\n    newOrders.map((one) => {\r\n      order.orderItems.push({\r\n        ...one,\r\n        price: one.finalPrice || calcOrder(one).dbPrice,\r\n      });\r\n    });\r\n  \r\n\r\n    if (order_id) {\r\n      setlate_order_id(order_id);\r\n\r\n      axios\r\n        .post(\r\n         \"http://192.168.1.166:5000/api/updateorder\",\r\n          {\r\n            order: order,\r\n            user_id: user_id,\r\n          }\r\n        )\r\n        .then((res) => {\r\n          console.log(res.data);\r\n          axios\r\n            .post(\r\n              \"http://192.168.1.166:5000/api/printOrder\",\r\n              {\r\n                kitchen: true,\r\n                user_id: user_id,\r\n                order: {\r\n                  new: true,\r\n                  ...order,\r\n                  table_number: order.table || \"\",\r\n                  order_id: order_id,\r\n                  Date: new Date(),\r\n                  nbrCouverts: client?.nbrCouverts || nbrCouverts,\r\n                },\r\n              }\r\n            )\r\n            .then((res) => console.log(res.data))\r\n            .catch((err) => console.log(err));\r\n          dispatch(\r\n            setCheckoutChange({\r\n              order: {\r\n                ...order,\r\n                table_number:\r\n                  table_number || currentOrder.table_number || client?.id,\r\n                order_id: order_id,\r\n                Date: new Date(),\r\n                nbrCouverts: client?.nbrCouverts || nbrCouverts,\r\n              },\r\n            })\r\n          );\r\n          console.log({\r\n            order: {\r\n              ...order,\r\n              order_id: res.data.id,\r\n              Date: new Date(),\r\n              nbrCouverts: client?.nbrCouverts || nbrCouverts,\r\n            },\r\n          });\r\n          const socket = io.connect(process.env.REACT_APP_API_SOCKET);\r\n          socket.emit(`accept${user_id}`, {\r\n            order: {\r\n              ...order,\r\n              order_id: order_id,\r\n              Date: new Date(),\r\n              nbrCouverts: client?.nbrCouverts || nbrCouverts,\r\n            },\r\n          });\r\n        });\r\n    } else if (newCommande.order_id) {\r\n      setlate_order_id(newCommande.order_id);\r\n\r\n      axios\r\n        .post(\r\n          \"http://192.168.1.166:5000/api/updateorder\",\r\n          {\r\n            order: order,\r\n            user_id: user_id,\r\n          }\r\n        )\r\n        .then((res) => {\r\n          console.log(res.data);\r\n          axios\r\n            .post(\r\n             \"http://192.168.1.166:5000/api/printOrder\",\r\n              {\r\n                kitchen: true,\r\n                user_id: user_id,\r\n                order: {\r\n                  new: true,\r\n                  ...order,\r\n                  table_number: order.table || \"\",\r\n                  order_id: newCommande.order_id,\r\n                  Date: new Date(),\r\n                  nbrCouverts: client?.nbrCouverts || nbrCouverts,\r\n                },\r\n              }\r\n            )\r\n            .then((res) => console.log(res.data))\r\n            .catch((err) => console.log(err));\r\n          dispatch(\r\n            setCheckoutChange({\r\n              order: {\r\n                ...order,\r\n                table_number:\r\n                  table_number || currentOrder?.table_number || client?.id,\r\n                order_id: newCommande.order_id,\r\n                Date: new Date(),\r\n                nbrCouverts: client?.nbrCouverts || nbrCouverts,\r\n              },\r\n            })\r\n          );\r\n          console.log({\r\n            order: {\r\n              ...order,\r\n              order_id: res.data.id,\r\n              Date: new Date(),\r\n              nbrCouverts: client?.nbrCouverts || nbrCouverts,\r\n            },\r\n          });\r\n          const socket = io.connect(process.env.REACT_APP_API_SOCKET);\r\n          socket.emit(`accept${user_id}`, {\r\n            order: {\r\n              ...order,\r\n              order_id: newCommande.order_id,\r\n              Date: new Date(),\r\n              nbrCouverts: client?.nbrCouverts || nbrCouverts,\r\n            },\r\n          });\r\n        });\r\n    }\r\n\r\n    else {\r\n      axios\r\n        .post(\r\n          \"http://192.168.1.166:5000/api/orders\",\r\n          {\r\n            client,\r\n            order: order,\r\n            how_paid: \"tout\",\r\n            user_id: user_id,\r\n          }\r\n        )\r\n        .then((res) => {\r\n          setlate_order_id(res.data.id);\r\n    \r\n          axios\r\n            .post(\r\n              \r\n              \"http://192.168.1.166:5000/api/printOrder\",\r\n              {\r\n                kitchen: true,\r\n                user_id: user_id,\r\n                order: {\r\n                  new: false,\r\n                  ...order,\r\n                  tvas: tvass,\r\n                  table_number: nbr || \"\",\r\n                  order_id: res.data.id,\r\n                  Date: new Date(),\r\n                  nbrCouverts: client?.nbrCouverts || nbrCouverts,\r\n                },\r\n              }\r\n            )\r\n            .then((res) => console.log(res.data))\r\n            .catch((err) => console.log(err));\r\n          dispatch(\r\n            addNewcheckoutData({\r\n              order: {\r\n                ...order,\r\n                table_number: table_number || client?.id,\r\n                order_id: res.data.id,\r\n                Date: new Date().getTime(),\r\n                nbrCouverts: client?.nbrCouverts || nbrCouverts,\r\n              },\r\n            })\r\n          );\r\n          let socket = io.connect(process.env.REACT_APP_API_SOCKET);\r\n          socket.emit(`accept${user_id}`, {\r\n            order: {\r\n              ...order,\r\n              order_id: res.data.id,\r\n              Date: new Date(),\r\n              nbrCouverts: client?.nbrCouverts || nbrCouverts,\r\n            },\r\n          });\r\n          setNewCommande({\r\n\r\n            ...order,\r\n            order_id: res.data.id,\r\n            Date: new Date(),\r\n            nbrCouverts: client?.nbrCouverts || nbrCouverts,\r\n\r\n          });\r\n        })\r\n        .catch((err) => console.log(err));\r\n    }\r\n  };\r\n\r\n  const handleFinish = () => {\r\n    if (late_order_id != 0) {\r\n      navigate(\"/checkout/\" + late_order_id);\r\n      dispatch(clearOrders());\r\n    }\r\n    // console.log(order_id);\r\n    // if (selectedTable.nbr || order_id) {\r\n    //   console.log(\"nbr\", table_number);\r\n    //   console.log(\"order\", order_id);\r\n    //   console.log(\"late_order\", late_order_id);\r\n    //   navigate(\"/checkout/\" + table_number || order_id);\r\n    // } else {\r\n    //   console.log(\"else =======>\");\r\n    //   navigate(`/checkout/${client?.id}`);\r\n    // }\r\n  };\r\n  const renderHTML = (rawHTML: string) =>\r\n    React.createElement(\"div\", {\r\n      dangerouslySetInnerHTML: { __html: rawHTML },\r\n    });\r\n  const currency = localStorage.getItem(\"currency\");\r\n  ///////////////////////////////////////////////////////////\r\n  const onLongPress = () => {\r\n    console.log(\"longpress is triggered\");\r\n  };\r\n\r\n  const onClick = () => {\r\n    console.log(\"click is triggered\");\r\n  };\r\n\r\n  const defaultOptions = {\r\n    shouldPreventDefault: false,\r\n    delay: 500,\r\n  };\r\n  const longPressEvent = useLongPress(onLongPress, onClick, defaultOptions);\r\n\r\n  const [showRemise, setshowRemise] = useState(false);\r\n\r\n  const handleTiroir = () => {\r\n    Swal.fire({\r\n      title: \"Ouvrir la caisse pour :\",\r\n      showDenyButton: true,\r\n      showCancelButton: true,\r\n      confirmButtonText: \"Faire la monnaie\",\r\n      denyButtonText: `Sans motif`,\r\n      cancelButtonText: \"Annuler\",\r\n    }).then((result) => {\r\n      console.log(result);\r\n      /* Read more about isConfirmed, isDenied below */\r\n      if (result.isConfirmed) {\r\n        axios.post(\r\n          \"http://192.168.1.166:5000/api/pushlog\",\r\n          {\r\n            user_id: user_id,\r\n            user: user,\r\n            faire: \"pour Faire la monnaie\",\r\n            title: \"Ouverture de tiroir\",\r\n            content: \"ouverture de la caisse par le serveur\",\r\n          }\r\n        );\r\n\r\n        Swal.fire({\r\n          icon: \"success\",\r\n          title: \"Ouvert pour faire la monnaie\",\r\n          showConfirmButton: false,\r\n          timer: 1000,\r\n        });\r\n      } else if (result.isDenied) {\r\n        axios.post(\r\n       \"http://192.168.1.166:5000/api/pushlog\",\r\n          {\r\n            user_id: user_id,\r\n            user: user,\r\n            faire: \"sans motif\",\r\n            title: \"Ouverture de tiroir\",\r\n            content: \"ouverture de la caisse par le serveur\",\r\n          }\r\n        );\r\n\r\n        Swal.fire({\r\n          icon: \"success\",\r\n          title: \"Ouvert sans motif\",\r\n          showConfirmButton: false,\r\n          timer: 1000,\r\n        });\r\n      }\r\n    });\r\n  };\r\n  const handleactivation = () => {\r\n    \r\n  }\r\n  const handleAnnuler = () => {\r\n    Swal.fire({\r\n      title: \"Motif d'annulation \",\r\n      showDenyButton: true,\r\n      showCancelButton: true,\r\n      confirmButtonText: \"Aucun\",\r\n      denyButtonText: `Impay`,\r\n      cancelButtonText: \"Fermer\",\r\n    }).then((result) => {\r\n    \r\n\r\n      /* Read more about isConfirmed, isDenied below */\r\n      if (result.isConfirmed) {\r\n        if (order_id) {\r\n          axios.post(\r\n         \"http://192.168.1.166:5000/api/cancelorder\",\r\n            {\r\n              order: currentOrder,\r\n            }\r\n          ).then(()=>dispatch(setPing(!ping)));\r\n          const socket = io.connect(process.env.REACT_APP_API_SOCKET);\r\n          socket.emit(`accept${user_id}`, {\r\n            order: {\r\n              ...currentOrder\r\n\r\n            },\r\n          });\r\n\r\n          dispatch(setCheckoutChange({order:{...currentOrder,status:\"rejected\",timeRejection:time,rejectedFrom:username,rejected:\"Aucun\"} }));\r\n        }\r\n        if (newCommande.order_id) {\r\n          axios.post(\r\n           \"http://192.168.1.166:5000/api/cancelorder\",\r\n            {\r\n              order: newCommande,\r\n            }\r\n          ).then(()=>dispatch(setPing(!ping)));\r\n          const socket = io.connect(process.env.REACT_APP_API_SOCKET);\r\n          socket.emit(`accept${user_id}`, {\r\n            order: {\r\n              ...newCommande\r\n\r\n            },\r\n          });\r\n\r\n          dispatch(setCheckoutChange({order:{...currentOrder,status:\"rejected\",timeRejection:time,rejectedFrom:username,rejected:\"Aucun\"} }));\r\n        }\r\n        axios.post(\r\n          \"http://192.168.1.166:5000/api/pushlog\",\r\n          {\r\n            user_id: user_id,\r\n            user: user,\r\n            faire: \"Aucun\",\r\n            title: \"Annulation\",\r\n            content: \"Annulation de commande par le serveur\",\r\n          }\r\n        );\r\n        Swal.fire({\r\n          icon: \"success\",\r\n          title: \"Annul (Aucun)\",\r\n          showConfirmButton: false,\r\n          timer: 1000,\r\n        });\r\n\r\n        dispatch(clearOrders());\r\n        navigate(\"/main\");\r\n      } else if (result.isDenied) {\r\n        if (order_id) {\r\n          axios.post(\r\n            \"http://192.168.1.166:5000/api/cancelorder\",\r\n            {\r\n              order: currentOrder,\r\n            }\r\n          ).then(()=>dispatch(setPing(!ping)));\r\n          const socket = io.connect(process.env.REACT_APP_API_SOCKET);\r\n          socket.emit(`accept${user_id}`, {\r\n            order: {\r\n              ...currentOrder\r\n\r\n            },\r\n          });\r\n\r\n\r\n          dispatch(setCheckoutChange({order:{...currentOrder,status:\"rejected\",timeRejection:time,rejectedFrom:username,rejected:\"Impay\"} }));\r\n        }\r\n        if (newCommande.order_id) {\r\n          axios.post(\r\n            \"http://192.168.1.166:5000/api/cancelorder\",\r\n            {\r\n              order: newCommande,\r\n            }\r\n          ).then(()=>dispatch(setPing(!ping)));\r\n          const socket = io.connect(process.env.REACT_APP_API_SOCKET);\r\n          socket.emit(`accept${user_id}`, {\r\n            order: {\r\n              ...newCommande\r\n\r\n            },\r\n          });\r\n\r\n          dispatch(setCheckoutChange({order:{...currentOrder,status:\"rejected\",timeRejection:time,rejectedFrom:username,rejected:\"Impay\"} }));\r\n        }\r\n\r\n\r\n        axios.post(\r\n          \"http://192.168.1.166:5000/api/pushlog\",\r\n          {\r\n            user_id: user_id,\r\n            user: user,\r\n            faire: \"Impay\",\r\n            title: \"Annulation\",\r\n            content: \"Annulation de commande par le serveur\",\r\n          }\r\n        );\r\n\r\n        Swal.fire({\r\n          icon: \"success\",\r\n          title: \"Annul (Impay)\",\r\n          showConfirmButton: false,\r\n          timer: 1000,\r\n        });\r\n        dispatch(clearOrders());\r\n        navigate(\"/main\");\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"cart-menu\">\r\n      {selectedTable.nbr ? (\r\n        <h6 className=\"cart-menu-table-nbr\">{`table ${nbr} - ${nbrCouverts} ${t(\r\n          \"couverts\"\r\n        )}`}</h6>\r\n      ) : client.name? (\r\n        <h6 className=\"cart-menu-table-nbr\">{`Client ${client.name} - ${client.type}\r\n          `}</h6>\r\n      ) : \r\n        order_id?<b>Commande # {order_id}</b>:<br/>\r\n      }\r\n      \r\n      <Table className=\"ttt2\">\r\n        <thead className=\"tbds2\">\r\n          <tr>\r\n            <th>{t(\"article\")}</th>\r\n            <th>Qte</th>\r\n            <th>{t(\"price\")}</th>\r\n          </tr>\r\n        </thead>\r\n        \r\n        <tbody className=\"scro2 \">\r\n          { newOrders?.map((order, key) => (\r\n\r\n            \r\n            <tr\r\n              className=\"catt\"\r\n              style={{\r\n                backgroundColor:\r\n                  order.new == \"true\" || confirmed == true || activation == true\r\n                    ? \"#55efc4\"\r\n                    : \"transparent\",\r\n                color:\r\n                  order.new == \"true\" || confirmed == true ? \"white\" : \"black\",\r\n              }}\r\n\r\n            >\r\n              <td className=\"mytd\">\r\n                <p\r\n                  onClick={() => {\r\n                    setOrderTo({ order, key });\r\n                    setshowRemise(true);\r\n                  }}\r\n                  className=\"mytd_order-name\"\r\n                >\r\n                  {order.name}\r\n                </p>\r\n                {order.extras && order.extras.length\r\n                  ? order.extras\r\n                    .filter((el) => el.default_quantity > 0)\r\n                    .map((extra) => (\r\n                      <span className=\"boba\">{extra.title}-</span>\r\n                    ))\r\n                  : \"\"}\r\n                {order.stepItems && Object.keys(order.stepItems).length ? (\r\n                  <div>\r\n                    {Object.keys(order.stepItems).map((key) =>\r\n                      order.stepItems[key].map((el) => (\r\n                        <span\r\n                          style={{\r\n                            textAlign: \"start\",\r\n                            color: \"#ff6b6b\",\r\n                          }}\r\n                        >\r\n                          -{el.name}\r\n                        </span>\r\n                      ))\r\n                    )}\r\n                  </div>\r\n                ) : order.is_supp ? (\r\n                  <div className=\"order_with_supp_item\">\r\n\r\n                    {order?.suppSelected.map((key, el) => (\r\n                      <span \r\n                      key={key}\r\n                        style={{\r\n                          textAlign: \"start\",\r\n                          color: \"#ff6b6b\",\r\n                        }}\r\n                      >\r\n                     - {order?.suppSelected.at(el).name}\r\n                      </span>\r\n                    ))}\r\n\r\n\r\n\r\n                  </div>\r\n                )\r\n\r\n                  : order?.slots ? (\r\n                    <div>\r\n                      <span\r\n                        style={{\r\n                          textAlign: \"start\",\r\n                          color: \"grey\",\r\n                        }}\r\n                      >\r\n                        {\r\n                          Object.entries(order.slots)[0]?.[1]?.products?.filter(\r\n                            (e) => e.checked\r\n                          )[0]?.name\r\n                        }\r\n                      </span>\r\n                      <br />\r\n                      <span\r\n                        style={{\r\n                          textAlign: \"start\",\r\n                          color: \"grey\",\r\n                        }}\r\n                      >\r\n                        {\r\n                          Object.entries(order.slots)[1]?.[1]?.products?.filter(\r\n                            (e) => e.checked\r\n                          )[0]?.name\r\n                        }\r\n                      </span>\r\n                      <br />\r\n                      <span\r\n                        style={{\r\n                          textAlign: \"start\",\r\n                          color: \"grey\",\r\n                        }}\r\n                      >\r\n                        {\r\n                          Object.entries(order.slots)[2]?.[1]?.products?.filter(\r\n                            (e) => e.checked\r\n                          )[0]?.name\r\n                        }\r\n                      </span>\r\n                    </div>\r\n                  ) : (\r\n                    \"\"\r\n                  )}\r\n              </td>\r\n              <td\r\n                style={{\r\n                  display: \"flex\",\r\n                  justifyContent: \"space-evenly\",\r\n                  height: \"30px\",\r\n                }}\r\n              >\r\n                <FontAwesomeIcon\r\n                  icon={faMinusCircle}\r\n                  color=\"#ff6b6b\"\r\n                  onClick={() => {if (confirmed==true || activation==true)\r\n                    {<h1>-</h1>}\r\n                    else{handlePlusOrMinus({ order, key, sign: \"-\" })}\r\n                  }\r\n                  }\r\n                />\r\n                <p\r\n                  className=\"mytd_order-qty\"\r\n                  onClick={() => {\r\n                    setOrderTo({ order, key });\r\n                    setShowModifyModal(true);\r\n                  }}\r\n                  {...longPressEvent}\r\n                >\r\n                  <b>{order.qt}</b>\r\n                </p>\r\n\r\n                <FontAwesomeIcon\r\n              \r\n                  icon={faPlusCircle}\r\n                  color=\"#ff6b6b\"\r\n                  onClick={() =>\r\n                    handlePlusOrMinus({ order, key, sign: \"+\" })}\r\n                  variant=\"success\"\r\n                />\r\n              </td>\r\n              <td\r\n                style={{\r\n                  height: \"30px\",\r\n                }}\r\n              >\r\n                <p\r\n                  className=\"mytd_order-qty\"\r\n                  style={{\r\n                    fontWeight: \"bold\",\r\n                    display: \"flex\",\r\n                  }}\r\n                >\r\n                  {calcOrder(order).price.toFixed(2)}{\" \"}\r\n                  {renderHTML(`<i>${currency}</i>`)}\r\n                </p>\r\n              </td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n        {/* <div class=\"zigzag-section\"></div> */}\r\n      </Table>\r\n      <div\r\n        style={{\r\n          width: \"25%\",\r\n          height: \"200px\",\r\n          backgroundColor: \"#f1f1f1\",\r\n          position: \"absolute\",\r\n          bottom: \"0\",\r\n        }}\r\n      >\r\n        <div\r\n          style={{\r\n            borderBottom: \"1px solid white\",\r\n            display: \"flex\",\r\n            alignItems: \"center\",\r\n            position: \"relative\",\r\n            backgroundImage: `url(${image})`,\r\n            objectFit: \"contain\",\r\n            width: \"100%\",\r\n            height: \"50px\",\r\n            paddingTop: \"5px\",\r\n          }}\r\n        >\r\n          <h2\r\n            className=\"dig\"\r\n            style={{\r\n              zIndex: \"999\",\r\n              color: \"#00b894\",\r\n              display: \"flex\",\r\n              paddingLeft: \"1rem\",\r\n              fontFamily: \"DS-DIGIT !important\",\r\n            }}\r\n          >\r\n            {`Total : ${(calcTotal().tot).toFixed(2)}`}{\" \"}\r\n            {renderHTML(`<i >${currency}</i>`)}\r\n          </h2>\r\n        </div>\r\n        <div\r\n          style={{\r\n            display: \"flex\",\r\n          }}\r\n        >\r\n          {/* button confirmer */}\r\n          <Button\r\n            className=\"cart_btn btn4\"\r\n            variant={confirmed == true ? \"danger\" : \"warning\"}\r\n            onClick={() => {\r\n              if (orders && orders.length > 0) {\r\n                handleConfirm();\r\n                setactivation(true)\r\n              }\r\n            }}\r\n          >\r\n            {confirmed == true ? (\r\n              <>\r\n                {late_order_id == 0 && (\r\n                  <Spinner animation=\"border\" variant=\"light\" />\r\n                )}{\" \"}\r\n                Finir\r\n\r\n              </>\r\n            ) : (\r\n              <>\r\n                <FontAwesomeIcon icon={faCheck} /> Confirmer\r\n              </>\r\n              \r\n            )}\r\n          </Button>\r\n          <Button\r\n            className=\"cart_btn\"\r\n            variant=\"success\"\r\n            onClick={() => handleTiroir()}\r\n          >\r\n            {t(\"tiroir\")}\r\n          </Button>\r\n          <Button className=\"cart_btn\" variant=\"danger\" onClick={handleAnnuler}>\r\n            {t(\"cancel\")}\r\n          </Button>\r\n        </div>\r\n      </div>\r\n\r\n      <Modal\r\n        dialogClassName=\"modal_body\"\r\n        show={ShowModifyModal}\r\n        onHide={() => {\r\n          handleClose();\r\n          setstep(1);\r\n        }}\r\n      >\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>{orderTo.order?.name}</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <p>{orderTo.order?.description}</p>\r\n          {orderTo.order?.extras && orderTo.order?.extras.length ? (\r\n            orderTo.order?.extras.map((extra, key) => (\r\n              <tr\r\n                style={{\r\n                  display: \"flex\",\r\n                  width: \"50%\",\r\n                }}\r\n              >\r\n                <td\r\n                  style={{\r\n                    display: \"flex\",\r\n                    justifyContent: \"space-evenly\",\r\n                    alignItems: \"center\",\r\n                    height: \"30px\",\r\n                    width: \"25%\",\r\n                    marginRight: \"1rem\",\r\n                  }}\r\n                >\r\n                  <FontAwesomeIcon\r\n                    onClick={() => handleExtra({ extraKey: key, sign: \"-\" })}\r\n                    icon={faMinusCircle}\r\n                    color=\"#ff6b6b\"\r\n                  />\r\n                  <h5>\r\n                    <b>{extra.default_quantity}</b>\r\n                  </h5>\r\n                  <FontAwesomeIcon\r\n                    onClick={() => handleExtra({ extraKey: key, sign: \"+\" })}\r\n                    icon={faPlusCircle}\r\n                    color=\"#ff6b6b\"\r\n                  />\r\n                </td>\r\n                <td style={{ marginRight: \"1rem\" }}>\r\n                  {\" \"}\r\n                  <h5>\r\n                    <b>{extra.title}</b>\r\n                  </h5>\r\n                </td>\r\n                <td>\r\n                  {\" \"}\r\n                  <h5>\r\n                    <b style={{ display: \"flex\", color: \"#ff6b6b\" }}>\r\n                      {extra.price.toFixed(2)}{\" \"}\r\n                      {renderHTML(`<i>${currency}</i>`)}\r\n                    </b>\r\n                  </h5>\r\n                </td>\r\n              </tr>\r\n            ))\r\n          ) : orderTo.order?.isComp ? (\r\n            <Table striped bordered>\r\n              <thead>\r\n                <tr>\r\n                  {Object.keys(orderTo.order?.slots || {}).map((slotKey) => (\r\n                    <td>{slotKey}</td>\r\n                  ))}\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {Object.keys(orderTo.order?.slots || {}).map((slotKey) => (\r\n                  <td>\r\n                    {orderTo.order?.slots[slotKey].products.map((prod) => (\r\n                      <div\r\n                        style={{ display: \"flex\", cursor: \"pointer\" }}\r\n                        className={prod.checked ? \"checked\" : \"not\"}\r\n                        onClick={() =>\r\n                          handleSlotSelect({ slotKey, id: prod.id })\r\n                        }\r\n                      >\r\n                        <img src={prod.image} width=\"30px\" height=\"30px\" />\r\n                        <div>\r\n                          <h6>{prod.name}</h6>\r\n                          <p>{prod.description}</p>\r\n                        </div>\r\n                        <p>\r\n                          {prod.price} {renderHTML(`<i>${currency}</i>`)}\r\n                        </p>\r\n                      </div>\r\n                    ))}\r\n                  </td>\r\n                ))}\r\n              </tbody>\r\n            </Table>\r\n          ) : orderTo.order?.nsteps > 0 ? (\r\n            <div>\r\n              <h6>\r\n                <b>\r\n                  {\r\n                    nsteps.filter(\r\n                      (nstep) => nstep.menu_id == orderTo.order?.id\r\n                    )[0][step]?.nom_etape\r\n                  }\r\n                </b>\r\n              </h6>\r\n              <div className=\"steps_cont\">\r\n                {nsteps\r\n                  .filter((nstep) => nstep.menu_id == orderTo.order?.id)[0]\r\n                [step].choice.map((slot) => (\r\n                  <div\r\n                    className={\r\n                      orderTo.order?.stepItems[step]?.find(\r\n                        (el) => el.id == slot\r\n                      )\r\n                        ? \"prod prod_sel\"\r\n                        : \"prod\"\r\n                    }\r\n                    onClick={() =>\r\n                      handleStepSelect({\r\n                        id: slot,\r\n                        STP: nsteps.filter(\r\n                          (nstep) => nstep.menu_id == orderTo.order?.id\r\n                        )[0][step],\r\n                      })\r\n                    }\r\n                  >\r\n                    <img\r\n                      src={findProductWithId(slot).image}\r\n                      alt=\"\"\r\n                      height=\"70px\"\r\n                      width=\"70px\"\r\n                    />\r\n                    <h6 style={{ display: \"flex\" }}>\r\n                      <b> {findProductWithId(slot).name} </b>\r\n                      <span>\r\n                        <b\r\n                          style={{\r\n                            display: \"flex\",\r\n                            marginLeft: \"1rem\",\r\n                            color: \"#ff6b6b\",\r\n                          }}\r\n                        >\r\n                          {findProductWithId(slot).price}{\" \"}\r\n                          {renderHTML(`<i>${currency}</i>`)}\r\n                        </b>\r\n                      </span>{\" \"}\r\n                    </h6>\r\n                    <p>{findProductWithId(slot).description}</p>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n              {orderTo.order?.nsteps >= step && step > 0 ? (\r\n                <Button\r\n                  style={{ marginRight: \"1rem\" }}\r\n                  variant=\"outline-secondary\"\r\n                  onClick={() => {\r\n                    if (step > 1) {\r\n                      setstep(step - 1);\r\n                    }\r\n                  }}\r\n                >\r\n                  retour\r\n                </Button>\r\n              ) : (\r\n                \"\"\r\n              )}\r\n              {orderTo.order?.nsteps > step && step > 0 ? (\r\n                <Button\r\n                  variant=\"outline-warning\"\r\n                  onClick={() => {\r\n                    if (orderTo.order?.nsteps > step && selected == step) {\r\n                      setstep(step + 1);\r\n                    }\r\n                  }}\r\n                >\r\n                  suivant\r\n                </Button>\r\n              ) : (\r\n                \"\"\r\n              )}\r\n              {orderTo.order?.nsteps == step ? (\r\n                <Button\r\n                  variant=\"outline-warning\"\r\n                  onClick={() => {\r\n                    if (selected == step) {\r\n                      handleUpdateOrder();\r\n                    }\r\n                  }}\r\n                >\r\n                  finir\r\n                </Button>\r\n              ) : (\r\n                \"\"\r\n              )}\r\n            </div>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button\r\n            variant=\"danger\"\r\n            onClick={() => {\r\n              dispatch(deleteOrder({ key: orderTo.key }));\r\n              handleClose();\r\n              setstep(1);\r\n            }}\r\n          >\r\n            Supprimer\r\n          </Button>\r\n          <Button\r\n            variant=\"secondary\"\r\n            onClick={() => {\r\n              handleClose();\r\n              setstep(1);\r\n            }}\r\n          >\r\n            {t(\"cancel\")}\r\n          </Button>\r\n          {orderTo.order?.nsteps == 0 || orderTo.order?.isComp ? (\r\n            <Button variant=\"warning\" onClick={() => handleUpdateOrder()}>\r\n              {t(\"aded\")}\r\n            </Button>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n        </Modal.Footer>\r\n      </Modal>\r\n      {showRemise && (\r\n        <RemiseModal\r\n          setshowRemise={setshowRemise}\r\n          orderTo={orderTo}\r\n          setOrderTo={setOrderTo}\r\n          handleUpdateOrder={handleUpdateOrder}\r\n          calcOrder={calcOrder}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CartMenu;\r\n","import React from \"react\";\r\nimport { Stack } from \"react-bootstrap\";\r\n\r\nconst Category = ({ setSelectedCategory, categories, selectedCategory }) => {\r\n  function getRandomColor() {\r\n    var letters = \"0123456789ABCDEF\";\r\n    var color = \"#\";\r\n    for (var i = 0; i < 6; i++) {\r\n      color += letters[Math.floor(Math.random() * 16)];\r\n    }\r\n    return color;\r\n  }\r\n\r\n  return (\r\n    <div className=\"cat_container\">\r\n      {categories\r\n        .filter((cat) => cat.state == true)\r\n        .map((category) => (\r\n          <div\r\n            style={{ background: `${category.color}` }}\r\n            className={\r\n              selectedCategory == category.id\r\n                ? \"cat_item cat_item_selected\"\r\n                : \"cat_item\"\r\n            }\r\n            onClick={() => {\r\n              setSelectedCategory(category.id);\r\n            }}\r\n          >\r\n            <img width=\"50px\" height=\"50px\" src={category.picture} className=\"category_img\"/>\r\n            <h6 className=\"cat_name\"> \r\n              {category.name.substring(0, 13) + \"...\"}\r\n            </h6>\r\n          </div>\r\n        ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Category;\r\n","import {\r\n  faAngleDoubleLeft,\r\n  faAngleDoubleRight,\r\n \r\n  faCheck,\r\n  faMinusSquare,\r\n  faTimes,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { Cursor } from \"mongoose\";\r\nimport React, { useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { setNewOrder } from \"../Slices/order\";\r\n\r\nconst SuppModal = ({ orderWithSupp,handleAddOrderWithSupp,handleaAddDrink,drinks,suppSelected ,order_id, setShowSupplements,setSuppSelected,setDrinks}) => {\r\n  const [page, setPage] = useState(\"sauces\");\r\n  const dispatch= useDispatch()\r\n  const hadnleClose= ()=>{\r\n    setShowSupplements(false);\r\n    setDrinks(null);\r\n    setSuppSelected([])\r\n\r\n  }\r\n  const handleTerminer =()=>{\r\n    dispatch(setNewOrder({\r\n      order: {\r\n        ...orderWithSupp,\r\n        qt: 1,\r\n        stepItems: {},\r\n        remise: 0,\r\n        offert: false,\r\n        new: order_id ? \"true\" : \"false\",\r\n      },\r\n    }));\r\n    setShowSupplements(false);\r\n    setDrinks(null);\r\n    setSuppSelected([])\r\n\r\n  }\r\n  return (\r\n    <div className=\"product_with_supp\">\r\n      <FontAwesomeIcon icon={faTimes} style={{position:\"absolute\", right:\"3%\",top:\"6%\",fontSize:\"1.5rem\",cursor:\"pointer\" }} onClick={()=>hadnleClose()}/>\r\n      <div className=\"supp_header\">\r\n        <div className=\"supp_img\">\r\n          <img width=\"50px\" height=\"50px\" src={orderWithSupp.image} />\r\n          <h5>{orderWithSupp.name} +</h5>\r\n        </div>\r\n\r\n        <div className=\"supp_selected_items\">\r\n            {orderWithSupp.suppSelected.map((item,key)=>(\r\n               <div className=\"selected_item\" key={key}>\r\n               <img width=\"50px\" height=\"50px\" src={item.image} />\r\n               <h5>{item.name}</h5>\r\n             </div>\r\n            ))}\r\n        </div>\r\n      </div>\r\n      {page==\"sauces\"?<div className=\"supp_body\">\r\n        {orderWithSupp.supplement.sauces.map((sauce, key) => (\r\n          <div className={suppSelected.length==3 && suppSelected.findIndex(e=>e.id==sauce.id)==-1 ?\"supp_item item_disabled\":\"supp_item \"} key={key} onClick={()=>handleAddOrderWithSupp(sauce)}>\r\n            <img width=\"60px\" height=\"60px\" src={sauce.image} />\r\n            <h5>{sauce.name}</h5>\r\n           { orderWithSupp.suppSelected.findIndex(e=>e.id==sauce.id)!=-1 && <FontAwesomeIcon icon={faMinusSquare} style={{color:\"red\",fontSize:\"1.5rem\",position:\"absolute\" ,bottom:\"-9%\"}} />}\r\n          </div>\r\n        ))}\r\n      </div>:\r\n      <div className=\"supp_body\">\r\n      {orderWithSupp.supplement.drinks.map((drink, key) => (\r\n        <div className=\"supp_item\" key={key}\r\n        onClick={()=>handleaAddDrink(drink)}\r\n        >\r\n          <img width=\"60px\" height=\"60px\" src={drink.image} />\r\n          <h5>{drink.name}</h5>\r\n          {drinks?.id==drink?.id?<FontAwesomeIcon icon={faCheck} style={{color:\"red\",fontSize:\"1.5rem\",position:\"absolute\" ,bottom:\"-15%\"}} />:\"\"}\r\n        </div>\r\n      ))}\r\n    </div>\r\n      }\r\n      <div className=\"supp_footer\">\r\n      { page == \"sauces\" && <button style={{ right: \"0\" }} onClick={() => setPage(\"drinks\")}>\r\n          {suppSelected.length==0 ? \"Non merci\" : \"Suivant\"}\r\n          <FontAwesomeIcon icon={faAngleDoubleRight} />\r\n        </button>}\r\n        {page == \"drinks\" && (\r\n          <button style={{ right: \"0\" }} onClick={handleTerminer}>\r\n            \r\n            Terminer\r\n            <FontAwesomeIcon icon={faAngleDoubleRight} />\r\n          </button>\r\n        )}\r\n        {page == \"drinks\" && (\r\n          <button style={{ left: \"0\" }}\r\n          onClick={()=>setPage(\"sauces\")}\r\n          >\r\n            <FontAwesomeIcon icon={faAngleDoubleLeft} />\r\n            Prcedent\r\n          </button>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SuppModal;\r\n","import React, { Fragment, useEffect, useState } from \"react\";\r\nimport { Modal, Button, Table, Carousel } from \"react-bootstrap\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n  faCheck,\r\n  faEdit,\r\n  faMinusCircle,\r\n  faMinusSquare,\r\n  faPencilAlt,\r\n  faPlusCircle,\r\n  faPlusSquare,\r\n  faTimes,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport useTranslation from \"./../i18\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { setNewOrder } from \"../Slices/order\";\r\nimport axios from \"axios\";\r\nimport Swal from \"sweetalert2\";\r\nimport { updateProduct } from \"../Slices/data\";\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\nimport SuppModal from \"./SuppModal\";\r\nimport { set } from \"mongoose\";\r\n\r\nconst Item = ({ product, setAlert, order_id,setconfirmed,confirmed }) => {\r\n  const [index, setIndex] = useState(0);\r\n\r\n  const handleSelect = (selectedIndex, e) => {\r\n    setIndex(selectedIndex);\r\n  };\r\n  const { t } = useTranslation();\r\n  const dispatch = useDispatch();\r\n  const nsteps = useSelector((state) => state.data.nSteps);\r\n  const products = useSelector((state) => state.data.products);\r\n  const [step, setstep] = useState(1);\r\n  const [selected, setselected] = useState(1);\r\n  const [showPreview, setShowPreview] = useState(false);\r\n  const [showSupplements, setShowSupplements] = useState(false);\r\n  const orderType = useSelector((state) => state.order.orderType);\r\n  const [newProduct, setnewProduct] = useState(undefined);\r\n  const [showstock, setshowstock] = useState(false);\r\n  const [tva, setTva] = useState(null);\r\n  const client = useSelector((state) => state.order.client);\r\n  const tva_mode = useSelector((state) => state.data.tva_mode);\r\n  const [rab_tva, setRab_tva] = useState(0);\r\n  const [orderWithSupp, setOrderWithSupp] = useState({\r\n    active:product?.active,\r\n    cat_id:product?.cat_id,\r\n    description:product?.description,\r\n    extras:product?.extras,\r\n    id:product?.id,\r\n    image:product?.image,\r\n    isComp:product?.isComp,\r\n    is_alcool:product?.is_alcool,\r\n    is_conserved:product?.is_conserved,\r\n    is_cold:product?.is_cold,\r\n    is_hot: product?.is_hot,\r\n    is_supp:product?.is_supp,\r\n    name:product?.name,\r\n    nsteps:product?.nsteps,\r\n    price:product?.price,\r\n    tva:product?.tva,\r\n    drink_id:\"\",\r\n    suaces_ids:[],\r\n    suppSelected:[],\r\n    qt:1,\r\n    supplement:{\r\n      drinks:[],\r\n      sauces:[]\r\n    }\r\n   \r\n\r\n  }) \r\n  const [suppSelected, setSuppSelected] = useState([])\r\n  const [drinks, setDrinks] = useState(null)\r\n  useEffect(() => {\r\n    \r\n   \r\n    let supplements\r\n    if(drinks==null){\r\n      supplements=[...suppSelected]\r\n    }else{\r\n      supplements=[...suppSelected,drinks]\r\n     \r\n    }\r\n    let saucesIds =suppSelected.map(e=>e.id)\r\n    \r\n    setOrderWithSupp({...orderWithSupp,suppSelected:supplements,suaces_ids:saucesIds})\r\n  \r\n  }, [suppSelected,drinks])\r\n\r\n  var check\r\n  const handleAddOrderWithSupp= async (sauce)=>{\r\n       check= suppSelected.findIndex(e=>e.id==sauce.id)\r\n       if(check!=-1){\r\n        let filtred=  suppSelected.filter(e=>e.id!=sauce.id)\r\n     \r\n      \r\n     setSuppSelected(filtred);\r\n  \r\n     \r\n       }else{\r\n        if(suppSelected.length<3)\r\n      { setSuppSelected([...suppSelected,sauce]);}\r\n      \r\n        \r\n    \r\n       }\r\n    \r\n  }\r\nconst  handleaAddDrink =(drink)=>{\r\nif(drink==drinks){\r\n  setDrinks(null)\r\n  setOrderWithSupp({...orderWithSupp,drink_id:drink.id,price:product.price})\r\n}  \r\nelse{\r\n  setDrinks(drink)\r\n  setOrderWithSupp({...orderWithSupp,drink_id:drink.id,price:product.price+drink.price})\r\n}\r\n\r\n\r\n  }\r\n  useEffect(() => {\r\n    let tva;\r\n    if (client.type == \"sur place\" || client.type == \"livraison\") {\r\n      tva = tva_mode.find((e) => e.nom == \"sur place\").valeur;\r\n      setTva(tva);\r\n    } else if (client.type == \"emporter\") {\r\n      tva = tva_mode.find((e) => e.nom == \"emporter\").valeur;\r\n      setTva(tva);\r\n    }\r\n    if (rab_tva > 0) {\r\n      tva = rab_tva;\r\n      setTva(tva);\r\n    }\r\n    console.log(tva);\r\n  }, []);\r\n\r\n  const selectProduct = () => {\r\n    setconfirmed(false)\r\n    if (\r\n      product?.extras?.length == 0 &&\r\n      product?.nsteps == 0 &&\r\n      product?.isComp == false &&\r\n      product?.is_supp == false\r\n    ) {\r\n      toast(\"Ajoute !\", {\r\n        position: \"bottom-center\",\r\n        autoClose: 1000,\r\n        type: \"success\",\r\n        hideProgressBar: true,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n      });\r\n      dispatch(\r\n        setNewOrder({\r\n          order: {\r\n            ...product,\r\n            qt: 1,\r\n            stepItems: {},\r\n            remise: 0,\r\n            offert: false,\r\n            new: order_id ? \"true\" : \"false\",\r\n          },\r\n        })\r\n      );\r\n    }else if(product?.is_supp){\r\n      setShowSupplements(true)\r\n      setOrderWithSupp(\r\n        {\r\n          active:product?.active,\r\n    cat_id:product?.cat_id,\r\n    description:product?.description,\r\n    extras:product?.extras,\r\n    id:product?.id,\r\n    image:product?.image,\r\n    isComp:product?.isComp,\r\n    is_alcool:product?.is_alcool,\r\n    is_conserved:product?.is_conserved,\r\n    is_cold:product?.is_cold,\r\n    is_hot: product?.is_hot,\r\n    is_supp:product?.is_supp,\r\n    name:product?.name,\r\n    nsteps:product?.nsteps,\r\n    price:product?.price,\r\n    tva:product?.tva,\r\n    drink_id:\"\",\r\n    suaces_ids:[],\r\n    suppSelected:[],\r\n    qt:1,\r\n    supplement:{\r\n      drinks:[...product?.supplement?.drinks],\r\n      sauces:[...product?.supplement?.sauces]\r\n    }\r\n        }\r\n      )\r\n    }\r\n    else {\r\n      setShowPreview(true);\r\n      setnewProduct({\r\n        ...product,\r\n        qt: 1,\r\n        stepItems: {},\r\n        remise: 0,\r\n        offert: false,\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleSlotSelect = ({ slotKey, id }) => {\r\n    console.log(slotKey, id);\r\n    let copy = JSON.parse(JSON.stringify(newProduct) || {});\r\n    copy.slots[slotKey].products.forEach((prod) => {\r\n      prod.id == id ? (prod.checked = true) : (prod.checked = false);\r\n      console.log(prod.name);\r\n    });\r\n    setnewProduct(copy);\r\n  };\r\n\r\n  const handleExtra = ({ extraKey, sign }) => {\r\n    console.log(\"handleExtra\", { extraKey, sign });\r\n    let copy = JSON.parse(JSON.stringify(newProduct) || {});\r\n    if (sign == \"+\" && copy.extras[extraKey].default_quantity < 1) {\r\n      copy.extras[extraKey].default_quantity += 1;\r\n      console.log(copy);\r\n      setnewProduct(copy);\r\n    } else {\r\n      if (copy.extras[extraKey].default_quantity > 0) {\r\n        copy.extras[extraKey].default_quantity -= 1;\r\n        console.log(copy);\r\n        setnewProduct(copy);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleAlert = ({ show, msg, type }) => {\r\n    setAlert({ show, msg, type });\r\n    setTimeout(() => {\r\n      setAlert({ show: false, msg: \"\", type: \"\" });\r\n    }, 1500);\r\n  };\r\n\r\n  const handleNewOrderToCart = () => {\r\n    toast(\"Ajoute !\", {\r\n      position: \"bottom-center\",\r\n      autoClose: 1000,\r\n      type: \"success\",\r\n      hideProgressBar: true,\r\n      closeOnClick: true,\r\n      pauseOnHover: true,\r\n      draggable: true,\r\n      progress: undefined,\r\n    });\r\n    dispatch(\r\n      setNewOrder({\r\n        order: {\r\n          ...newProduct,\r\n          new: order_id ? \"true\" : \"false\",\r\n        },\r\n      })\r\n    );\r\n    handleAlert({ show: true, msg: t(\"added\"), type: \"success\" });\r\n    setShowPreview(false);\r\n  };\r\n\r\n  const handleNewOrderWithStepsToCart = () => {\r\n    toast(\"Ajoute !\", {\r\n      position: \"bottom-center\",\r\n      autoClose: 1000,\r\n      type: \"success\",\r\n      hideProgressBar: true,\r\n      closeOnClick: true,\r\n      pauseOnHover: true,\r\n      draggable: true,\r\n      progress: undefined,\r\n    });\r\n    dispatch(\r\n      setNewOrder({\r\n        order: {\r\n          ...newProduct,\r\n          new: order_id ? \"true\" : \"false\",\r\n        },\r\n      })\r\n    );\r\n    handleAlert({ show: true, msg: t(\"added\"), type: \"success\" });\r\n    setShowPreview(false);\r\n    setstep(1);\r\n  };\r\n\r\n  const findProductWithId = (id) => {\r\n    return products.find((prod) => prod.id == id) || {};\r\n  };\r\n\r\n  const handleStepSelect = ({ id, STP }) => {\r\n    console.log(\"stp\",STP);\r\n    setselected(step);\r\n    let copy = JSON.parse(JSON.stringify(newProduct) || {});\r\n    let max_select = STP.max_select;\r\n    if (copy.stepItems[step] == undefined) {\r\n      copy.stepItems[step] = [];\r\n      console.log(copy);\r\n    }\r\n    if (copy.stepItems[step].length < max_select) {\r\n      if (!copy.stepItems[step].find((el) => el.id == id)) {\r\n        console.log(\"will push now\");\r\n        copy.stepItems[step].push(findProductWithId(id)); \r\n      }\r\n    }\r\n    {\r\n      if (!copy.stepItems[step].find((el) => el.id == id)) {\r\n        copy.stepItems[step] = [];\r\n        copy.stepItems[step].push(findProductWithId(id));\r\n      }\r\n    }\r\n    setnewProduct(copy);\r\n    console.log(\"done\");\r\n    console.log(copy);\r\n  };\r\n\r\n  const handleStock = () => {\r\n    setshowstock(false);\r\n    axios\r\n      .post(\r\n        \"http://192.168.1.166:5000/api/resetwarehouse\",\r\n        { prod_id: product.id }\r\n      )\r\n      .then((res) => {\r\n        console.log(res.data);\r\n        dispatch(updateProduct({ id: product.id }));\r\n        Swal.fire({\r\n          icon: \"success\",\r\n          title: \"produit mis hors stock !\",\r\n          showConfirmButton: false,\r\n          timer: 1500,\r\n        });\r\n      });\r\n  };\r\nconst [addtva, setaddtva] = useState(0)\r\n\r\n\r\n  const renderHTML = (rawHTML: string) =>\r\n    React.createElement(\"div\", {\r\n      dangerouslySetInnerHTML: { __html: rawHTML },\r\n    });\r\n  const currency = localStorage.getItem(\"currency\");\r\n  return (\r\n    <>\r\n      \r\n      <div className=\"item_container\">\r\n        <p>\r\n          <b>{product.name.substring(0, 21)}</b>\r\n        </p>\r\n        {product.image!=''?<img src={product.image} onClick={selectProduct} className=\"prod_img\" />:''}\r\n        \r\n        <div className=\"price\">\r\n          {`${(product.price).toFixed(2)}`}\r\n          {renderHTML(`<i>${currency}</i>`)}\r\n        </div>\r\n        <FontAwesomeIcon\r\n          onClick={(e) => setshowstock(true)}\r\n          icon={faTimes}\r\n          size=\"1x\"\r\n          style={{\r\n            position: \"absolute\",\r\n            top: \"0px\",\r\n            right: \"5px\",\r\n            color: \"red\",\r\n            backgroundColor: \"white\",\r\n            borderRadius: \"25%\",\r\n          }}\r\n        />\r\n      </div>\r\n        <div className=\"supp_modal\">\r\n         { showSupplements? <SuppModal setDrinks={setDrinks} setSuppSelected={setSuppSelected} setShowSupplements={setShowSupplements} handleaAddDrink={handleaAddDrink} suppSelected={suppSelected} drinks={drinks} handleAddOrderWithSupp={handleAddOrderWithSupp} orderWithSupp={orderWithSupp} order_id ={order_id}/>:\"\"}\r\n        </div>\r\n      <Modal\r\n        dialogClassName=\"modal_body\"\r\n        show={showPreview}\r\n        onHide={() => {\r\n          setShowPreview(false);\r\n          setstep(1);\r\n        }}\r\n      >\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>\r\n            <img width=\"30px\" height=\"30px\" src={product.image} />\r\n            {newProduct?.name}\r\n          </Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <p>{newProduct?.description}</p>\r\n\r\n          {newProduct?.extras && newProduct?.extras.length ? (\r\n            newProduct?.extras.map((extra, key) => (\r\n              <tr\r\n                style={{\r\n                  display: \"flex\",\r\n                  width: \"50%\",\r\n                }}\r\n              >\r\n                <td\r\n                  style={{\r\n                    display: \"flex\",\r\n                    justifyContent: \"space-evenly\",\r\n                    alignItems: \"center\",\r\n                    height: \"30px\",\r\n                    width: \"25%\",\r\n                    marginRight: \"1rem\",\r\n                  }}\r\n                >\r\n                  <FontAwesomeIcon\r\n                    onClick={() => handleExtra({ extraKey: key, sign: \"-\" })}\r\n                    icon={faMinusCircle}\r\n                    color=\"#ff6b6b\"\r\n                  />\r\n                  <h5>\r\n                    <b>{extra.default_quantity}</b>\r\n                  </h5>\r\n                  <FontAwesomeIcon\r\n                    onClick={() => handleExtra({ extraKey: key, sign: \"+\" })}\r\n                    icon={faPlusCircle}\r\n                    color=\"#ff6b6b\"\r\n                  />\r\n                </td>\r\n                <td style={{ marginRight: \"1rem\" }}>\r\n                  {\" \"}\r\n                  <h5>\r\n                    <b>{extra.title}</b>\r\n                  </h5>\r\n                </td>\r\n                <td>\r\n                  {\" \"}\r\n                  <h5>\r\n                    <b style={{ display: \"flex\", color: \"#ff6b6b\" }}>\r\n                      {extra.price.toFixed(2)}{\" \"}\r\n                      {renderHTML(`<i>${currency}</i>`)}\r\n                    </b>\r\n                  </h5>\r\n                </td>\r\n              </tr>\r\n            ))\r\n          ) : newProduct?.isComp ? (\r\n            // <Table>\r\n            //   <thead className=\"comphead\">\r\n            //     <tr>\r\n            //       {Object.keys(newProduct?.slots || {}).map((slotKey) => (\r\n            //         <td>{slotKey}</td>\r\n            //       ))}\r\n            //     </tr>\r\n            //   </thead>\r\n            //   <tbody>\r\n            //     {Object.keys(newProduct?.slots || {}).map((slotKey) => (\r\n            //       <td>\r\n            //         {newProduct?.slots[slotKey].products.map((prod) => (\r\n            //           <div\r\n            //             style={{\r\n            //               cursor: \"pointer\",\r\n            //               position: \"relative\",\r\n            //             }}\r\n            //             // className={prod.checked ? \"checked\" : \"not\"}\r\n            //             onClick={() =>\r\n            //               handleSlotSelect({ slotKey, id: prod.id })\r\n            //             }\r\n            //           >\r\n            //             <h6>\r\n            //               <b\r\n            //                 style={{\r\n            //                   color: prod.checked ? \"#ff6b6b\" : \"black\",\r\n            //                 }}\r\n            //               >\r\n            //                 {prod.name}\r\n            //               </b>\r\n            //             </h6>\r\n            //             <img\r\n            //               src={prod.image}\r\n            //               width=\"50px\"\r\n            //               height=\"50px\"\r\n            //               style={{\r\n            //                 borderRadius: \"50%\",\r\n            //                 borderColor: prod.checked ? \"#ff6b6b\" : \"black\",\r\n            //               }}\r\n            //             />\r\n            //             {/* <div className=\"price\">\r\n            //               {`${prod.price}`} {renderHTML(`<i>${currency}</i>`)}\r\n            //             </div> */}\r\n            //             {prod.checked ? (\r\n            //               <FontAwesomeIcon\r\n            //                 icon={faCheck}\r\n            //                 color=\"#ff6b6b\"\r\n            //                 style={{\r\n            //                   position: \"absolute\",\r\n            //                   top: \"5px\",\r\n            //                   right: \"5px\",\r\n            //                 }}\r\n            //               />\r\n            //             ) : (\r\n            //               \"\"\r\n            //             )}\r\n            //           </div>\r\n            //         ))}\r\n            //       </td>\r\n            //     ))}\r\n            //   </tbody>\r\n            // </Table>\r\n            <Carousel variant=\"dark\">\r\n               {Object.keys(newProduct?.slots || {}).map((slotKey) => (\r\n              \r\n                     <Carousel.Item  style={{ height:\"15rem\",width:\"100%\" ,textAlign:\"center\"}} className=\"chejm\" >\r\n                      <h3> {slotKey}</h3>\r\n                      <div style={{display:\"flex\",justifyContent:\"space-around\", display:\"flex\",\r\n                          alignItems:\"center\",marginTop:\"2rem\"\r\n                           }}>\r\n                      {newProduct?.slots[slotKey].products.map((prod) => (\r\n                      <div\r\n                        style={{\r\n                          cursor: \"pointer\",\r\n                          position: \"relative\",\r\n                          \r\n                      \r\n                          \r\n                         \r\n                         \r\n                        }}\r\n                        // className={prod.checked ? \"checked\" : \"not\"}\r\n                        onClick={() =>\r\n                          handleSlotSelect({ slotKey, id: prod.id })\r\n                        }\r\n                      >\r\n                        <h6>\r\n                          <b\r\n                            style={{\r\n                              color: prod.checked ? \"#ff6b6b\" : \"black\",\r\n                            }}\r\n                          >\r\n                            {prod.name}\r\n                          </b>\r\n                        </h6>\r\n                        <img\r\n                          src={prod.image}\r\n                          width=\"50px\"\r\n                          height=\"50px\"\r\n                          style={{\r\n                            borderRadius: \"50%\",\r\n                            borderColor: prod.checked ? \"#ff6b6b\" : \"black\",\r\n                          }}\r\n                        />\r\n                        {/* <div className=\"price\">\r\n                          {`${prod.price}`} {renderHTML(`<i>${currency}</i>`)}\r\n                        </div> */}\r\n                        {prod.checked ? (\r\n                          <FontAwesomeIcon\r\n                            icon={faCheck}\r\n                            color=\"#ff6b6b\"\r\n                            style={{\r\n                              position: \"absolute\",\r\n                              top: \"50px\",\r\n                              right: \"20px\",\r\n                            }}\r\n                          />\r\n                        ) : (\r\n                          \"\"\r\n                        )}\r\n                      </div>\r\n                    ))} </div>\r\n               \r\n                     {/* <Carousel.Caption>\r\n                       <h5>First slide label</h5>\r\n                       <p>Nulla vitae elit libero, a pharetra augue mollis interdum.</p>\r\n                     </Carousel.Caption> */}\r\n                   </Carousel.Item>\r\n                  ))}\r\n         \r\n          </Carousel>   \r\n          ) : newProduct?.nsteps > 0 ? (\r\n            <div>\r\n              <h6>\r\n                <b>\r\n                  {\r\n                    nsteps.filter(\r\n                      (nstep) => nstep?.menu_id == newProduct?.id\r\n                    )[0][step]?.nom_etape\r\n                  }\r\n                </b>\r\n              </h6>\r\n              <div className=\"steps_cont\">\r\n                {nsteps\r\n                  .filter((nstep) => nstep.menu_id == newProduct?.id)[0]\r\n                  [step]?.choice.map((slot) => (\r\n                    <div\r\n                      className={\r\n                        newProduct?.stepItems[step]?.find((el) => el.id == slot)\r\n                          ? \"prod_sel prod\"\r\n                          : \"prod\"\r\n                      }\r\n                      onClick={() =>\r\n                        handleStepSelect({\r\n                          id: slot,\r\n                          STP: nsteps.filter(\r\n                            (nstep) => nstep.menu_id == newProduct?.id\r\n                          )[0][step],\r\n                        })\r\n                      }\r\n                    >\r\n                      <img\r\n                        src={findProductWithId(slot).image}\r\n                        alt=\"\"\r\n                        height=\"70px\"\r\n                        width=\"70px\"\r\n                      />\r\n                      <h6 style={{ display: \"flex\" }}>\r\n                        <b>{findProductWithId(slot).name} </b>\r\n                        <span>\r\n                          <b\r\n                            style={{\r\n                              display: \"flex\",\r\n                              marginLeft: \"1rem\",\r\n                              marginRight: \"1rem\",\r\n                              color: \"#ff6b6b\",\r\n                            }}\r\n                          >\r\n                            {findProductWithId(slot).price}{\" \"}\r\n                            {renderHTML(`<i>${currency}</i>`)}\r\n                          </b>\r\n                        </span>{\" \"}\r\n                      </h6>\r\n                      <p>{findProductWithId(slot).description}</p>\r\n                      {/* {newProduct?.stepItems[step]?.find(\r\n                          (el) => el.id == slot\r\n                        )\r\n                          ? \"selected\"\r\n                          : \"not\"} */}\r\n                    </div>\r\n                  ))}\r\n              </div>\r\n              {newProduct?.nsteps >= step && step > 0 ? (\r\n                <Button\r\n                  style={{ marginRight: \"1rem\" }}\r\n                  variant=\"outline-secondary\"\r\n                  onClick={() => {\r\n                    if (step > 1) {\r\n                      setstep(step - 1);\r\n                    }\r\n                  }}\r\n                >\r\n                  Retour\r\n                </Button>\r\n              ) : (\r\n                \"\"\r\n              )}\r\n              {newProduct?.nsteps > step && step > 0 ? (\r\n                <Button\r\n                  variant=\"outline-warning\"\r\n                  onClick={() => {\r\n                    if (newProduct?.nsteps > step && selected == step) {\r\n                      setstep(step + 1);\r\n                    }\r\n                  }}\r\n                >\r\n                  Suivant\r\n                </Button>\r\n              ) : (\r\n                \"\"\r\n              )}\r\n              {newProduct?.nsteps == step ? (\r\n                <Button\r\n                  variant=\"outline-warning\"\r\n                  onClick={() => {\r\n                    if (selected == step) {\r\n                      handleNewOrderWithStepsToCart();\r\n                    }\r\n                  }}\r\n                >\r\n                  Finir\r\n                </Button>\r\n              ) : (\r\n                \"\"\r\n              )}\r\n            </div>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          {/* <div>\r\n            <h3>\r\n              <FontAwesomeIcon\r\n                icon={faPencilAlt}\r\n                style={{ width: \"24\", marginRight: \"0.5rem\" }}\r\n              />\r\n              Remarque\r\n            </h3>\r\n            <Form.Control\r\n              type=\"textarea\"\r\n              as=\"textarea\"\r\n              placeholder=\"note\"\r\n              style={{ width: \"300px\", marginRight: \"300px\" }}\r\n              onChange={(e) =>\r\n                setnewProduct({ ...newProduct, note: e.target.value })\r\n              }\r\n            ></Form.Control>\r\n          </div> */}\r\n\r\n          <Button\r\n            variant=\"secondary\"\r\n            onClick={() => {\r\n              setShowPreview(false);\r\n              setstep(1);\r\n            }}\r\n          >\r\n            {t(\"cancel\")}\r\n          </Button>\r\n          {newProduct?.nsteps == 0 || newProduct?.isComp ? (\r\n            <Button\r\n              style={{ backgroundColor: \"#ff6b6b\", borderColor: \"#ff6b6b\" }}\r\n              variant=\"warning\"\r\n              onClick={() => handleNewOrderToCart()}\r\n            >\r\n              {t(\"aded\")}\r\n            </Button>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n        </Modal.Footer>\r\n      </Modal>\r\n     \r\n      <Modal show={showstock} onHide={() => setshowstock(false)}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Gestion de stock</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Footer>\r\n          <Button variant=\"secondary\" onClick={() => setshowstock(false)}>\r\n            Retour au tables\r\n          </Button>\r\n          <Button variant=\"danger\" onClick={() => handleStock()}>\r\n            Hors stock\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Item;\r\n","import React, { useEffect } from \"react\";\r\nimport { Spinner } from \"react-bootstrap\";\r\nimport { useSelector } from \"react-redux\";\r\nimport Item from \"./Item\";\r\n\r\nconst MenuItems = ({ selectedCategory, setAlert, categories, order_id,setconfirmed,confirmed }) => {\r\n  const products = useSelector((state) => state.data.products);\r\n  let category = categories.filter((cat) => cat.id == selectedCategory)[0];\r\n  return (\r\n    <div className=\"meni-iteams\">\r\n      <h5 style={{ width: \"100%\" }}>\r\n        <b>{category?.name}</b>\r\n      </h5>\r\n      {products\r\n        .filter((e) => e.cat_id == selectedCategory && e.active == true)\r\n        .sort((a, b) => a.position - b.position)\r\n        .map((product) => (\r\n          <Item order_id={order_id} product={product} setAlert={setAlert} confirmed={confirmed} setconfirmed={setconfirmed} />\r\n        ))\r\n      }\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MenuItems;\r\n","import React, { Fragment, useEffect, useState } from \"react\";\r\nimport { Modal, Button, Table, Carousel } from \"react-bootstrap\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n  faCheck,\r\n  faEdit,\r\n  faMinusCircle,\r\n  faMinusSquare,\r\n  faPencilAlt,\r\n  faPlusCircle,\r\n  faPlusSquare,\r\n  faTimes,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport useTranslation from \"./../i18\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { setNewOrder } from \"../Slices/order\";\r\nimport axios from \"axios\";\r\nimport Swal from \"sweetalert2\";\r\nimport { updateProduct } from \"../Slices/data\";\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\n\r\nconst Product = ({ product, setAlert, order_id,setconfirmed,confirmed }) => {\r\n    const [index, setIndex] = useState(0);\r\n\r\n  const handleSelect = (selectedIndex, e) => {\r\n    setIndex(selectedIndex);\r\n  };\r\n  const { t } = useTranslation();\r\n  const dispatch = useDispatch();\r\n  const nsteps = useSelector((state) => state.data.nSteps);\r\n  const products = useSelector((state) => state.data.products);\r\n  const [step, setstep] = useState(1);\r\n  const [selected, setselected] = useState(1);\r\n  const [showPreview, setShowPreview] = useState(false);\r\n  const [newProduct, setnewProduct] = useState(undefined);\r\n  const [showstock, setshowstock] = useState(false);\r\n  const [tva, setTva] = useState(null);\r\n  const client = useSelector((state) => state.order.client);\r\n  const tva_mode = useSelector((state) => state.data.tva_mode);\r\n  const [rab_tva, setRab_tva] = useState(0);\r\n\r\n  useEffect(() => {\r\n    let tva;\r\n    if (client.type == \"sur place\" || client.type == \"livraison\") {\r\n      tva = tva_mode.find((e) => e.nom == \"sur place\").valeur;\r\n      setTva(tva);\r\n    } else if (client.type == \"emporter\") {\r\n      tva = tva_mode.find((e) => e.nom == \"emporter\").valeur;\r\n      setTva(tva);\r\n    }\r\n    if (rab_tva > 0) {\r\n      tva = rab_tva;\r\n      setTva(tva);\r\n    }\r\n    console.log(tva);\r\n  }, []);\r\n\r\n  const selectProduct = () => {\r\n    setconfirmed(false)\r\n    if (\r\n      product?.extras?.length == 0 &&\r\n      product?.nsteps == 0 &&\r\n      product?.isComp == false\r\n    ) {\r\n    \r\n      dispatch(\r\n        setNewOrder({\r\n          order: {\r\n            ...product,\r\n            qt: 1,\r\n            stepItems: {},\r\n            remise: 0,\r\n            offert: false,\r\n            new: order_id ? \"true\" : \"false\",\r\n          \r\n          },\r\n        })\r\n        \r\n      );\r\n     \r\n    } else {\r\n      setShowPreview(true);\r\n      setnewProduct({\r\n        ...product,\r\n        qt: 1,\r\n        stepItems: {},\r\n        remise: 0,\r\n        offert: false,\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleSlotSelect = ({ slotKey, id }) => {\r\n    console.log(slotKey, id);\r\n    let copy = JSON.parse(JSON.stringify(newProduct) || {});\r\n    copy.slots[slotKey].products.forEach((prod) => {\r\n      prod.id == id ? (prod.checked = true) : (prod.checked = false);\r\n      console.log(prod.name);\r\n    });\r\n    setnewProduct(copy);\r\n  };\r\n\r\n  const handleExtra = ({ extraKey, sign }) => {\r\n    console.log(\"handleExtra\", { extraKey, sign });\r\n    let copy = JSON.parse(JSON.stringify(newProduct) || {});\r\n    if (sign == \"+\" && copy.extras[extraKey].default_quantity < 1) {\r\n      copy.extras[extraKey].default_quantity += 1;\r\n      console.log(copy);\r\n      setnewProduct(copy);\r\n    } else {\r\n      if (copy.extras[extraKey].default_quantity > 0) {\r\n        copy.extras[extraKey].default_quantity -= 1;\r\n        console.log(copy);\r\n        setnewProduct(copy);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleAlert = ({ show, msg, type }) => {\r\n    setAlert({ show, msg, type });\r\n    setTimeout(() => {\r\n      setAlert({ show: false, msg: \"\", type: \"\" });\r\n    }, 1500);\r\n  };\r\n\r\n  const handleNewOrderToCart = () => {\r\n   \r\n    dispatch(\r\n      setNewOrder({\r\n        order: {\r\n          ...newProduct,\r\n          new: order_id ? \"true\" : \"false\",\r\n        },\r\n      })\r\n    );\r\n    handleAlert({ show: true, msg: t(\"added\"), type: \"success\" });\r\n    setShowPreview(false);\r\n  };\r\n\r\n  const handleNewOrderWithStepsToCart = () => {\r\n    \r\n    dispatch(\r\n      setNewOrder({\r\n        order: {\r\n          ...newProduct,\r\n          new: order_id ? \"true\" : \"false\",\r\n        },\r\n      })\r\n    );\r\n    handleAlert({ show: true, msg: t(\"added\"), type: \"success\" });\r\n    setShowPreview(false);\r\n    setstep(1);\r\n  };\r\n\r\n  const findProductWithId = (id) => {\r\n    return products.find((prod) => prod.id == id) || {};\r\n  };\r\n\r\n  const handleStepSelect = ({ id, STP }) => {\r\n    console.log(\"stp\",STP);\r\n    setselected(step);\r\n    let copy = JSON.parse(JSON.stringify(newProduct) || {});\r\n    let max_select = STP.max_select;\r\n    if (copy.stepItems[step] == undefined) {\r\n      copy.stepItems[step] = [];\r\n      console.log(copy);\r\n    }\r\n    if (copy.stepItems[step].length < max_select) {\r\n      if (!copy.stepItems[step].find((el) => el.id == id)) {\r\n        console.log(\"will push now\");\r\n        copy.stepItems[step].push(findProductWithId(id)); \r\n      }\r\n    }\r\n    {\r\n      if (!copy.stepItems[step].find((el) => el.id == id)) {\r\n        copy.stepItems[step] = [];\r\n        copy.stepItems[step].push(findProductWithId(id));\r\n      }\r\n    }\r\n    setnewProduct(copy);\r\n    console.log(\"done\");\r\n    console.log(copy);\r\n  };\r\n\r\n  const handleStock = () => {\r\n    setshowstock(false);\r\n    axios\r\n      .post(\r\n        \"http://192.168.1.166:5000/api/resetwarehouse\",\r\n        { prod_id: product.id }\r\n      )\r\n      .then((res) => {\r\n        console.log(res.data);\r\n        dispatch(updateProduct({ id: product.id }));\r\n        Swal.fire({\r\n          icon: \"success\",\r\n          title: \"produit mis hors stock !\",\r\n          showConfirmButton: false,\r\n          timer: 1500,\r\n        });\r\n      });\r\n  };\r\n\r\n  const renderHTML = (rawHTML: string) =>\r\n    React.createElement(\"div\", {\r\n      dangerouslySetInnerHTML: { __html: rawHTML },\r\n    });\r\n  const currency = localStorage.getItem(\"currency\");\r\n  return (\r\n    <>\r\n    <ToastContainer />\r\n    <div className=\"item_container\">\r\n      <p>\r\n        <b>{product.name.substring(0, 21)}</b>\r\n      </p>\r\n      {product.image!=''?<img src={product.image} onClick={selectProduct} className=\"prod_img\" />:''}\r\n      \r\n      <div className=\"price\">\r\n        {`${product.price.toFixed(2)}`}\r\n        {renderHTML(`<i>${currency}</i>`)}\r\n      </div>\r\n      <FontAwesomeIcon\r\n        onClick={(e) => setshowstock(true)}\r\n        icon={faTimes}\r\n        size=\"1x\"\r\n        style={{\r\n          position: \"absolute\",\r\n          top: \"0px\",\r\n          right: \"5px\",\r\n          color: \"red\",\r\n          backgroundColor: \"white\",\r\n          borderRadius: \"25%\",\r\n        }}\r\n      />\r\n    </div>\r\n\r\n    <Modal\r\n      dialogClassName=\"modal_body\"\r\n      show={showPreview}\r\n      onHide={() => {\r\n        setShowPreview(false);\r\n        setstep(1);\r\n      }}\r\n    >\r\n      <Modal.Header closeButton>\r\n        <Modal.Title>\r\n          <img width=\"30px\" height=\"30px\" src={product.image} />\r\n          {newProduct?.name}\r\n        </Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        <p>{newProduct?.description}</p>\r\n\r\n        {newProduct?.extras && newProduct?.extras.length ? (\r\n          newProduct?.extras.map((extra, key) => (\r\n            <tr\r\n              style={{\r\n                display: \"flex\",\r\n                width: \"50%\",\r\n              }}\r\n            >\r\n              <td\r\n                style={{\r\n                  display: \"flex\",\r\n                  justifyContent: \"space-evenly\",\r\n                  alignItems: \"center\",\r\n                  height: \"30px\",\r\n                  width: \"25%\",\r\n                  marginRight: \"1rem\",\r\n                }}\r\n              >\r\n                <FontAwesomeIcon\r\n                  onClick={() => handleExtra({ extraKey: key, sign: \"-\" })}\r\n                  icon={faMinusCircle}\r\n                  color=\"#ff6b6b\"\r\n                />\r\n                <h5>\r\n                  <b>{extra.default_quantity}</b>\r\n                </h5>\r\n                <FontAwesomeIcon\r\n                  onClick={() => handleExtra({ extraKey: key, sign: \"+\" })}\r\n                  icon={faPlusCircle}\r\n                  color=\"#ff6b6b\"\r\n                />\r\n              </td>\r\n              <td style={{ marginRight: \"1rem\" }}>\r\n                {\" \"}\r\n                <h5>\r\n                  <b>{extra.title}</b>\r\n                </h5>\r\n              </td>\r\n              <td>\r\n                {\" \"}\r\n                <h5>\r\n                  <b style={{ display: \"flex\", color: \"#ff6b6b\" }}>\r\n                    {extra.price.toFixed(2)}{\" \"}\r\n                    {renderHTML(`<i>${currency}</i>`)}\r\n                  </b>\r\n                </h5>\r\n              </td>\r\n            </tr>\r\n          ))\r\n        ) : newProduct?.isComp ? (\r\n          // <Table>\r\n          //   <thead className=\"comphead\">\r\n          //     <tr>\r\n          //       {Object.keys(newProduct?.slots || {}).map((slotKey) => (\r\n          //         <td>{slotKey}</td>\r\n          //       ))}\r\n          //     </tr>\r\n          //   </thead>\r\n          //   <tbody>\r\n          //     {Object.keys(newProduct?.slots || {}).map((slotKey) => (\r\n          //       <td>\r\n          //         {newProduct?.slots[slotKey].products.map((prod) => (\r\n          //           <div\r\n          //             style={{\r\n          //               cursor: \"pointer\",\r\n          //               position: \"relative\",\r\n          //             }}\r\n          //             // className={prod.checked ? \"checked\" : \"not\"}\r\n          //             onClick={() =>\r\n          //               handleSlotSelect({ slotKey, id: prod.id })\r\n          //             }\r\n          //           >\r\n          //             <h6>\r\n          //               <b\r\n          //                 style={{\r\n          //                   color: prod.checked ? \"#ff6b6b\" : \"black\",\r\n          //                 }}\r\n          //               >\r\n          //                 {prod.name}\r\n          //               </b>\r\n          //             </h6>\r\n          //             <img\r\n          //               src={prod.image}\r\n          //               width=\"50px\"\r\n          //               height=\"50px\"\r\n          //               style={{\r\n          //                 borderRadius: \"50%\",\r\n          //                 borderColor: prod.checked ? \"#ff6b6b\" : \"black\",\r\n          //               }}\r\n          //             />\r\n          //             {/* <div className=\"price\">\r\n          //               {`${prod.price}`} {renderHTML(`<i>${currency}</i>`)}\r\n          //             </div> */}\r\n          //             {prod.checked ? (\r\n          //               <FontAwesomeIcon\r\n          //                 icon={faCheck}\r\n          //                 color=\"#ff6b6b\"\r\n          //                 style={{\r\n          //                   position: \"absolute\",\r\n          //                   top: \"5px\",\r\n          //                   right: \"5px\",\r\n          //                 }}\r\n          //               />\r\n          //             ) : (\r\n          //               \"\"\r\n          //             )}\r\n          //           </div>\r\n          //         ))}\r\n          //       </td>\r\n          //     ))}\r\n          //   </tbody>\r\n          // </Table>\r\n          <Carousel variant=\"dark\">\r\n             {Object.keys(newProduct?.slots || {}).map((slotKey) => (\r\n            \r\n                   <Carousel.Item  style={{ height:\"15rem\",width:\"100%\" ,textAlign:\"center\"}}>\r\n                    <h3> {slotKey}</h3>\r\n                    <div style={{display:\"flex\",justifyContent:\"space-around\", display:\"flex\",\r\n                        alignItems:\"center\",marginTop:\"2rem\"\r\n                         }}>\r\n                    {newProduct?.slots[slotKey].products.map((prod) => (\r\n                    <div\r\n                      style={{\r\n                        cursor: \"pointer\",\r\n                        position: \"relative\",\r\n                        \r\n                    \r\n                        \r\n                       \r\n                       \r\n                      }}\r\n                      // className={prod.checked ? \"checked\" : \"not\"}\r\n                      onClick={() =>\r\n                        handleSlotSelect({ slotKey, id: prod.id })\r\n                      }\r\n                    >\r\n                      <h6>\r\n                        <b\r\n                          style={{\r\n                            color: prod.checked ? \"#ff6b6b\" : \"black\",\r\n                          }}\r\n                        >\r\n                          {prod.name}\r\n                        </b>\r\n                      </h6>\r\n                      <img\r\n                        src={prod.image}\r\n                        width=\"50px\"\r\n                        height=\"50px\"\r\n                        style={{\r\n                          borderRadius: \"50%\",\r\n                          borderColor: prod.checked ? \"#ff6b6b\" : \"black\",\r\n                        }}\r\n                      />\r\n                      {/* <div className=\"price\">\r\n                        {`${prod.price}`} {renderHTML(`<i>${currency}</i>`)}\r\n                      </div> */}\r\n                      {prod.checked ? (\r\n                        <FontAwesomeIcon\r\n                          icon={faCheck}\r\n                          color=\"#ff6b6b\"\r\n                          style={{\r\n                            position: \"absolute\",\r\n                            top: \"50px\",\r\n                            right: \"20px\",\r\n                          }}\r\n                        />\r\n                      ) : (\r\n                        \"\"\r\n                      )}\r\n                    </div>\r\n                  ))} </div>\r\n             \r\n                   {/* <Carousel.Caption>\r\n                     <h5>First slide label</h5>\r\n                     <p>Nulla vitae elit libero, a pharetra augue mollis interdum.</p>\r\n                   </Carousel.Caption> */}\r\n                 </Carousel.Item>\r\n                ))}\r\n       \r\n        </Carousel>   \r\n        ) : newProduct?.nsteps > 0 ? (\r\n          <div>\r\n            <h6>\r\n              <b>\r\n                {\r\n                  nsteps.filter(\r\n                    (nstep) => nstep?.menu_id == newProduct?.id\r\n                  )[0][step]?.nom_etape\r\n                }\r\n              </b>\r\n            </h6>\r\n            <div className=\"steps_cont\">\r\n              {nsteps\r\n                .filter((nstep) => nstep.menu_id == newProduct?.id)[0]\r\n                [step]?.choice.map((slot) => (\r\n                  <div\r\n                    className={\r\n                      newProduct?.stepItems[step]?.find((el) => el.id == slot)\r\n                        ? \"prod_sel prod\"\r\n                        : \"prod\"\r\n                    }\r\n                    onClick={() =>\r\n                      handleStepSelect({\r\n                        id: slot,\r\n                        STP: nsteps.filter(\r\n                          (nstep) => nstep.menu_id == newProduct?.id\r\n                        )[0][step],\r\n                      })\r\n                    }\r\n                  >\r\n                    <img\r\n                      src={findProductWithId(slot).image}\r\n                      alt=\"\"\r\n                      height=\"70px\"\r\n                      width=\"70px\"\r\n                    />\r\n                    <h6 style={{ display: \"flex\" }}>\r\n                      <b>{findProductWithId(slot).name} </b>\r\n                      <span>\r\n                        <b\r\n                          style={{\r\n                            display: \"flex\",\r\n                            marginLeft: \"1rem\",\r\n                            marginRight: \"1rem\",\r\n                            color: \"#ff6b6b\",\r\n                          }}\r\n                        >\r\n                          {findProductWithId(slot).price}{\" \"}\r\n                          {renderHTML(`<i>${currency}</i>`)}\r\n                        </b>\r\n                      </span>{\" \"}\r\n                    </h6>\r\n                    <p>{findProductWithId(slot).description}</p>\r\n                    {/* {newProduct?.stepItems[step]?.find(\r\n                        (el) => el.id == slot\r\n                      )\r\n                        ? \"selected\"\r\n                        : \"not\"} */}\r\n                  </div>\r\n                ))}\r\n            </div>\r\n            {newProduct?.nsteps >= step && step > 0 ? (\r\n              <Button\r\n                style={{ marginRight: \"1rem\" }}\r\n                variant=\"outline-secondary\"\r\n                onClick={() => {\r\n                  if (step > 1) {\r\n                    setstep(step - 1);\r\n                  }\r\n                }}\r\n              >\r\n                Retour\r\n              </Button>\r\n            ) : (\r\n              \"\"\r\n            )}\r\n            {newProduct?.nsteps > step && step > 0 ? (\r\n              <Button\r\n                variant=\"outline-warning\"\r\n                onClick={() => {\r\n                  if (newProduct?.nsteps > step && selected == step) {\r\n                    setstep(step + 1);\r\n                  }\r\n                }}\r\n              >\r\n                Suivant\r\n              </Button>\r\n            ) : (\r\n              \"\"\r\n            )}\r\n            {newProduct?.nsteps == step ? (\r\n              <Button\r\n                variant=\"outline-warning\"\r\n                onClick={() => {\r\n                  if (selected == step) {\r\n                    handleNewOrderWithStepsToCart();\r\n                  }\r\n                }}\r\n              >\r\n                Finir\r\n              </Button>\r\n            ) : (\r\n              \"\"\r\n            )}\r\n          </div>\r\n        ) : (\r\n          \"\"\r\n        )}\r\n      </Modal.Body>\r\n      <Modal.Footer>\r\n        {/* <div>\r\n          <h3>\r\n            <FontAwesomeIcon\r\n              icon={faPencilAlt}\r\n              style={{ width: \"24\", marginRight: \"0.5rem\" }}\r\n            />\r\n            Remarque\r\n          </h3>\r\n          <Form.Control\r\n            type=\"textarea\"\r\n            as=\"textarea\"\r\n            placeholder=\"note\"\r\n            style={{ width: \"300px\", marginRight: \"300px\" }}\r\n            onChange={(e) =>\r\n              setnewProduct({ ...newProduct, note: e.target.value })\r\n            }\r\n          ></Form.Control>\r\n        </div> */}\r\n\r\n        <Button\r\n          variant=\"secondary\"\r\n          onClick={() => {\r\n            setShowPreview(false);\r\n            setstep(1);\r\n          }}\r\n        >\r\n          {t(\"cancel\")}\r\n        </Button>\r\n        {newProduct?.nsteps == 0 || newProduct?.isComp ? (\r\n          <Button\r\n            style={{ backgroundColor: \"#ff6b6b\", borderColor: \"#ff6b6b\" }}\r\n            variant=\"warning\"\r\n            onClick={() => handleNewOrderToCart()}\r\n          >\r\n            {t(\"aded\")}\r\n          </Button>\r\n        ) : (\r\n          \"\"\r\n        )}\r\n      </Modal.Footer>\r\n    </Modal>\r\n    <Modal show={showstock} onHide={() => setshowstock(false)}>\r\n      <Modal.Header closeButton>\r\n        <Modal.Title>Gestion de stock</Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Footer>\r\n        <Button variant=\"secondary\" onClick={() => setshowstock(false)}>\r\n          Retour au tables\r\n        </Button>\r\n        <Button variant=\"danger\" onClick={() => handleStock()}>\r\n          Hors stock\r\n        </Button>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  </>\r\n  )\r\n}\r\n\r\nexport default Product","import axios from \"axios\";\r\nimport Keyboard from \"react-simple-keyboard\";\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport { Button, Col, Container, Nav, Navbar, Row } from \"react-bootstrap\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useNavigate, useParams } from \"react-router\";\r\nimport CartMenu from \"../Components/CartMenu\";\r\nimport Category from \"../Components/Category\";\r\nimport MenuItems from \"../Components/MenuItems\";\r\nimport { storeCategories, storeNSteps, storeProducts } from \"../Slices/data\";\r\nimport useTranslation from \"./../i18\";\r\nimport tableIcon from \"./../Shared/table.png\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport logo from \"./../Shared/logo.png\";\r\nimport {\r\n  faGlobe,\r\n  faSearch,\r\n  faSignOutAlt,\r\n  faTimes,\r\n  faUtensils,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport serveur from \"./../Shared/serveur.png\";\r\nimport NaviBottom from \"../Components/NaviBottom\";\r\nimport { clearOrders } from \"../Slices/order\";\r\n\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport $ from \"jquery\";\r\nimport Item from \"../Components/Item\";\r\nimport Product from \"../Components/Product\";\r\n\r\nconst Menu = () => {\r\n  const { t } = useTranslation();\r\n  const navigate = useNavigate();\r\n  const [shows, setShows] = useState(false);\r\n  function handleClose(){\r\n    setShows(false)\r\n  }\r\n  function handleShow() {\r\n    setShows(true);\r\n  }\r\n\r\n  const selectedTable = useSelector((state) => state.order.selectedTable);\r\n  const params = useParams();\r\n  const user_id = localStorage.getItem(\"user_id\");\r\n  const { order_id } = params;\r\n  const categories = useSelector((state) => state.data.categories);\r\n  const [selectedCategory, setSelectedCategory] = useState(categories[0]?.id);\r\n  const [alert, setAlert] = useState({ show: false, msg: \"\", type: \"\" });\r\n  const username = localStorage.getItem(\"username\") || \"\";\r\n  const [date, setDate] = useState(new Date().toLocaleTimeString(\"fa-IR\"));\r\n  const [battery, setBattery] = useState({ level: 0, charging: false });\r\n  const [confirmed, setconfirmed] = useState(false);\r\n\r\n  const [serachbar, setSerachbar] = useState(\"\");\r\n\r\n  const products = useSelector((state) => state.data.products);\r\n\r\n  // const handleChange = ({ target: { level, charging } }) => {\r\n  //   setBattery({ level, charging });\r\n  // };\r\n\r\n  // useEffect(() => {\r\n  //   let battery;\r\n  //   navigator.getBattery().then((bat) => {\r\n  //     battery = bat;\r\n  //     battery.addEventListener(\"levelchange\", handleChange);\r\n  //     battery.addEventListener(\"chargingchange\", handleChange);\r\n  //     handleChange({ target: battery });\r\n  //   });\r\n  //   return () => {\r\n  //     battery.removeEventListener(\"levelchange\", handleChange);\r\n  //     battery.removeEventListener(\"chargingchange\", handleChange);\r\n  //   };\r\n  // }, []);\r\n\r\n  useEffect(() => {\r\n    const timerID = setInterval(() => tick(), 1000);\r\n    \r\n    return () => {\r\n      clearInterval(timerID);\r\n   \r\n    };\r\n    \r\n  }, []);\r\n\r\n  const tick = () => {\r\n    setDate(new Date().toLocaleTimeString(\"fr-fr\").replace(/(.*)\\D\\d+/, \"$1\"));\r\n  };\r\n\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    // if (selectedTable.nbr == undefined) {\r\n    //   navigate(\"/main\");\r\n    // }\r\n\r\n    axios\r\n      .post(\r\n        \"http://192.168.1.166:5000/api/categories\",\r\n        {\r\n          user_id,\r\n        }\r\n      )\r\n      .then((res) =>\r\n        dispatch(\r\n          storeCategories({\r\n            categories: res.data.sort((a, b) => a.cat_order - b.cat_order),\r\n          })\r\n        )\r\n      );\r\n    axios\r\n      .post(\r\n       \"http://192.168.1.166:5000/api/products\",\r\n        {\r\n          user_id,\r\n          category: 0,\r\n        }\r\n      )\r\n      .then((res) => {\r\n        dispatch(storeProducts({ products: res.data.products }));\r\n        dispatch(storeNSteps({ nSteps: res.data.menuSteps }));\r\n      });\r\n  }, []);\r\n\r\n  // useEffect(() => {\r\n  //   axios\r\n  //     .post(process.env.REACT_APP_API_HOST+\":\"+process.env.REACT_APP_API_PORT+\"/api/products\", { user_id, category: selectedCategory })\r\n  //     .then((res) => dispatch(storeProducts({ products: res.data })));\r\n  // }, [selectedCategory]);\r\n  const handleDisconnect = () => {\r\n    localStorage.removeItem(\"user\");\r\n    localStorage.removeItem(\"username\");\r\n    navigate(\"/\");\r\n  };\r\n  //keypord\r\n  const [myLayout, setLayout] = useState(\"default\");\r\n  const [filter, setFilter] = useState(\"\");\r\n  const keyboard = useRef();\r\n  const onChange = (input) => {\r\n    setFilter(input)\r\n  };\r\n  const onKeyPress = (button) => {\r\n    console.log(\"Button pressed\", button);\r\n    if(button==\"{lock}\"&&myLayout==\"default\"){\r\n      setLayout(\"shift\")\r\n    }\r\n    if(button==\"{lock}\"&&myLayout==\"shift\"){\r\n      setLayout(\"default\")\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Navbar\r\n        style={{ backgroundColor: \"#0dcaf0\", height: \"70px\" }}\r\n        variant=\"warning\"\r\n      >\r\n        <Container>\r\n          <Navbar.Brand>\r\n            <div class=\"logo-container\">\r\n              <img id=\"chrome\" class=\"logo\" src={logo} />\r\n            </div>\r\n          </Navbar.Brand>\r\n          <div onClick={()=>handleShow()} style={{cursor:\"pointer\"}}>\r\n          <h6\r\n           \r\n            style={{\r\n              color: \"white\",\r\n              marginLeft: \"1rem\",\r\n              marginTop: \"0.5rem\",\r\n              padding: \"5px\",\r\n            }}\r\n          >\r\n             \r\n            <b>Rechercher</b>\r\n            <FontAwesomeIcon icon={faSearch}  style={{marginLeft:\"0.5rem\"}} />\r\n            </h6>\r\n          </div>\r\n          <Nav className=\"ms-auto\">\r\n            <Nav.Link\r\n              onClick={() => {\r\n                navigate(\"/main\");\r\n                dispatch(clearOrders());\r\n              }}\r\n            >\r\n              <img width=\"45px\" src={tableIcon} className=\"table-icon\" />\r\n            </Nav.Link>\r\n          </Nav>\r\n          <h6\r\n            className=\"menu-server-logout\"\r\n            style={{\r\n              color: \"white\",\r\n              marginLeft: \"1rem\",\r\n              marginTop: \"0.5rem\",\r\n              borderLeft: \"1px solid white\",\r\n              padding: \"5px\",\r\n            }}\r\n          >\r\n            <img\r\n              src={serveur}\r\n              width={32}\r\n              height={32}\r\n              style={{ marginRight: \"0.5rem\" }}\r\n            />\r\n            <b>{username}</b>\r\n            <FontAwesomeIcon\r\n              onClick={() => handleDisconnect()}\r\n              size=\"2x\"\r\n              icon={faSignOutAlt}\r\n              style={{ marginLeft: \"0.5rem\", paddingTop: \"0.5rem\" }}\r\n            />\r\n          </h6>\r\n        </Container>\r\n      </Navbar>\r\n      <div className=\"cont_my\">\r\n        <Row\r\n          style={{\r\n            height: \"85vh\",\r\n            paddingRight: \"0 !important\",\r\n            backgroundColor: \"white\",\r\n          }}\r\n        >\r\n          <Col xs={2}>\r\n            <Category\r\n              selectedCategory={selectedCategory}\r\n              setSelectedCategory={setSelectedCategory}\r\n              categories={categories}\r\n            />\r\n          </Col>\r\n          <Col xs={7}>\r\n            <MenuItems\r\n              order_id={order_id}\r\n              categories={categories}\r\n              selectedCategory={selectedCategory}\r\n              setAlert={setAlert}\r\n              confirmed={confirmed}\r\n              setconfirmed={setconfirmed}\r\n            />\r\n          </Col>\r\n          <Col xs={3}>\r\n            <CartMenu\r\n              selectedTable={selectedTable}\r\n              confirmed={confirmed}\r\n              setconfirmed={setconfirmed}\r\n            />\r\n          </Col>\r\n          \r\n        </Row>\r\n      </div>\r\n      {shows ? (\r\n        <div className=\"all-produc-menu\" >\r\n          <div className=\"modal-heade\">\r\n            <div className=\"input-search-product\" >\r\n              \r\n              <input type=\"text\" placeholder=\"Rehercher un produit...\"  value={filter}/>\r\n              <FontAwesomeIcon icon={faSearch} className=\"Sm\" />\r\n            </div>\r\n\r\n            <FontAwesomeIcon icon={faTimes} className=\"xm\" onClick={()=>handleClose()} />\r\n          </div>\r\n          <div className=\"modal-bodys\">\r\n            {\r\n              products.filter(e=>e.name.toLowerCase().includes(filter.toLowerCase())||e.code.includes(filter)).map((product,key)=><Product order_id={order_id} setAlert={setAlert} setconfirmed={setconfirmed} product={product} />\r\n\r\n              )\r\n              \r\n            }\r\n          </div>\r\n          <div className=\"keyboard\">\r\n            <Keyboard\r\n       \r\n            layoutName={myLayout}\r\n                  \r\n              onChange={onChange}\r\n              onKeyPress={onKeyPress}\r\n            />\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n      <NaviBottom />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Menu;\r\n","import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nconst initialState = {\r\n  monnaies: [],\r\n  initialValue: 0,\r\n};\r\n\r\nconst caisseSlice = createSlice({\r\n  name: \"caisse\",\r\n  initialState,\r\n  reducers: {\r\n    setMonnaies: (state, action) => {\r\n      state.monnaies = action.payload.monnaies;\r\n    },\r\n    clearcaisse: () => {\r\n      return { caisse: \"\" };\r\n    },\r\n    setInitialValue: (state, action) => {\r\n      state.initialValue = action.payload.montant;\r\n    },\r\n  },\r\n});\r\n\r\nconst { reducer, actions } = caisseSlice;\r\n\r\nexport const { setMonnaies, clearcaisse, setInitialValue } = actions;\r\nexport default reducer;\r\n","export default __webpack_public_path__ + \"static/media/coin.3b947962.png\";","export default __webpack_public_path__ + \"static/media/billet.8e0c912a.png\";","export default __webpack_public_path__ + \"static/media/sound.861677ae.mp3\";","import axios from \"axios\";\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { setInitialValue, setMonnaies } from \"../Slices/caisse\";\r\nimport { Button, Container, FormControl, Nav, Navbar } from \"react-bootstrap\";\r\nimport { useNavigate } from \"react-router\";\r\nimport Navi from \"../Components/Navi\";\r\nimport coin from \"./../Shared/coin.png\";\r\nimport billet from \"./../Shared/billet.png\";\r\nimport Keyboard from \"react-simple-keyboard\";\r\nimport \"react-simple-keyboard/build/css/index.css\";\r\nimport Swal from \"sweetalert2\";\r\nimport aud from \"./../Shared/sound.mp3\";\r\n\r\nconst Caisse = () => {\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n\r\n  const [audio, setaudio] = useState(new Audio(aud));\r\n\r\n  useEffect(() => {\r\n    audio.play();\r\n  }, []);\r\n\r\n  const caisse_open = localStorage.getItem(\"caisse_open\");\r\n  const caisse_id = localStorage.getItem(\"caisse_id\");\r\n  const user_id = localStorage.getItem(\"user_id\");\r\n  const user = localStorage.getItem(\"username\");\r\n  const monnaies = useSelector((state) => state.caisse.monnaies);\r\n  const [historique_monnaie, setHistorique_monnaie] = useState([]);\r\n  const [total, setTotal] = useState(0);\r\n  const currency = localStorage.getItem(\"currency\");\r\n  const [ping, setping] = useState(true);\r\n  const [input, setInput] = useState(\"\");\r\n  const [myLayout, setLayout] = useState([\r\n    \"9 8 7\",\r\n    \"6 5 4\",\r\n    \"3 2 1\",\r\n    \"0 {bksp}\",\r\n  ]);\r\n  const keyboard = useRef();\r\n  const [selected, setSelected] = useState(0);\r\n  const [lay, setlay] = useState([\r\n    { value: 0, real: 0.02 },\r\n    { value: 0, real: 0.05 },\r\n    { value: 0, real: 0.1 },\r\n    { value: 0, real: 0.2 },\r\n    { value: 0, real: 0.5 },\r\n    { value: 0, real: 1 },\r\n    { value: 0, real: 5 },\r\n    { value: 0, real: 10 },\r\n    { value: 0, real: 20 },\r\n    { value: 0, real: 50 },\r\n    { value: 0, real: 100 },\r\n    { value: 0, real: 200 },\r\n    { value: 0, real: 2 },\r\n    { value: 0, real: 0.2 },\r\n    { value: 0, real: 0.1 },\r\n  ]);\r\n\r\n  const onChange = (input) => {\r\n    setInput(input);\r\n    console.log(\"Input changed\", input);\r\n    let newarr = [...lay];\r\n    newarr[selected].value = Number(input);\r\n    setlay(newarr);\r\n    setInput(\"\");\r\n  };\r\n\r\n  const onKeyPress = (button) => {\r\n    console.log(\"Button pressed\", button);\r\n  };\r\n\r\n  const onChangeInput = ({ e, index }) => {\r\n    const input = e.target.value;\r\n    setInput(input);\r\n    let newarr = [...lay];\r\n    newarr[selected].value = Number(input);\r\n    setlay(newarr);\r\n    keyboard.current.setInput(input);\r\n    setTotal(calcMontant());\r\n  };\r\n\r\n  ////////////////////////\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .post(\r\n       \"http://192.168.1.166:5000/api/getMonnaie\",\r\n        {\r\n          user_id,\r\n        }\r\n      )\r\n      .then((res) => {\r\n        dispatch(setMonnaies({ monnaies: res.data }));\r\n      });\r\n  }, []);\r\n  useEffect(() => {\r\n    audio.play();\r\n    console.log(audio);\r\n    if (caisse_open == true) {\r\n      let date = new Date();\r\n      let dateStr =\r\n        (\"00\" + (date.getMonth() + 1)).slice(-2) +\r\n        \"/\" +\r\n        (\"00\" + date.getDate()).slice(-2) +\r\n        \"/\" +\r\n        date.getFullYear() +\r\n        \" \" +\r\n        (\"00\" + date.getHours()).slice(-2) +\r\n        \":\" +\r\n        (\"00\" + date.getMinutes()).slice(-2) +\r\n        \":\" +\r\n        (\"00\" + date.getSeconds()).slice(-2);\r\n      Swal.fire({\r\n        icon: \"success\",\r\n        title: \"caisse Ouvert !\",\r\n        text: \"Date ouverture :\" + dateStr,\r\n        showConfirmButton: false,\r\n        timer: 1500,\r\n      });\r\n      navigate(\"/main\");\r\n    }\r\n  }, [ping]);\r\n\r\n  const handleHistoriqueMonnaie = ({ key, qt, monnaie }) => {\r\n    let copy = JSON.parse(JSON.stringify(historique_monnaie) || []);\r\n    copy[key] = {\r\n      value: monnaie.value,\r\n      type: monnaie.id,\r\n      qt: qt,\r\n    };\r\n    setHistorique_monnaie(copy);\r\n  };\r\n\r\n  const calcMontant = () => {\r\n    let montant = 0;\r\n    lay.map((el) => {\r\n      montant += el.value * el.real;\r\n      console.log(montant);\r\n    });\r\n    return montant;\r\n  };\r\n\r\n  const handleOpenCaisse30 = () => {\r\n    let historiquePrint = {\r\n      caisse_id: caisse_id,\r\n      date: Date.now(),\r\n      montant: 30,\r\n      type: \"open\",\r\n    };\r\n    axios\r\n      .post(\r\n       \"http://192.168.1.166:5000/api/OpenCaisse\",\r\n        {\r\n          user_id,\r\n          user,\r\n          montant: 30,\r\n          historiquePrint,\r\n          historique_monnaie,\r\n        }\r\n      )\r\n      .then((res) => {\r\n        console.log(res.data);\r\n        let caisse_initial_value = res.data.historiquePrint?.montant;\r\n        dispatch(setInitialValue({ montant: caisse_initial_value }));\r\n        localStorage.setItem(\"caisse_open\", 1);\r\n        setping(!ping);\r\n      });\r\n  };\r\n\r\n  const handleOpenCaisse = () => {\r\n    if (calcMontant() > 0) {\r\n      console.log(historique_monnaie);\r\n      console.log(calcMontant());\r\n      let historiquePrint = {\r\n        caisse_id: caisse_id,\r\n        date: Date.now(),\r\n        montant: calcMontant(),\r\n        type: \"open\",\r\n      };\r\n      console.log(historiquePrint);\r\n      axios\r\n        .post(\r\n         \"http://192.168.1.166:5000/api/OpenCaisse\",\r\n          {\r\n            user_id,\r\n            user,\r\n            montant: calcMontant(),\r\n            historiquePrint,\r\n            historique_monnaie,\r\n          }\r\n        )\r\n        .then((res) => {\r\n          console.log(res.data);\r\n          let caisse_initial_value = res.data.historiquePrint?.montant;\r\n          dispatch(setInitialValue({ montant: caisse_initial_value }));\r\n          localStorage.setItem(\"caisse_open\", 1);\r\n          setping(!ping);\r\n        });\r\n    } else {\r\n      Swal.fire({\r\n        icon: \"error\",\r\n        title: \"Fond initial est 0 !\",\r\n        showConfirmButton: false,\r\n        timer: 1500,\r\n      });\r\n    }\r\n  };\r\n\r\n  const renderHTML = (rawHTML: string) =>\r\n    React.createElement(\"div\", {\r\n      dangerouslySetInnerHTML: { __html: rawHTML },\r\n    });\r\n\r\n  return (\r\n    <div className=\"my_container\">\r\n      <Navi title=\"cashierr\" />\r\n      <div className=\"toOpenCaisse\">\r\n        {/* <h1\r\n          style={{\r\n            backgroundColor: \"#ff6b6b\",\r\n            width: \"100%\",\r\n            textAlign: \"center\",\r\n          }}\r\n        >\r\n          Monnaies\r\n        </h1> */}\r\n        <div className=\"mon_cont\">\r\n          {/* {monnaies.map((monnaie, key) => (\r\n            <div className=\"monn\">\r\n              <div>\r\n                <p>{`${monnaie.type} ${monnaie.name}`}</p>\r\n                <input\r\n                  type=\"number\"\r\n                  placeholder=\"0\"\r\n                  onChange={(e) =>\r\n                    handleHistoriqueMonnaie({\r\n                      monnaie,\r\n                      key,\r\n                      qt: e.target.value,\r\n                    })\r\n                  }\r\n                />\r\n              </div>\r\n            </div>\r\n          ))} */}\r\n          <div className=\"piece\">\r\n            <img\r\n              className=\"piece-img-coin\"\r\n              src={coin}\r\n              width={64}\r\n              height={64}\r\n              style={{ position: \"absolute\" }}\r\n            />\r\n            <div className=\"mon\">\r\n              <span className=\"flex\">2 {renderHTML(`<i>${currency}</i>`)}</span>\r\n              <FormControl\r\n                value={lay[12].value}\r\n                onFocus={() => {\r\n                  setSelected(12);\r\n                  keyboard.current.setInput(\"\");\r\n                }}\r\n                onChange={(e) => {\r\n                  onChangeInput({ e, index: 12 });\r\n                }}\r\n                type=\"number\"\r\n                className=\"moninput\"\r\n              />\r\n              <span className=\"flex\">\r\n                {lay[12].value * lay[12].real}{\" \"}\r\n                {renderHTML(`<i>${currency}</i>`)}\r\n              </span>\r\n            </div>\r\n            <div className=\"mon\">\r\n              <span className=\"flex\">1 {renderHTML(`<i>${currency}</i>`)}</span>\r\n              <FormControl\r\n                onFocus={() => {\r\n                  setSelected(5);\r\n                  keyboard.current.setInput(\"\");\r\n                }}\r\n                value={lay[5].value}\r\n                onChange={(e) => onChangeInput({ e, index: 5 })}\r\n                type=\"number\"\r\n                className=\"moninput\"\r\n              />\r\n              <span className=\"flex\">\r\n                {lay[5].value * lay[5].real} {renderHTML(`<i>${currency}</i>`)}\r\n              </span>\r\n            </div>\r\n            <div className=\"mon\">\r\n              <span className=\"flex\">\r\n                0.5 {renderHTML(`<i>${currency}</i>`)}\r\n              </span>\r\n              <FormControl\r\n                value={lay[4].value}\r\n                onFocus={() => {\r\n                  setSelected(4);\r\n                  keyboard.current.setInput(\"\");\r\n                }}\r\n                onChange={(e) => onChangeInput({ e, index: 4 })}\r\n                type=\"number\"\r\n                className=\"moninput\"\r\n              />\r\n              <span className=\"flex\">\r\n                {lay[4].value * lay[4].real} {renderHTML(`<i>${currency}</i>`)}\r\n              </span>\r\n            </div>\r\n            <div className=\"mon\">\r\n              <span className=\"flex\">\r\n                0.2 {renderHTML(`<i>${currency}</i>`)}\r\n              </span>\r\n              <FormControl\r\n                value={lay[13].value}\r\n                onFocus={() => {\r\n                  setSelected(13);\r\n                  keyboard.current.setInput(\"\");\r\n                }}\r\n                onChange={(e) => onChangeInput({ e, index: 13 })}\r\n                type=\"number\"\r\n                className=\"moninput\"\r\n              />\r\n              <span className=\"flex\">\r\n                {lay[13].value * lay[13].real}{\" \"}\r\n                {renderHTML(`<i>${currency}</i>`)}\r\n              </span>\r\n            </div>\r\n            <div className=\"mon\">\r\n              <span className=\"flex\">\r\n                0.1 {renderHTML(`<i>${currency}</i>`)}\r\n              </span>\r\n              <FormControl\r\n                value={lay[14].value}\r\n                onFocus={() => {\r\n                  setSelected(14);\r\n                  keyboard.current.setInput(\"\");\r\n                }}\r\n                onChange={(e) => onChangeInput({ e, index: 14 })}\r\n                type=\"number\"\r\n                className=\"moninput\"\r\n              />\r\n              <span className=\"flex\">\r\n                {lay[14].value * lay[14].real}{\" \"}\r\n                {renderHTML(`<i>${currency}</i>`)}\r\n              </span>\r\n            </div>\r\n\r\n            <Keyboard\r\n              theme={\"hg-theme-default hg-layout-default myTheme2\"}\r\n              display={{\r\n                \"{bksp}\": \"EFFACER\",\r\n              }}\r\n              buttonTheme={[\r\n                {\r\n                  class: \"key_btn2\",\r\n                  buttons: \"0 1 2 3 4 5 6 7 8 9 {bksp} {enter}\",\r\n                },\r\n                {\r\n                  class: \"hg-highlight\",\r\n                  buttons: \"Q q\",\r\n                },\r\n              ]}\r\n              keyboardRef={(r) => (keyboard.current = r)}\r\n              layoutName={\"default\"}\r\n              layout={{\r\n                default: myLayout,\r\n              }}\r\n              onChange={onChange}\r\n              onKeyPress={onKeyPress}\r\n            />\r\n          </div>\r\n          <div className=\"billet\">\r\n            <img\r\n              src={billet}\r\n              width={64}\r\n              height={64}\r\n              style={{ position: \"absolute\" }}\r\n            />\r\n            <div className=\"mon\">\r\n              <span className=\"flex\">\r\n                200 {renderHTML(`<i>${currency}</i>`)}\r\n              </span>\r\n              <FormControl\r\n                value={lay[11].value}\r\n                onFocus={() => {\r\n                  setSelected(11);\r\n                  keyboard.current.setInput(\"\");\r\n                }}\r\n                onChange={(e) => onChangeInput({ e, index: 11 })}\r\n                type=\"number\"\r\n                className=\"moninput\"\r\n              />\r\n              <span className=\"flex\">\r\n                {lay[11].value * lay[11].real}{\" \"}\r\n                {renderHTML(`<i>${currency}</i>`)}\r\n              </span>\r\n            </div>\r\n            <div className=\"mon\">\r\n              <span className=\"flex\">\r\n                100 {renderHTML(`<i>${currency}</i>`)}\r\n              </span>\r\n              <FormControl\r\n                value={lay[10].value}\r\n                onFocus={() => {\r\n                  setSelected(10);\r\n                  keyboard.current.setInput(\"\");\r\n                }}\r\n                onChange={(e) => onChangeInput({ e, index: 10 })}\r\n                type=\"number\"\r\n                className=\"moninput\"\r\n              />\r\n              <span className=\"flex\">\r\n                {lay[10].value * lay[10].real}{\" \"}\r\n                {renderHTML(`<i>${currency}</i>`)}\r\n              </span>\r\n            </div>\r\n            <div className=\"mon\">\r\n              <span className=\"flex\">\r\n                50 {renderHTML(`<i>${currency}</i>`)}\r\n              </span>\r\n              <FormControl\r\n                value={lay[9].value}\r\n                onFocus={() => {\r\n                  setSelected(9);\r\n                  keyboard.current.setInput(\"\");\r\n                }}\r\n                onChange={(e) => onChangeInput({ e, index: 9 })}\r\n                type=\"number\"\r\n                className=\"moninput\"\r\n              />\r\n              <span className=\"flex\">\r\n                {lay[9].value * lay[9].real} {renderHTML(`<i>${currency}</i>`)}\r\n              </span>\r\n            </div>\r\n            <div className=\"mon\">\r\n              <span className=\"flex\">\r\n                20 {renderHTML(`<i>${currency}</i>`)}\r\n              </span>\r\n              <FormControl\r\n                value={lay[8].value}\r\n                onFocus={() => {\r\n                  setSelected(8);\r\n                  keyboard.current.setInput(\"\");\r\n                }}\r\n                onChange={(e) => onChangeInput({ e, index: 8 })}\r\n                type=\"number\"\r\n                className=\"moninput\"\r\n              />\r\n              <span className=\"flex\">\r\n                {lay[8].value * lay[8].real} {renderHTML(`<i>${currency}</i>`)}\r\n              </span>\r\n            </div>\r\n            <div className=\"mon\">\r\n              <span className=\"flex\">\r\n                10 {renderHTML(`<i>${currency}</i>`)}\r\n              </span>\r\n              <FormControl\r\n                value={lay[7].value}\r\n                onFocus={() => {\r\n                  setSelected(7);\r\n                  keyboard.current.setInput(\"\");\r\n                }}\r\n                onChange={(e) => onChangeInput({ e, index: 7 })}\r\n                type=\"number\"\r\n                className=\"moninput\"\r\n              />\r\n              <span className=\"flex\">\r\n                {lay[7].value * lay[7].real} {renderHTML(`<i>${currency}</i>`)}\r\n              </span>\r\n            </div>\r\n            <div className=\"mon\">\r\n              <span className=\"flex\">5 {renderHTML(`<i>${currency}</i>`)}</span>\r\n              <FormControl\r\n                value={lay[6].value}\r\n                onFocus={() => {\r\n                  setSelected(6);\r\n                  keyboard.current.setInput(\"\");\r\n                }}\r\n                onChange={(e) => onChangeInput({ e, index: 6 })}\r\n                type=\"number\"\r\n                className=\"moninput\"\r\n              />\r\n              <span className=\"flex\">\r\n                {lay[6].value * lay[6].real} {renderHTML(`<i>${currency}</i>`)}\r\n              </span>\r\n            </div>\r\n            <div className=\"caisse-ovrir-caisse\">\r\n              <h4 className=\"grand-total\">\r\n                <b>\r\n                  Grand Total : <br />\r\n                  <span style={{ display: \"flex\" }}>\r\n                    {calcMontant().toFixed(2)}\r\n                    {renderHTML(`<i>${currency}</i>`)}\r\n                  </span>\r\n                </b>\r\n              </h4>\r\n              <Button\r\n                onClick={() => handleOpenCaisse()}\r\n                variant=\"warning\"\r\n                className=\"open_btn\"\r\n                size=\"lg\"\r\n              >\r\n                Ouvrir Caisse\r\n              </Button>\r\n              <Button\r\n            \r\n                onClick={() => handleOpenCaisse30()}\r\n                variant=\"warning\"\r\n                className=\"open_btn-30\"\r\n                size=\"lg\"\r\n              >\r\n               Ouvrir avec 30\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <Navbar bg=\"light\" variant=\"light\" fixed=\"bottom\">\r\n        <Container>\r\n          <Navbar.Brand href=\"#home\">\r\n            Tous droits reserves <b>CAISSECONNECT.FR</b>  2022\r\n          </Navbar.Brand>\r\n          <Nav className=\"me-auto\">\r\n            <Nav.Link href=\"#home\"></Nav.Link>\r\n          </Nav>\r\n        </Container>\r\n      </Navbar>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Caisse;\r\n","import { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport {\r\n  Badge,\r\n  Button,\r\n  Container,\r\n  Form,\r\n  FormGroup,\r\n  Modal,\r\n  Nav,\r\n  Navbar,\r\n  Row,\r\n  Table,\r\n  Col,\r\n} from \"react-bootstrap\";\r\nimport {\r\n  faCalendarAlt,\r\n  faCashRegister,\r\n  faCheckSquare,\r\n  faEdit,\r\n  faSignOutAlt,\r\n  faSearch,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport { useNavigate, useParams } from \"react-router\";\r\nimport tableIcon from \"./../Shared/table.png\";\r\nimport useTranslation from \"./../i18\";\r\nimport NaviBottom from \"../Components/NaviBottom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport logo from \"./../Shared/logo.png\";\r\nimport serveur from \"./../Shared/serveur.png\";\r\nimport cc from \"./../Shared/cc.png\";\r\nimport delivery from \"./../Shared/delivery.png\";\r\nimport takeout from \"./../Shared/takeout.png\";\r\nimport cash from \"./../Shared/cash.jpg\";\r\nimport surplace from \"./../Shared/surplace.png\";\r\nimport $ from \"jquery\";\r\nimport axios from \"axios\";\r\nimport { storeCoupon } from \"../Slices/data\";\r\n\r\nconst History = () => {\r\n const   chej=[];\r\n  const username = localStorage.getItem(\"username\") || \"\";\r\n  const user_id = localStorage.getItem(\"user_id\");\r\n  const caisse_id = localStorage.getItem(\"caisse_id\");\r\n  const coupons = useSelector((state) => state.data.coupons);\r\n  const tables = useSelector((state) => state.data.tables);\r\n  const [editClient, setEditClient] = useState({});\r\n  const [showEdit, setShowEdit] = useState(false);\r\n  const [ping, setping] = useState(false);\r\n  const [search, setSearch] = useState(\"\");\r\n  const params = useParams();\r\n  const navigate = useNavigate();\r\n  const { id } = params;\r\n  const { t } = useTranslation();\r\n  const dispatch = useDispatch();\r\n\r\n  \r\n  useEffect(() => {\r\n    axios\r\n      .post(\r\n        \"http://192.168.1.166:5000/api/getcoupons\",\r\n        {\r\n          user_id:user_id,\r\n          caisse_id:caisse_id,\r\n        \r\n        }\r\n      )\r\n      .then((res) => {\r\n        dispatch(storeCoupon( {coupons:res.data} ));\r\n      });\r\n\r\n  }, []);\r\n\r\n  const handleDisconnect = () => {\r\n    localStorage.removeItem(\"user\");\r\n    localStorage.removeItem(\"username\");\r\n    navigate(\"/\");\r\n  };\r\n\r\n  const renderHTML = (rawHTML: string) =>\r\n    React.createElement(\"div\", {\r\n      dangerouslySetInnerHTML: { __html: rawHTML },\r\n    });\r\n  const currency = localStorage.getItem(\"currency\").replace(/;/g, '').replace(/&/g, '');\r\n  \r\n  const table = ({ e }) => {\r\n    console.log(e);\r\n    return tables.find((table) => table.id == e);\r\n  };\r\n\r\n  return (\r\n    <div className=\"navbar\">\r\n      <Navbar\r\n        style={{  height: \"60px\" }}\r\n        variant=\"warning\"\r\n      >\r\n        <Container className=\"history-navbar\">\r\n          <Navbar.Brand>\r\n            <div class=\"logo-container\">\r\n              <img id=\"chrome\" class=\"logo\" src={logo} />\r\n            </div>\r\n          </Navbar.Brand>\r\n          <Nav className=\"ms-auto\">\r\n            <Nav.Link onClick={() => navigate(\"/main\")}>\r\n              <img width=\"45px\" src={tableIcon} className=\"table-icon\" />\r\n            </Nav.Link>\r\n            <Nav.Link>\r\n              <h6\r\n                style={{ color: \"white\", paddingTop: \"1rem\" }}\r\n                className=\"agenda\"\r\n              >\r\n                <FontAwesomeIcon\r\n                  icon={faCalendarAlt}\r\n                  style={{ marginRight: \"5px\" }}\r\n                />\r\n                Agenda\r\n              </h6>\r\n            </Nav.Link>\r\n            <Nav.Link onClick={() => navigate(\"/cloture\")}>\r\n              <h6\r\n                style={{ color: \"white\", paddingTop: \"1rem\" }}\r\n                className=\"caiss-h6\"\r\n              >\r\n                <FontAwesomeIcon\r\n                  icon={faCashRegister}\r\n                  style={{ marginRight: \"5px\" }}\r\n                />\r\n                {t(\"cashier\")}\r\n              </h6>\r\n            </Nav.Link>\r\n            <Nav.Link onClick={() => handleDisconnect()}>\r\n              <h6\r\n                style={{ color: \"white\", paddingTop: \"1rem\" }}\r\n                className=\"log-out\"\r\n              >\r\n                <FontAwesomeIcon\r\n                  icon={faSignOutAlt}\r\n                  style={{ marginRight: \"5px\" }}\r\n                />\r\n                {t(\"disconnect\")}\r\n              </h6>\r\n            </Nav.Link>\r\n          </Nav>\r\n          <h6\r\n            className=\"client-server-icon\"\r\n            style={{\r\n              color: \"white\",\r\n              marginLeft: \"1rem\",\r\n              marginTop: \"0.5rem\",\r\n              borderLeft: \"1px solid white\",\r\n              padding: \"5px\",\r\n            }}\r\n          >\r\n            <img\r\n              src={serveur}\r\n              width={32}\r\n              height={32}\r\n              style={{ marginRight: \"0.5rem\" }}\r\n            />\r\n            <b>{username}</b>\r\n            <FontAwesomeIcon\r\n              onClick={() => handleDisconnect()}\r\n              size=\"2x\"\r\n              icon={faSignOutAlt}\r\n              style={{ marginLeft: \"0.5rem\", paddingTop: \"0.5rem\" }}\r\n            />\r\n          </h6>\r\n          <div className=\"client-search\">\r\n            <label>\r\n              <FontAwesomeIcon icon={faSearch} />\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Chercher...\"\r\n              onChange={(e) => setSearch(e.target.value)}\r\n            />\r\n          </div>\r\n        </Container>\r\n      </Navbar>\r\n      <Container style={{ backgroundColor: \"white\" }} fluid>\r\n        <Table hover className=\"ttt\">\r\n          <thead className=\"tbds\">\r\n            {id ? (\r\n              <tr>\r\n                <th>#</th>\r\n                <th>Type</th>\r\n                <th>Table</th>\r\n                <th>date</th>\r\n                <th>order</th>\r\n                <th>Prix</th>\r\n                <th>Paiement </th>\r\n              </tr>\r\n            ) : (\r\n              <tr>\r\n                <th>id</th>\r\n                <th>Avoir</th>\r\n                <th>Cre dans</th>\r\n                <th>Expire dans</th>\r\n              </tr>\r\n            )}\r\n          </thead>\r\n          <tbody className=\"scro\">\r\n            {coupons.map((coupon,key)=>(\r\n                <tr>\r\n                <td >\r\n                  {coupon.id}\r\n                </td>\r\n                <td>{coupon.discount||\"N/A\"}{currency}</td>\r\n                <td>{  coupon.created_at||\"N/A\"}</td>\r\n                <td>{ coupon.expires_at||\"N/A\"}</td>\r\n              </tr>\r\n            ))}\r\n                    \r\n                  \r\n          </tbody>\r\n        </Table>\r\n      </Container>\r\n      <Modal show={showEdit} onHide={() => setShowEdit(false)}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Client</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <div>\r\n            <Form auto>\r\n              <Form.Group className=\"mb-3\">\r\n                <Row>\r\n                  <Col>\r\n                    <Form.Control\r\n                      value={editClient.nom_prenom}\r\n                      type=\"text\"\r\n                      placeholder=\"nom/prenom\"\r\n                      onChange={(e) =>\r\n                        setEditClient({\r\n                          ...editClient,\r\n                          nom_prenom: e.target.value,\r\n                        })\r\n                      }\r\n                    />\r\n                  </Col>\r\n                </Row>\r\n              </Form.Group>\r\n              <Form.Group className=\"mb-3\">\r\n                <Row>\r\n                  <Col>\r\n                    {editClient.telephone?.length > 0 &&\r\n                    editClient.telephone?.length < 10 ? (\r\n                      <Badge bg=\"danger\">\r\n                        Numero pas valide (10 chiffres obligatoire)\r\n                      </Badge>\r\n                    ) : (\r\n                      \"\"\r\n                    )}\r\n                    <Form.Control\r\n                      value={editClient.telephone}\r\n                      type=\"tel\"\r\n                      placeholder=\"telephone\"\r\n                      onChange={(e) =>\r\n                        setEditClient({\r\n                          ...editClient,\r\n                          telephone: e.target.value,\r\n                        })\r\n                      }\r\n                    />\r\n                  </Col>\r\n\r\n                  <Col>\r\n                    <Form.Control\r\n                      value={editClient.email}\r\n                      type=\"email\"\r\n                      placeholder=\"Email\"\r\n                      onChange={(e) =>\r\n                        setEditClient({ ...editClient, email: e.target.value })\r\n                      }\r\n                    />\r\n                  </Col>\r\n                </Row>\r\n              </Form.Group>\r\n              <Form.Group className=\"mb-3\">\r\n                <Row>\r\n                  <Col>\r\n                    <Form.Control\r\n                      value={editClient.adresse}\r\n                      as=\"textarea\"\r\n                      type=\"text\"\r\n                      placeholder=\"adresse\"\r\n                      onChange={(e) =>\r\n                        setEditClient({\r\n                          ...editClient,\r\n                          adresse: e.target.value,\r\n                        })\r\n                      }\r\n                    />\r\n                  </Col>\r\n                  <Col>\r\n                    <Form.Control\r\n                      value={editClient.societe}\r\n                      type=\"text\"\r\n                      placeholder=\"socit\"\r\n                      onChange={(e) =>\r\n                        setEditClient({\r\n                          ...editClient,\r\n                          societe: e.target.value,\r\n                        })\r\n                      }\r\n                    />\r\n                  </Col>\r\n                </Row>\r\n              </Form.Group>\r\n              <Form.Group className=\"mb-3\">\r\n                <Row>\r\n                  <Col>\r\n                    <Form.Control\r\n                      value={editClient.code_1}\r\n                      type=\"text\"\r\n                      placeholder=\"code 1\"\r\n                      onChange={(e) =>\r\n                        setEditClient({ ...editClient, code_1: e.target.value })\r\n                      }\r\n                    />\r\n                  </Col>\r\n                  <Col>\r\n                    <Form.Control\r\n                      value={editClient.code_2}\r\n                      type=\"text\"\r\n                      placeholder=\"code 2\"\r\n                      onChange={(e) =>\r\n                        setEditClient({ ...editClient, code_2: e.target.value })\r\n                      }\r\n                    />\r\n                  </Col>\r\n\r\n                  <Col xs=\"6\">\r\n                    <Form.Control\r\n                      value={editClient.ville}\r\n                      type=\"text\"\r\n                      placeholder=\"Ville\"\r\n                      onChange={(e) =>\r\n                        setEditClient({ ...editClient, ville: e.target.value })\r\n                      }\r\n                    />\r\n                  </Col>\r\n                </Row>\r\n              </Form.Group>\r\n              <Form.Group className=\"mb-3\">\r\n                <Row>\r\n                  <Col>\r\n                    <Form.Control\r\n                      value={editClient.interphone}\r\n                      type=\"text\"\r\n                      placeholder=\"interphone\"\r\n                      onChange={(e) =>\r\n                        setEditClient({\r\n                          ...editClient,\r\n                          interphone: e.target.value,\r\n                        })\r\n                      }\r\n                    />\r\n                  </Col>\r\n                  <Col>\r\n                    <Form.Control\r\n                      value={editClient.etage}\r\n                      type=\"text\"\r\n                      placeholder=\"etage\"\r\n                      onChange={(e) =>\r\n                        setEditClient({ ...editClient, etage: e.target.value })\r\n                      }\r\n                    />\r\n                  </Col>\r\n                  <Col xs=\"6\">\r\n                    <Form.Control\r\n                      value={editClient.code_postal}\r\n                      type=\"postal\"\r\n                      placeholder=\"Code postal\"\r\n                      onChange={(e) =>\r\n                        setEditClient({\r\n                          ...editClient,\r\n                          code_postal: e.target.value,\r\n                        })\r\n                      }\r\n                    />\r\n                  </Col>\r\n                </Row>\r\n              </Form.Group>\r\n            </Form>\r\n          </div>\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"secondary\" onClick={() => setShowEdit(false)}>\r\n            Annuler\r\n          </Button>\r\n          <Button\r\n            style={{ backgroundColor: \"#ff6b6b\", borderColor: \"#ff6b6b\" }}\r\n            variant=\"primary\"\r\n            onClick={() => {\r\n              setShowEdit(false);\r\n      \r\n            }}\r\n          >\r\n            Terminer\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n      <NaviBottom />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default History;\r\n","import React from \"react\";\r\nimport _ from \"lodash\";\r\nimport  { useState } from \"react\";\r\n\r\nconst TicketZ = ({ data, recap, selectedDate, products, tvas , tvasum}) => {\r\n  // const [toShowOrder, settoShowOrder] = useState(order);\r\n  // const currency = localStorage.getItem(\"currency\");\r\n  let ouvDate = recap?.lastOuverture?.date.substr(0, 10);\r\n  let ouvTime = recap?.lastOuverture?.date.substr(11, 5);\r\n  var curr = new Date();\r\n  let nowTime = curr.toISOString().substr(11, 5);\r\n  let ouverture = ouvDate + \"  \" + ouvTime;\r\nconsole.log(\"recapz\",recap)\r\nconst annuleshistory =recap?.today?.logs?.filter((e) => e.title_log == \"Annulation\")\r\nconsole.log(\"annuleshistory\",annuleshistory)\r\n\r\n  let tvass =[];\r\n  let v3,v1,v2,vs1,vs2,vs3,ht1,ht2,ht3,totalht2,qqt2,vp2,totalprice2,totalht3,qqt3,vp3,totalprice3,totalht1,qqt1,vp1,totalprice1;\r\n  v2=0;\r\n  v1=0;\r\n  v3=0;\r\n  vs1=0;\r\n  vs2=0;\r\n  vs3=0;\r\n  totalht2=0;\r\n  totalprice2=0;\r\n  qqt2=0;\r\n  vp2=0;\r\n\r\n  totalht3=0;\r\n  totalprice3=0;\r\n  qqt3=0;\r\n  vp3=0;\r\n  totalht1=0;\r\n  totalprice1=0;\r\n  qqt1=0;\r\n  vp1=0;\r\n\r\n  recap.today?.orderItems?.map((item) => {\r\n    if (item.tva==10) {\r\n      v2=v2+(item.quantity);\r\n      qqt2=(item.quantity)\r\n      vp2=(item.price);\r\n      vs2=+(qqt2*(item.price));\r\n      totalprice2=totalprice2+vs2;\r\n      ht2=qqt2*(vp2/(1+(10/100)));\r\n      totalht2=ht2+totalht2;\r\n      console.log(\"totalprice2\",totalprice2)\r\n     }\r\n     else if(item.tva==20){\r\n      v3=v3+(item.quantity);\r\n      qqt3=(item.quantity)\r\n      vp3=(item.price);\r\n      vs3=+(qqt3*(item.price));\r\n      totalprice3=totalprice3+vs3;\r\n      ht3=qqt3*(vp3/(1+(20/100)));\r\n      totalht3=ht3+totalht3;\r\n      console.log(\"totalprice3\",totalprice3)\r\n     }\r\n       else if (item.tva==5.5) {\r\n        v1=v1+(item.quantity);\r\n      qqt1=(item.quantity)\r\n      vp1=(item.price);\r\n      vs1=+(qqt1*(item.price));\r\n      totalprice1=totalprice1+vs1;\r\n      ht1=qqt1*(vp1/(1+(5.5/100)));\r\n      totalht1=ht1+totalht1;\r\n      console.log(\"totalprice1\",totalprice1)\r\n       }\r\n      \r\n      \r\n      \r\n       \r\n      var tva5= {\r\n        \"name\": \"5.5\",\r\n        \"count\":v1,\r\n        \"amount\":totalht1.toFixed(2)\r\n      };\r\n      var tva10= {\r\n        \"name\": \"10\",\r\n        \"count\":v2,\r\n        \"amount\":totalht2.toFixed(2)\r\n      \r\n      };\r\n      var tva20= {\r\n        \"name\": \"20\",\r\n        \"count\":v3,\r\n        \"amount\":totalht3.toFixed(2)\r\n      };\r\n      tvass[0] = tva5;\r\n      tvass[1] = tva10;\r\n      tvass[2] = tva20;\r\n      console.log(tvass)\r\n   });\r\n  // var tvasum = 0;\r\n let calcul,va1,vas1;\r\n let tanul=[]\r\n// \r\ncalcul=0\r\nva1=0\r\nvas1=0\r\nannuleshistory?.map((e)=>{\r\n  va1=+va1\r\n  vas1=e.price\r\ntotalprice1=totalprice1+vas1;\r\nvar ta1= {\r\n  \"name\": \"Les commandes anuules : \",\r\n  \"count\":va1,\r\n  \"totaltcc\":totalprice1,\r\n};\r\ntanul[0] = ta1;\r\n})\r\n\r\n\r\n  // let tvas = _.groupBy(recap.today?.orderItems, function (b) {\r\n  //   return b.tva_perc;\r\n  // });\r\n  // console.log(recap.today?.orderItems);\r\n  // Object.keys(tvas).forEach(\r\n  //   (key) => (tvas[key] = tvas[key].reduce((acc, curr) => acc + curr.tva, 0))\r\n  // );\r\n  // console.log(tvas);\r\n  // const renderHTML = (rawHTML: string) =>\r\n  //   React.createElement(\"div\", {\r\n  //     dangerouslySetInnerHTML: { __html: rawHTML },\r\n  //   });\r\n  return (\r\n    <div className=\"ticketz\">\r\n      <div className=\"z-head\">\r\n        <h3>{recap?.Restaurant?.name}</h3>\r\n        <h1>Ticket Z</h1>\r\n        <p>{recap?.Restaurant?.address}</p>\r\n        <p>Tel : {recap?.Restaurant?.telephone}</p>\r\n      </div>\r\n      <div className=\"z-body\">\r\n        <p>---------------------------------</p>\r\n        <div className=\"b_el\" style={{marginRight:\"20px\"}}>\r\n          <p>\r\n            <b>Impression :</b>\r\n          </p>\r\n          <p>{selectedDate + \" \" + nowTime}</p>\r\n        </div>\r\n        <div className=\"b_el\" style={{marginRight:\"20px\"}}>\r\n          <p>\r\n            <b>Ouverture :</b>\r\n          </p>\r\n          <p>{ouverture}</p>\r\n        </div>\r\n        <div className=\"b_el\" style={{marginRight:\"20px\"}}>\r\n          <p>\r\n            <b>Fermeture :</b>\r\n          </p>\r\n          <p>{selectedDate + \" \" + nowTime}</p>\r\n        </div>\r\n        <p>---------------------------------</p>\r\n        <h6>\r\n          <b>Commandes :</b> {recap?.today?.nbr}\r\n        </h6>\r\n        <h6>\r\n          <b>Clients :</b> {Object.keys(recap?.today?.clientGroups || {}).length}\r\n        </h6>\r\n        <h6>\r\n          <b>Ticket moyen :</b>{\" \"}\r\n          {Number(\r\n            (\r\n              (recap?.today?.total) /\r\n              recap?.today?.nbr\r\n            ).toFixed(2)\r\n          ) || 0}\r\n          \r\n          {/*  */}\r\n        </h6>\r\n        <h6>\r\n        <b>Annules :</b>{\" \"}\r\n        {annuleshistory?.map((e) => e).length}\r\n        </h6>\r\n        {tanul.map((item) => (\r\n  <>\r\n\r\n<div>\r\n                      \r\n    <li>   {item.name} {item.totaltcc} </li>\r\n    </div>\r\n    </>\r\n        ))}\r\n      {/* annulation */}\r\n          {/* {toShowOrder.orderItems &&\r\n            toShowOrder.orderItems.map((item, key) => (\r\n              <>\r\n                <div className=\"ticket_item\">\r\n                  <p>{key + 1 + \"-\" + item?.name}</p>\r\n                  <div\r\n                    style={{\r\n                      display: \"flex\",\r\n                      width: \"30%\",\r\n                      justifyContent: \"space-evenly\",\r\n                    }}\r\n                  >\r\n                    <p>\r\n                      {item?.qt == undefined ? item.quantity : item.qt + \"x\"}\r\n                    </p>\r\n                    <p>\r\n                      {`  ${item?.price.toFixed(2)} `}{\" \"}\r\n                      {renderHTML(`<i>${currency}</i>`)}\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n                {item?.stepItems && Object.keys(item.stepItems).length ? (\r\n                  <div\r\n                    style={{\r\n                      display: \"flex\",\r\n                      flexDirection: \"column\",\r\n                    }}\r\n                    className=\"step_item\"\r\n                  >\r\n                    {Object.keys(item.stepItems).map((key) =>\r\n                      item.stepItems[key].map((el) => (\r\n                        <span style={{ textAlign: \"start\", color: \"grey\" }}>\r\n                          -{el.name}\r\n                        </span>\r\n                      ))\r\n                    )}\r\n                  </div>\r\n                ) :item?.steps != []? (\r\n                  <div\r\n                    style={{\r\n                      display: \"flex\",\r\n                      flexDirection: \"column\",\r\n                    }}\r\n                    className=\"step_item\"\r\n                  >\r\n                    {\r\n                      item.steps?.map((el) => (\r\n                        <span style={{ textAlign: \"start\", color: \"grey\" }}>\r\n                          -{el.name}\r\n                        </span>\r\n                      ))\r\n                    }\r\n                  </div>\r\n                ): (\r\n                  \"\"\r\n                )}\r\n                {item?.extras != []\r\n                  ? item?.extras?.map((extra) =>\r\n                      extra.default_quantity > 0 ? (\r\n                        <div className=\"ticket_extra\">\r\n                          <p>+ {extra.title}</p>\r\n                          <div\r\n                            style={{\r\n                              display: \"flex\",\r\n                              width: \"30%\",\r\n                              justifyContent: \"space-evenly\",\r\n                            }}\r\n                          >\r\n                            {\" \"}\r\n                            <p>{extra.default_quantity + \"x\"}</p>\r\n                            <p>\r\n                              {`  ${extra.price.toFixed(2)} `}\r\n                              {renderHTML(`<i>${currency}</i>`)}\r\n                            </p>\r\n                          </div>\r\n                        </div>\r\n                      ) : (\r\n                        \"\"\r\n                      )\r\n                    )\r\n                  : \"\"}\r\n              </>\r\n            ))} */}\r\n        \r\n        <p>---------------------------------</p>\r\n        {products?.map((item) => (\r\n          <div className=\"b_el\" style={{marginRight:\"20px\"}}>\r\n            <p>\r\n              <b>{item.quantity + \" X \" + item.name}</b>\r\n            </p>\r\n            <p>{item.totalPrice.toFixed(2)}</p>\r\n          </div>\r\n        ))\r\n        }\r\n \r\n\r\n        <p>---------------------------------</p>\r\n        {Object.keys(recap.today?.groups || {}).map((key) => (\r\n          <div className=\"b_el\" style={{marginRight:\"20px\"}}>\r\n            <p>\r\n              <b>{recap.today?.groups[key].length} X </b>\r\n              <b>{key == 1 ? \"Carte Bancaire\" : key == 2 ? \"Espces\" : key}</b>\r\n            </p>\r\n            <p>\r\n              {recap.today?.groups[key]\r\n                .reduce(\r\n                  (acc, curr) =>\r\n                    acc + (curr.price + (curr.price * curr.tva) / 100),\r\n                  0\r\n                )\r\n                .toFixed(2) + \"\"}\r\n            </p>\r\n          </div>\r\n        ))}\r\n        <p>---------------------------------</p>\r\n        {/* {Object.keys(tvas || {}).map((key) => {\r\n          // tvasum = tvasum + tvas[key];\r\n          return (\r\n            <div className=\"b_el\">\r\n              <p>\r\n                <b>TVA({Number(key).toFixed(2)}%)</b>\r\n              </p>\r\n              <p>{tvas[key].toFixed(2)}</p>\r\n            </div>\r\n          );\r\n        })} */}\r\n        {tvass.map((item) => (\r\n  <div className=\"tva\" style={{display:\"flex\",justifyContent: \"space-between\", marginRight:\"20px\"}}>\r\n    <p>TVA({item.name})% :</p>\r\n    <p>{item.count}</p>\r\n    <p>Total HT : {item.amount}</p>\r\n  </div>\r\n )\r\n )}\r\n        {/* <div className=\"b_el\">\r\n          <p>\r\n            <b>Total HT</b>\r\n          </p>\r\n          <p>{(recap.today?.total-tvasum).toFixed(2)}</p>\r\n        </div> */}\r\n        <div className=\"b_el\" style={{marginRight:\"20px\"}}>\r\n          <p>\r\n            <b>Total TTC</b>\r\n          </p>\r\n          <p>{(recap.today?.total ).toFixed(2)}</p>\r\n        </div>\r\n        <p>---------------------------------</p>\r\n        <div className=\"b_el\" style={{marginRight:\"20px\"}}>\r\n          <p>\r\n            <b>Fond de caisse initial</b>\r\n          </p>\r\n          <p>{recap.lastOuverture?.montant.toFixed(2)}</p>\r\n        </div>\r\n        <div className=\"b_el\" style={{marginRight:\"20px\"}}>\r\n          <p>\r\n            <b>Fond de caisse final</b>\r\n          </p>\r\n          <p>\r\n            {(\r\n              recap.lastOuverture?.montant +\r\n              recap.today?.total \r\n             \r\n            ).toFixed(2)}\r\n            \r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TicketZ;\r\n","import React from \"react\";\r\nimport _ from \"lodash\";\r\n\r\nconst TicketH = ({ zHistory}) => {\r\n  \r\n \r\n  return (\r\n    <div className=\"ticketz\">\r\n      <div className=\"z-head\">\r\n        <h3>{zHistory.restaurant?.name}</h3>\r\n        <h1>Ticket Z</h1>\r\n        <p>{zHistory.restaurant?.address}</p>\r\n        <p>Tel : {zHistory.restaurant?.telephone}</p>\r\n      </div>\r\n      <div className=\"z-body\">\r\n        <p>---------------------------------</p>\r\n        <div className=\"b_el\">\r\n          <p>\r\n            <b>Impression :</b>\r\n          </p>\r\n          <p>{zHistory.impression}</p>\r\n        </div>\r\n        <div className=\"b_el\">\r\n          <p>\r\n            <b>Ouverture :</b>\r\n          </p>\r\n          <p>{zHistory.ouverture}</p>\r\n        </div>\r\n        <div className=\"b_el\">\r\n          <p>\r\n            <b>Fermeture :</b>\r\n          </p>\r\n          <p>{zHistory.fermeture}</p>\r\n        </div>\r\n        <p>---------------------------------</p>\r\n        <h6>\r\n          <b>Commandes :</b> {zHistory.commandes}\r\n        </h6>\r\n        <h6>\r\n          <b>Clients :</b> {zHistory.clients}\r\n        </h6>\r\n        <h6>\r\n          <b>Ticket moyen :</b>{\" \"}\r\n          {zHistory.ticket_moyen}\r\n         \r\n        </h6>\r\n        <h6>\r\n          <b>Annules :</b>{\" \"}\r\n          {zHistory.cancledOrders.length || 0}\r\n        </h6>\r\n        <p>---------------------------------</p>\r\n        {zHistory.products?.map((item) => (\r\n          <div className=\"b_el\">\r\n            <p>\r\n              <b>{item.quantity + \" X \" + item.name}</b>\r\n            </p>\r\n            <p>{item.totalPrice.toFixed(2)}</p>\r\n          </div>\r\n        ))}\r\n        <p>---------------------------------</p>\r\n        {Object.keys(zHistory.pay_method|| {}).map((key) => (\r\n          <div className=\"b_el\">\r\n            <p>\r\n            \r\n        {zHistory.pay_method[key]?.qt} {zHistory.pay_method[key]?.name} : {zHistory.pay_method[key]?.prix}\r\n            </p>\r\n            \r\n          </div>\r\n        ))}\r\n        <p>---------------------------------</p>\r\n        {Object.keys( zHistory.tvas || {}).map((key) => {\r\n          // tvasum = tvasum + tvas[key];\r\n          return (\r\n            <div className=\"b_el\">\r\n              <p>\r\n                <b>TVA({Number(key).toFixed(2)}%)</b>\r\n              </p>\r\n              <p>{zHistory.tvas[key].toFixed(2)}</p>\r\n            </div>\r\n          );\r\n        })}\r\n        <div className=\"b_el\">\r\n          <p>\r\n            <b>Total HT</b>\r\n          </p>\r\n          <p>{zHistory.ht}</p>\r\n        </div>\r\n        <div className=\"b_el\">\r\n          <p>\r\n            <b>Total TTC</b>\r\n          </p>\r\n          <p>{zHistory.ttc}</p>\r\n        </div>\r\n        <p>---------------------------------</p>\r\n        <div className=\"b_el\">\r\n          <p>\r\n            <b>Fond de caisse initial</b>\r\n          </p>\r\n          <p>{zHistory.fond_initial}</p>\r\n        </div>\r\n        <div className=\"b_el\">\r\n          <p>\r\n            <b>Fond de caisse final</b>\r\n          </p>\r\n          <p>\r\n            {zHistory.fond_final}\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TicketH;\r\n","import useTranslation from \"./../i18\";\r\nimport axios from \"axios\";\r\nimport Swal from \"sweetalert2\";\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport Dropdown from \"react-dropdown\";\r\nimport \"react-dropdown/style.css\";\r\nimport LinkIcon from '@mui/icons-material/Link';\r\nimport {\r\n  Button,\r\n  Col,\r\n  Container,\r\n  Modal,\r\n  Nav,\r\n  Navbar,\r\n  Row,\r\n} from \"react-bootstrap\";\r\nimport { useNavigate, useParams } from \"react-router\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport tableIcon from \"./../Shared/table.png\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport logo from \"./../Shared/logo.png\";\r\nimport { faHistory, faSignOutAlt } from \"@fortawesome/free-solid-svg-icons\";\r\nimport serveur from \"./../Shared/serveur.png\";\r\nimport NaviBottom from \"../Components/NaviBottom\";\r\nimport $ from \"jquery\";\r\nimport { clearData, clearOrders } from \"../Slices/order\";\r\nimport { DataGrid, GridRowsProp, GridColDef } from \"@mui/x-data-grid\";\r\nimport TicketZ from \"../Components/TicketZ\";\r\nimport AnimatedNumber from \"animated-number-react\";\r\nimport _ from \"lodash\";\r\nimport { storeCategories, storeNSteps, storeProducts } from \"../Slices/data\";\r\nimport loading from \"../Shared/loading.gif\";\r\nimport TicketH from \"../Components/TicketH\";\r\n\r\nconst Cloture = () => {\r\n  \r\n  const { t } = useTranslation();\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n  const user = localStorage.getItem(\"username\") || \"\";\r\n  const user_id = localStorage.getItem(\"user_id\") || \"\";\r\n  const username = localStorage.getItem(\"username\") || \"\";\r\n  const caisse_id = localStorage.getItem(\"caisse_id\");\r\n  const [copySuccess, setCopySuccess] = useState('');\r\n  const textAreaRef = useRef(null);\r\n  const copyToClipBoard = async copyMe => {\r\n    try {\r\n      await navigator.clipboard.writeText(copyMe);\r\n      setCopySuccess('Copied!');\r\n      Swal.fire({\r\n        position: \"center\",\r\n        icon: \"success\",\r\n        title: \"lien copie\",\r\n        showConfirmButton: false,\r\n        timer: 1500,\r\n      });\r\n    } catch (err) {\r\n      setCopySuccess('Failed to copy!');\r\n      Swal.fire({\r\n        position: \"center\",\r\n        icon: \"success\",\r\n        title: \"Error\",\r\n        showConfirmButton: false,\r\n        timer: 1500,\r\n      });\r\n    }\r\n  };\r\n  var curr = new Date();\r\n  var date = curr.toISOString().substr(0, 10);\r\n  const options = [date, \"two\", \"three\"];\r\n  const defaultOption = options[0];\r\n\r\n  const [selectedDate, setSelectedDate] = useState(date);\r\n  const initialValue = useSelector((state) => state.caisse.initialValue);\r\n  const products = useSelector((state) => state.data.products);\r\n  const checkoutData = useSelector((state) => state.order.checkoutData);\r\n  console.log(checkoutData)\r\n  let enCours =\r\n    checkoutData?.filter((e) => e.status == \"pending\" && e.date == date)\r\n      ?.length || 0;\r\n  const annules =checkoutData?.filter((e) => e.status == \"rejected\")\r\n  console.log(\"annules\",annules)\r\n  const orders = useSelector((state) => state.data.orderHistory) || [];\r\n  const completd = orders?.slice()?.sort((a, b) => b.id - a.id).filter((item) => item.paymentsInDb && item.paymentsInDb.length > 0)\r\n  const [finalValue, setFinalValue] = useState(initialValue);\r\n  const [recap, setrecap] = useState({});\r\n  console.log(\"recap\",recap);\r\n  const [ping, setping] = useState(false);\r\n  const [page, setpage] = useState(1);\r\n  const [data, setdata] = useState({});\r\n  const [zHistory, setzHistory] = useState({});\r\n  const [previewTicket, setPreviewTicket] = useState(false);\r\n  const [previewZ, setPreviewZ] = useState(false);\r\n  const [previewHistory, setPreviewHistory] = useState(false);\r\n  const [history, setHistory] = useState([])\r\n\r\n  let ouvDate = recap?.lastOuverture?.date.substr(0, 10);\r\n  let ouvTime = recap?.lastOuverture?.date.substr(11, 5);\r\n  let nowTime = curr.toISOString().substr(11, 5);\r\n  let ouverture = ouvDate + \"  \" + ouvTime;\r\n  const handleDisconnect = () => {\r\n    localStorage.removeItem(\"user\");\r\n    localStorage.removeItem(\"username\");\r\n    navigate(\"/\");\r\n  };\r\n\r\n  const handleCloseCaisse = () => {\r\n    let pay_method = [];\r\n    let orderTypes={\r\n      surPlace:0,\r\n      livraison:0,\r\n      emporter:0,\r\n      borne:0\r\n    }\r\n    completd.map(e=>{\r\n      if(e.order_type==\"sur place\"){\r\n        return orderTypes.surPlace +=1\r\n      }\r\n      if(e.order_type==\"emporter\"){\r\n        return orderTypes.livraison +=1\r\n      }\r\n      if(e.order_type==\"livraison\"){\r\n        return orderTypes.emporter +=1\r\n      }\r\n      if(e.from_kiosk==1){\r\n        return orderTypes.borne +=1\r\n      }\r\n          \r\n    })\r\n    for (const key in recap.today?.groups) {\r\n      let elementt = recap.today?.groups[key];\r\n      let sum = 0;\r\n\r\n      elementt?.forEach((ticket) => {\r\n        sum = sum + ticket.price + ((ticket.price * ticket.tva) / 100);\r\n      });\r\n      pay_method.push({ qt: elementt.length, name: key, prix: sum });\r\n    }\r\n  \r\n  //  let newTva ={\r\n  //   5.5 : 0,\r\n  //   10:  0,\r\n  //   20 :0\r\n  //  }\r\n  \r\n  //  for (const key in recap.today?.tvas) {\r\n  //   let E = recap.today?.tvas[key];\r\n  // for( let j in newTva){\r\n  //   if(j==key){\r\n  //    newTva[j]=E\r\n  //   }\r\n  // }\r\n  //  }\r\n    let PrintData = {\r\n      restaurant: {\r\n        name: recap.Restaurant.name,\r\n        address: recap.Restaurant.address,\r\n        telephone: recap.Restaurant.telephone,\r\n      },\r\n      cancledOrders:annules,\r\n      ordersType:orderTypes,\r\n      products: recap.today?.orderItems?.map((e) => ({\r\n        ...e,\r\n        totalPrice: e.price * e.quantity,\r\n        name: findProduct({ id: e.item_id }).name,\r\n      })),\r\n      impression: selectedDate + \" \" + nowTime,\r\n      ouverture: ouverture,\r\n      fermeture: selectedDate + \" \" + nowTime,\r\n      commandes: recap.today.nbr,\r\n      logs: recap.today.logs?.filter((e) => e.title_log == \"Annulation\"),\r\n      clients: Object.keys(recap.today?.clientGroups || {}).length,\r\n      ticket_moyen: (\r\n        (recap.today?.total + tvasum) /\r\n        recap.today?.nbr\r\n      ).toFixed(2),\r\n\r\n      pay_method: pay_method,\r\n      sometva: recap.today?.todaytva,\r\n      ht: recap.today?.total.toFixed(2),\r\n      ttc: (recap.today?.total+tvasum).toFixed(2),\r\n      fond_initial: recap.lastOuverture?.montant.toFixed(2),\r\n      fond_final:\r\n      (\r\n        recap.lastOuverture?.montant +\r\n        recap.today?.total +\r\n        tvasum \r\n      ).toFixed(2)\r\n    };\r\n    let historiquePrint = {\r\n      caisse_id: caisse_id,\r\n      date: Date.now(),\r\n      montant: finalValue,\r\n      type: \"close\",\r\n    };\r\n    if(enCours ==0)\r\n    {\r\n      axios\r\n      .post(\r\n     \"http://192.168.1.166:5000/api/CloseCaisse\",\r\n        {\r\n          user_id: user_id,\r\n          user: user,\r\n          montant: finalValue,\r\n          historiquePrint,\r\n        }\r\n      )\r\n      .then((res) => {\r\n        \r\n        localStorage.clear();\r\n        dispatch(clearData())\r\n        Swal.fire({\r\n          position: \"center\",\r\n          icon: \"success\",\r\n          title: \"Caisse ferme\",\r\n          showConfirmButton: false,\r\n          timer: 1500,\r\n        });\r\n        axios\r\n        .post(\r\n        \"http://192.168.1.166:5000/api/historiqueZcaisse\",\r\n          { PrintData, user_id }\r\n        )\r\n        .then((res) => console.log(res.data))\r\n        .catch((err) => console.log(err));\r\n        setTimeout(() => {\r\n          navigate(\"/init\");\r\n        }, 1500);\r\n      });\r\n    }\r\n    \r\n    else if(enCours==1){\r\n      Swal.fire({\r\n        position: \"center\",\r\n        icon: \"error\",\r\n        title: `Il ya ${enCours} commande en cours`,\r\n        showConfirmButton: false,\r\n        timer: 2500,\r\n      });\r\n    }\r\n    else{\r\n      Swal.fire({\r\n        position: \"center\",\r\n        icon: \"error\",\r\n        title: `Il ya ${enCours} commandes en cours`,\r\n        showConfirmButton: false,\r\n        timer: 2500,\r\n      });\r\n    }\r\n \r\n  };\r\n  let findProduct = ({ id }) => {\r\n    return products?.find((el) => el.id == id);\r\n  };\r\nuseEffect(() => {\r\n\r\n  axios\r\n        .post(\r\n         \"http://192.168.1.166:5000/api/getHistoriqueZcaisse\",\r\n          { user_id }\r\n        )\r\n        .then((res) => setHistory(res.data.allHistorique))\r\n        .catch((err) => console.log(err));\r\n}, [])\r\n\r\n  useEffect(async () => {\r\n \r\n    \r\n    await axios\r\n      .post(\r\n      \"http://192.168.1.166:5000/api/clotureData\",\r\n        { user_id, caisse_id, TODAY: selectedDate }\r\n      )\r\n      .then((res) => {\r\n     \r\n        setrecap(res.data);\r\n        var bodyFormData = new FormData();\r\n        bodyFormData.append(\"rest_id\", user_id);\r\n        bodyFormData.append(\"page\", page);\r\n        bodyFormData.append(\"date\", selectedDate);\r\n        axios({\r\n          method: \"post\",\r\n          url: \"http://141.94.77.9/menu_premium_v2/index.php/api/order/venteCaisse\",\r\n          data: bodyFormData,\r\n          headers: { \"Content-Type\": \"multipart/form-data\" },\r\n        })\r\n          .then(function (response) {\r\n            console.log(response.data.data.data);\r\n            setdata(response.data);\r\n            \r\n          })\r\n          .catch(function (response) {\r\n            //handle error\r\n            console.log(response);\r\n          });\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }, [ping]);\r\n  const columns = [\r\n    { field: \"id\", headerName: \"#\", width: 50 },\r\n    { field: \"col1\", headerName: \"Nom\", width: 180 },\r\n    { field: \"col2\", headerName: \"Quantits\", width: 150 },\r\n    { field: \"col3\", headerName: \"Prix\", width: 150 },\r\n    { field: \"col4\", headerName: \"Sous-Total\", width: 150 },\r\n  ];\r\n\r\n  let rows = recap.today?.orderItems?.map((e, key) => ({\r\n    id: key,\r\n    col1: findProduct({ id: e.item_id })?.name,\r\n    col2: e.quantity,\r\n    col3: e.price?.toFixed(2) + \"\",\r\n    col4: (e.price * e.quantity).toFixed(2) + \"\",\r\n  }));\r\n\r\n  \r\n  // const rows = [\r\n  //   { id: 1, col1: \"Hello\", col2: \"World\" },\r\n  //   { id: 2, col1: \"DataGridPro\", col2: \"is Awesome\" },\r\n  //   { id: 3, col1: \"MUI\", col2: \"is Amazing\" },\r\n  // ];\r\n  var tvasum = 0;\r\n  Object.keys(recap.today?.tvas || {}).map((key) => {\r\n    tvasum = tvasum + recap.today?.tvas[key];\r\n  });\r\n  \r\n  const handlePrint = () => {\r\n    \r\n    let pay_method = [];\r\n    let orderTypes={\r\n      surPlace:0,\r\n      livraison:0,\r\n      emporter:0,\r\n      borne:0\r\n    }\r\n    completd.map(e=>{\r\n      if(e.order_type==\"sur place\"){\r\n        return orderTypes.surPlace +=1\r\n      }\r\n      if(e.order_type==\"emporter\"){\r\n        return orderTypes.livraison +=1\r\n      }\r\n      if(e.order_type==\"livraison\"){\r\n        return orderTypes.emporter +=1\r\n      }\r\n      if(e.from_kiosk==1){\r\n        return orderTypes.borne +=1\r\n      }\r\n        \r\n      \r\n    })\r\n   \r\n    for (const key in recap.today?.groups) {\r\n      let elementt = recap.today?.groups[key];\r\n     \r\n      let sum = 0;\r\n      elementt?.forEach((ticket) => {\r\n        sum = sum + ticket.price + (ticket.price * ticket.tva) / 100;\r\n      });\r\n      pay_method.push({ qt: elementt.length, name: key, prix: sum });   \r\n    }\r\n\r\n\r\n   let newTva ={\r\n    5.5 : 0,\r\n    10:  0,\r\n    20 :0\r\n   }\r\n   \r\n   for (const key in recap.today?.tvas) {\r\n\r\n    let E = recap.today?.tvas[key];\r\n  for( let j in newTva){\r\n    if(j==key){\r\n     newTva[j]=E\r\n    }\r\n  }\r\n    \r\n    \r\n   }\r\n   \r\n    let PrintData = {\r\n      restaurant: {\r\n        name: recap.Restaurant.name,\r\n        address: recap.Restaurant.address,\r\n        telephone: recap.Restaurant.telephone,\r\n      },\r\n      cancledOrders:annules,\r\n      ordersType:orderTypes,\r\n      products: recap.today?.orderItems?.map((e) => ({\r\n        ...e,\r\n        totalPrice: e.price * e.quantity,\r\n        name: findProduct({ id: e.item_id }).name,\r\n      })),\r\n      impression: selectedDate + \" \" + nowTime,\r\n      ouverture: ouverture,\r\n      fermeture: selectedDate + \" \" + nowTime,\r\n      commandes: recap.today.nbr,\r\n      logs: recap.today.logs?.filter((e) => e.title_log == \"Annulation\"),\r\n      clients: Object.keys(recap.today?.clientGroups || {}).length,\r\n      ticket_moyen: (\r\n        (recap.today?.total + tvasum) /\r\n        recap.today?.nbr\r\n      ).toFixed(2),\r\n\r\n      pay_method: pay_method,\r\n      sometva: recap.today?.todaytva,\r\n      ht: recap.today?.total.toFixed(2),\r\n      ttc: (recap.today?.total+tvasum).toFixed(2),\r\n      fond_initial: recap.lastOuverture?.montant.toFixed(2),\r\n      fond_final:\r\n      (\r\n        recap.lastOuverture?.montant +\r\n        recap.today?.total \r\n        +tvasum \r\n      ).toFixed(2)\r\n    };\r\n   \r\n    axios\r\n      .post(\r\n    \"http://192.168.1.166:5000/api/printzcaisse\",\r\n        { PrintData, user_id }\r\n      )\r\n      .then((res) => console.log(res.data))\r\n      .catch((err) => console.log(err));\r\n    \r\n  };\r\n  const showZcaisse =(data)=>{\r\n    setPreviewZ(true);\r\n    setzHistory(data)\r\n    console.log(data)\r\n  }\r\n  const handlePrintHistory=(PrintData)=>{\r\n    axios\r\n      .post(\r\n     \"http://192.168.1.166:5000/api/printzcaisse\",\r\n        { PrintData, user_id }\r\n      )\r\n      .then((res) => console.log(res.data))\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Navbar\r\n       \r\n        variant=\"warning\"\r\n        className=\"colture_nav\"\r\n      >\r\n        <Container className=\"colture_navbar\">\r\n          <Navbar.Brand>\r\n            <div class=\"logo-container\">\r\n              <img id=\"chrome\" class=\"logo\" src={logo} />\r\n            </div>\r\n          </Navbar.Brand>\r\n        <h6 className=\"zcaisse_history\" onClick={()=>setPreviewHistory(true)}>\r\n        <FontAwesomeIcon\r\n             \r\n              size=\"1x\"\r\n              icon={faHistory}\r\n              style={{ marginRight: \"0.5rem\"}}\r\n            />\r\n          Historique\r\n        </h6>\r\n          <Nav className=\"ms-auto\">\r\n            {/* <Dropdown\r\n              options={options}\r\n              value={defaultOption}\r\n              placeholder=\"Select an option\"\r\n            /> */}\r\n            <Nav.Link> </Nav.Link>\r\n            <Nav.Link\r\n              onClick={() => {\r\n                navigate(\"/main\");\r\n                dispatch(clearOrders());\r\n              }}\r\n            >\r\n              <img\r\n                width=\"45px\"\r\n                src={tableIcon}\r\n                className=\"colture-table-icon\"\r\n              />\r\n            </Nav.Link>\r\n          </Nav>\r\n          <h6\r\n            className=\"cloture-server\"\r\n            style={{\r\n              color: \"white\",\r\n              marginLeft: \"1rem\",\r\n              marginTop: \"0.5rem\",\r\n              borderLeft: \"1px solid white\",\r\n              padding: \"5px\",\r\n            }}\r\n          >\r\n            <img\r\n              className=\"cloture_server_img\"\r\n              src={serveur}\r\n              width={32}\r\n              height={32}\r\n              style={{ marginRight: \"0.5rem\" }}\r\n            />\r\n            <b>{username}</b>\r\n            <FontAwesomeIcon\r\n              onClick={() => handleDisconnect()}\r\n              size=\"2x\"\r\n              icon={faSignOutAlt}\r\n              style={{ marginLeft: \"0.5rem\", paddingTop: \"0.5rem\" }}\r\n            />\r\n          </h6>\r\n        </Container>\r\n      </Navbar>\r\n      {recap.today ? (\r\n        <div\r\n          style={{\r\n            padding: \"1rem\",\r\n            display: \"flex\",\r\n            width: \"100%\",\r\n            height: \"93vh\",\r\n            overflow: \"hidden\",\r\n            paddingTop: \"1rem\",\r\n            backgroundColor: \"white\",\r\n          }}\r\n        >\r\n          <div style={{ width: \"30%\", height: \"100vh\" }}>\r\n            {/* <h6>{t(\"closureHistory\")}</h6>\r\n          <p>{t(\"selectDate\")}</p>\r\n          <input\r\n            type=\"date\"\r\n            defaultValue={date}\r\n            onChange={(e) => {\r\n              setSelectedDate(e.target.value);\r\n              setping(!ping);\r\n            }}\r\n          /> */}\r\n\r\n            <TicketZ\r\n           \r\n              tvas={recap.today?.todaytva}\r\n              products={recap.today?.orderItems?.map((e) => ({\r\n                ...e,\r\n                totalPrice: e.price * e.quantity,\r\n                name: findProduct({ id: e.item_id })?.name,\r\n              }))}\r\n              data={data}\r\n              recap={recap}\r\n              selectedDate={selectedDate}\r\n              tvasum ={tvasum}\r\n            />\r\n          </div>\r\n          <div\r\n            style={{\r\n              width: \"70%\",\r\n              height: \"100vh\",\r\n            }}\r\n          >\r\n            <div className=\"stats\"\r\n              style={{\r\n                width: \"100%\",\r\n                display: \"flex\",\r\n                justifyContent: \"space-around\",\r\n              }}\r\n            >\r\n              <div className=\"rec\">\r\n                <h1>\r\n                  <b>\r\n                    <AnimatedNumber\r\n                      value={recap.commandesTotal}\r\n                      formatValue={(value) => value.toFixed(0)}\r\n                    />\r\n                  </b>\r\n                </h1>\r\n                <h5>Total des commandes</h5>\r\n              </div>\r\n              <div className=\"rec\">\r\n                <h1>\r\n                  <b>\r\n                    <AnimatedNumber\r\n                      value={recap.today?.clients}\r\n                      formatValue={(value) => value.toFixed(0)}\r\n                    />\r\n                  </b>\r\n                </h1>\r\n                <h5>Clients total</h5>\r\n              </div>\r\n              <div className=\"rec\">\r\n                <h1>\r\n                  <b>\r\n                    <AnimatedNumber\r\n                      value={recap.chiffre}\r\n                      formatValue={(value) => value.toFixed(2)}\r\n                    />{\" \"}\r\n                    <br />\r\n                  </b>\r\n                </h1>\r\n                <h5>Chiffre d'affaire</h5>\r\n              </div>\r\n              <div className=\"rec\">\r\n                <h1>\r\n                  <b>\r\n                    <AnimatedNumber\r\n                      value={recap.chiffre / recap.commandesTotal}\r\n                      formatValue={(value) => value.toFixed(2)}\r\n                    />\r\n                    <br />\r\n                  </b>\r\n                </h1>\r\n                <h5>Panier moyen</h5>\r\n              </div>\r\n            </div>\r\n            <div style={{ width: \"100%\", height: \"300px\", marginTop: \"1rem\" }}>\r\n              <DataGrid\r\n                className=\"colture-datagrid\"\r\n                loading={rows?.length == 0}\r\n                pageSize={10}\r\n                paginationMode=\"client\"\r\n                onPageChange={(e) => {\r\n                  setpage(e + 1);\r\n                }}\r\n                rowCount={data?.data?.total}\r\n                rows={rows == undefined ? [] : rows}\r\n                columns={columns}\r\n              />\r\n              <div className=\"colture_buttons\">\r\n                <div\r\n                  style={{\r\n                    width: \"100%\",\r\n                    marginTop: \"1rem\",\r\n                    display: \"flex\",\r\n                    justifyContent: \"center\",\r\n                  }}\r\n                >\r\n                  <Button\r\n                    className=\"colture_buton\"\r\n                    onClick={() => handlePrint()}\r\n                    style={{ marginRight: \"1rem\" }}\r\n                    variant=\"outline-info\"\r\n                  >{`${t(\"print\")} X ${t(\"ofCashier\")}`}</Button>\r\n                  <Button\r\n                    className=\"colture_buton\"\r\n                    variant=\"outline-danger\"\r\n                    onClick={() => setPreviewTicket(!previewTicket)}\r\n                  >\r\n                    Visualiser Ticket\r\n                  </Button>\r\n                </div>\r\n\r\n                <div\r\n                  style={{\r\n                    display: \"flex\",\r\n                    justifyContent: \"center\",\r\n                    alignItems: \"center\",\r\n                    marginTop: \"1rem\",\r\n                    height: \"100px\",\r\n                  }}\r\n                >\r\n                  <h3\r\n                    style={{\r\n                      color: \"#ff6b6b\",\r\n                      fontWeight: \"bold\",\r\n                      marginRight: \"1rem\",\r\n                      width: \"max-content\",\r\n                    }}\r\n                  >\r\n                    {(\r\n                      recap.lastOuverture?.montant\r\n                       +recap.today?.total \r\n                      //  + tvasum\r\n                    ).toFixed(2) + \" \"}\r\n                  </h3>\r\n                  <Button\r\n                    variant=\"danger\"\r\n                    className=\"clot_btn \"\r\n                    onClick={() => handleCloseCaisse()}\r\n                  >\r\n                    {t(\"close\")}\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <div className=\"loading-z-caisse\">\r\n          <h1>Chargement de caisse...</h1>\r\n          <img src={loading} alt=\"loading\" />\r\n        </div>\r\n      )}\r\n\r\n      <Modal show={previewTicket} onHide={() => setPreviewTicket(false)}>\r\n        <Modal.Header closeButton></Modal.Header>;\r\n        <Modal.Body>\r\n          <div className=\"z-cais_show_ticket\">\r\n            <TicketZ\r\n              products={recap.today?.orderItems?.map((e) => ({\r\n                ...e,\r\n                totalPrice: e.price * e.quantity,\r\n                name: findProduct({ id: e.item_id })?.name,\r\n              }))}\r\n              data={data}\r\n              recap={recap}\r\n              selectedDate={selectedDate}\r\n              tvasum ={tvasum}\r\n            />\r\n          </div>\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"secondary\" onClick={() => setPreviewTicket(false)}>\r\n            Fermer\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n      <Modal show={previewHistory} onHide={() => setPreviewHistory(false)}>\r\n        <Modal.Header closeButton>\r\n          <h4>Historique Z-Caisse</h4>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <div className=\"z-cais_history\">\r\n            {history.length==0? \"Il n'y a pas d'historique encore ... \":  history.map((el,key)=>(\r\n              <div key={key} className='z-history'>\r\n                <h6> Du {el.data.ouverture}  au {el.data.fermeture}</h6>\r\n                <div>\r\n                <Button variant=\"info\" onClick={() => handlePrintHistory(el.data)}>\r\n            Imprimer\r\n          </Button>\r\n          <Button variant=\"success\" onClick={() => showZcaisse(el.data)} style={{marginLeft:\"1rem\"}} >\r\n            Afficher\r\n          </Button>\r\n         \r\n                </div>\r\n        \r\n\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <div>\r\n          <Button variant=\"success\" onClick={() => navigate('/data/zcaisse')} >\r\n           Zcaisse\r\n          </Button>         \r\n          </div>\r\n        \r\n          <Button variant=\"secondary\" onClick={() => setPreviewHistory(false)}>\r\n            Fermer\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n      <Modal show={previewZ} onHide={() => setPreviewZ(false)}>\r\n        <Modal.Header closeButton></Modal.Header>;\r\n        <Modal.Body>\r\n          <div className=\"z-cais_show_ticket\">\r\n            <TicketH zHistory={zHistory} />\r\n          </div>\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"secondary\" onClick={() => setPreviewZ(false)}>\r\n            Fermer\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Cloture;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport mimic from \"./../mimic.json\";\r\nimport \"./testStyle.css\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport { useSelector } from \"react-redux\";\r\nconst Test = () => {\r\n  const dataLocal = useSelector((state) => state.data);\r\n\r\n  const [data, setData] = useState({\r\n    products: dataLocal.products,\r\n    categories: dataLocal.categories,\r\n    nsteps: dataLocal.nSteps,\r\n  });\r\n\r\n  console.log(data);\r\n\r\n  const [selectedCategory, setSelectedCategory] = useState(0);\r\n  const [selectedProduct, setselectedProduct] = useState(0);\r\n  const [step, setStep] = useState(0);\r\n\r\n  const handleAddChoice = () => {};\r\n\r\n  const findProductWithId = (id) => {\r\n    return data.products.find((prod) => prod.id == id) || {};\r\n  };\r\n\r\n  useEffect(() => {\r\n    console.log(\"cat\", selectedCategory);\r\n    console.log(\"prod\", selectedProduct);\r\n    console.log(\"step\", step);\r\n    console.log(\r\n      data.nsteps.filter((nstep) => nstep.product_id == selectedProduct)[0]\r\n    );\r\n  }, [selectedProduct, selectedCategory, step]);\r\n\r\n  return (\r\n    <div className=\"all\">\r\n      <div className=\"cats\">\r\n        {data.categories\r\n          .filter((cat) => cat.id == 746)\r\n          .map((cat) => (\r\n            <div\r\n              className=\"cat\"\r\n              onClick={() => {\r\n                setSelectedCategory(cat.id);\r\n                setStep(0);\r\n              }}\r\n            >\r\n              <img src={cat.picture} alt=\"\" height=\"70px\" height=\"70px\" />\r\n              <h6>{cat.name}</h6>\r\n            </div>\r\n          ))}\r\n      </div>\r\n      <div className=\"prods\">\r\n        {step == 0\r\n          ? data.products\r\n              .filter((prods) => prods.cat_id == selectedCategory)\r\n              .map((prod) => (\r\n                <div\r\n                  className=\"prod\"\r\n                  onClick={() => {\r\n                    setselectedProduct(prod.id);\r\n                    if (prod.nsteps > step) {\r\n                      setStep(step + 1);\r\n                    }\r\n                  }}\r\n                >\r\n                  <img src={prod.image} alt=\"\" height=\"70px\" height=\"70px\" />\r\n                  <h6>\r\n                    {prod.name} <span>- {prod.price} $</span>{\" \"}\r\n                  </h6>\r\n                  <p>{prod.description}</p>\r\n                </div>\r\n              ))\r\n          : data.nsteps\r\n              .filter((nstep) => nstep.menu_id == selectedProduct)[0]\r\n              [step].choice.map((slot) => (\r\n                <div className=\"prod\">\r\n                  <img\r\n                    src={findProductWithId(slot).image}\r\n                    alt=\"\"\r\n                    height=\"70px\"\r\n                    height=\"70px\"\r\n                  />\r\n                  <h6>\r\n                    {findProductWithId(slot).name}{\" \"}\r\n                    <span>- {findProductWithId(slot).price} $</span>{\" \"}\r\n                  </h6>\r\n                  <p>{findProductWithId(slot).description}</p>\r\n                </div>\r\n              ))}\r\n        {findProductWithId(selectedProduct).nsteps >= step && step > 0 ? (\r\n          <Button onClick={() => setStep(step - 1)}>retour</Button>\r\n        ) : (\r\n          \"\"\r\n        )}\r\n        {findProductWithId(selectedProduct).nsteps > step && step > 0 ? (\r\n          <Button\r\n            onClick={() => {\r\n              console.log(findProductWithId(selectedProduct));\r\n              if (findProductWithId(selectedProduct).nsteps > step) {\r\n                setStep(step + 1);\r\n              }\r\n            }}\r\n          >\r\n            suivant\r\n          </Button>\r\n        ) : (\r\n          \"\"\r\n        )}\r\n        {findProductWithId(selectedProduct).nsteps == step ? (\r\n          <Button>finir</Button>\r\n        ) : (\r\n          \"\"\r\n        )}\r\n      </div>\r\n      <div className=\"cart\"></div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Test;\r\n","import axios from \"axios\";\r\nimport { wrap } from \"lodash\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { Container } from \"react-bootstrap\";\r\nimport QRCode from \"react-qr-code\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { useParams } from \"react-router\";\r\nimport aprc from \"./../Shared/aprc.png\";\r\n\r\nconst Ticket = ({ order, thisDate, ping }) => {\r\n  const address = localStorage.getItem(\"address\");\r\n  const user_id = localStorage.getItem(\"user_id\");\r\n  let tvasst =[];\r\n  const params = useParams();\r\n  const { table_id } = params;\r\n  const telephone = localStorage.getItem(\"telephone\");\r\n  const [toShowOrder, settoShowOrder] = useState(order);\r\n  console.log(\"toShowOrder\",toShowOrder)\r\n  const currency = localStorage.getItem(\"currency\");\r\n  const [isBusy, setIsBusy] = useState(true);\r\n  const [restaurant, setrestaurant] = useState({});\r\n  // let toShowOrder = ordersData.filter((o) => o.order_id == table_id)[0] || {};\r\n\r\n  // useEffect(() => {\r\n  //   if (toShowOrder?.orderItems && toShowOrder?.orderItems.length) {\r\n  //     setIsBusy(false);\r\n  //     console.log(toShowOrder?.orderItems);\r\n  //   }\r\n  // }, [toShowOrder]);\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .post(\"http://192.168.1.166:5000/api/getRestaurantData\", { user_id })\r\n      .then((res) => {\r\n       \r\n        setrestaurant(res.data);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }, [toShowOrder]);\r\n\r\n  useEffect(() => {\r\n    settoShowOrder(order);\r\n  }, [order]);\r\n  \r\n  var groupBy = function (xs, key) {\r\n    return xs.reduce(function (rv, x) {\r\n      (rv[x[key]] = rv[x[key]] || []).push(x.value);\r\n      return rv;\r\n    }, {});\r\n  };\r\n\r\n  let tvass = groupBy(toShowOrder?.tvas || [], \"perc\");\r\n  const calcOrder = (order) => {\r\n    let price = order.price;\r\n    let tva = order.tva;\r\n    if (order.extras && order.extras.length) {\r\n    \r\n      order.extras.map((extra) => {\r\n     \r\n        price += extra.price * extra.default_quantity;\r\n      });\r\n    }\r\n    // if (order.stepItems && order.stepItems != {}) {\r\n    //   Object.keys(order.stepItems).map((e) => {\r\n    //     order.stepItems[e].map((item) => {\r\n    //       price += item.price;\r\n         \r\n    //     });\r\n    //   });\r\n    // }\r\n    return { price: price * order.qt, tva: (price * order.qt * tva) / 100 };\r\n  };\r\n\r\n  let tva = 0;\r\n  console.log(tva)\r\n  let is_alcool = false;\r\n  let is_conserved=false;\r\n  let test = order.orderItems;\r\n  order.orderItems?.forEach((element) => {\r\n    if (element.is_alcool == true) {\r\n      is_alcool = true;\r\n    } else if (element.is_conserved == true)\r\n     {\r\n      is_conserved = true;\r\n    }\r\n  });\r\n\r\n  if (is_alcool == true) {\r\n    tva = 20;}\r\n    else if (is_conserved==true){\r\n      tva=5.5;\r\n    }\r\n    else {tva=10}\r\n    console.log(tva)\r\n  // } else {\r\n  //   let is = order.orderType == undefined ? order.order_type : order.orderType;\r\n  //   switch (is) {\r\n  //     case \"sur place\":\r\n  //       tva = 10;\r\n  //       break;\r\n  //     case \"emporter\":\r\n  //       tva = 5.5;\r\n  //       break;\r\n  //     case \"livraison\":\r\n  //       tva = 5.5;\r\n  //       break;\r\n  //     default:\r\n  //       tva = 10;\r\n  //       break;\r\n  //   }\r\n  // }\r\n  // let tax = (toShowOrder.taxPrice * calcTotal(toShowOrder?.orderItems)) / 100;\r\n  let v3,v1,v2,vs1,vs2,vs3,ht1,ht2,ht3,totaltva,totalht3,qqt3,vp3,totalprice3,totalht1,qqt1,vp1,totalprice1,totalht2,qqt2,vp2,totalprice2;\r\n   v2=0;\r\n   v1=0;\r\n   v3=0;\r\n   vs1=0;\r\n   vs2=0;\r\n   vs3=0;\r\n   totalht3=0;\r\n  totalprice3=0;\r\n  qqt3=0;\r\n  vp3=0;\r\n  totalht1=0;\r\n  totalprice1=0;\r\n  qqt1=0;\r\n  vp1=0;\r\n\r\n  totalht2=0;\r\n  totalprice2=0;\r\n  qqt2=0;\r\n  vp2=0;\r\n  order?.orderItems?.map((item) => {\r\n    if (item.is_alcool==true) {\r\n    //  item.tva=20;\r\n      // v3=v3+item.qt;\r\n      // vs3=vs3+(item.price);\r\n      v3=v3+(item.qt);\r\n      qqt3=(item.qt)\r\n      vp3=(item.price);\r\n      vs3=+(qqt3*(item.price));\r\n      totalprice3=totalprice3+vs3;\r\n      ht3=qqt3*(vp3/(1+(20/100)));\r\n      totalht3=ht3+totalht3;\r\n     }\r\n     else if(item.is_conserved==true){\r\n      // item.tva=5.5;\r\n      v1=v1+(item.qt);\r\n      qqt1=(item.qt)\r\n      vp1=(item.price);\r\n      vs1=+(qqt1*(item.price));\r\n      totalprice1=totalprice1+vs1;\r\n      ht1=qqt1*(vp1/(1+(5.5/100)));\r\n      totalht1=ht1+totalht1;\r\n      console.log(\"totalprice1\",totalprice1)\r\n     }\r\n \r\n       else if ((item.is_alcool==false) && (item.is_conserved==false)  ) {\r\n       \r\n        v2=v2+(item.qt);\r\n        qqt2=(item.qt)\r\n        vp2=(item.price);\r\n        vs2=+(qqt2*(item.price));\r\n        totalprice2=totalprice2+vs2;\r\n        ht2=qqt2*(vp2/(1+(10/100)));\r\n        totalht2=ht2+totalht2;\r\n        console.log(\"totalprice2\",totalprice2)\r\n       }\r\n \r\n     \r\n       totaltva=ht1+ht2+ht3;\r\n       console.log(\"ht\",ht3);\r\n      var tva5= {\r\n        \"name\": \"TVA 5.5\",\r\n        \"count\":v1,\r\n        \"totaltcc\":totalprice1,\r\n        \"amount\":totalht1.toFixed(2)\r\n      };\r\n      var tva10= {\r\n        \"name\": \"TVA 10%\",\r\n        \"count\":v2,\r\n        \"totaltcc\":totalprice2,\r\n        \"amount\":totalht2.toFixed(2)\r\n      };\r\n      var tva20= {\r\n        \"name\": \"TVA  20%\",\r\n        \"count\":v3,\r\n        \"totaltcc\":totalprice3,\r\n        \"amount\":totalht3.toFixed(2)\r\n      };\r\n      tvasst[0] = tva5;\r\n      tvasst[1] = tva10;\r\n      tvasst[2] = tva20;\r\n   });\r\n  const renderHTML = (rawHTML: string) =>\r\n    React.createElement(\"div\", {\r\n      dangerouslySetInnerHTML: { __html: rawHTML },\r\n    });\r\n  // useEffect(() => {\r\n  //   if (order.part > 1) {\r\n  //     let copy = JSON.parse(JSON.stringify(order) || {});\r\n  //     copy = { ...copy };\r\n  //     settoShowOrder(copy);\r\n  //   }\r\n  // }, [ping]);\r\n\r\n  return (\r\n    <Container fluid>\r\n      <div className=\"ticket\">\r\n        <div className=\"ticket_container\">\r\n          <h3 style={{ marginTop: \"0.5rem\" }}>\r\n            <b>Ticket d'encaissement</b>\r\n          </h3>\r\n          <p>\r\n            {restaurant.name} <br />\r\n            {address || \"\" + \"-\" + telephone || \"\"} <br />\r\n            tel: {restaurant.telephone}\r\n          </p>\r\n          <h1>\r\n            <b style={{ fontSize: \"56px\" }}>{toShowOrder?.order_id}</b>\r\n          </h1>\r\n          <div className=\"ticket_item\" style={{ flexWrap: \"wrap\" }}>\r\n            <p>Client :{toShowOrder.customer_name}</p>\r\n            <p>Type :{toShowOrder.orderType}</p>\r\n            <p>Numero :{toShowOrder.customer_tel}</p>\r\n            <p>Adresse:{toShowOrder.customer_adress}</p>\r\n          </div>\r\n          <span style={{ marginBottom: \"0.5rem\" }}>\r\n            -------------------------------------\r\n          </span>\r\n          {toShowOrder.orderItems &&\r\n            toShowOrder.orderItems.map((item, key) => (\r\n              <>\r\n                <div className=\"ticket_item\">\r\n                  <p>{key + 1 + \"-\" + item?.name}</p>\r\n                  {/* <p>TVA : {item?.tva} %</p> */}\r\n                  <div\r\n                    style={{\r\n                      display: \"flex\",\r\n                      width: \"50%\",\r\n                      justifyContent: \"space-evenly\",\r\n                    }}\r\n                  >\r\n                    <p>\r\n                      {item?.qt == undefined ? item.quantity : item.qt + \"x\"}\r\n                    </p>\r\n                    <p>\r\n                      {`  ${item?.price.toFixed(2)} `}{\" \"}\r\n                      {renderHTML(`<i>${currency}</i>`)}\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n                {item.stepItems && Object.keys(item.stepItems).length ? (\r\n                  <div\r\n                    style={{\r\n                      display: \"flex\",\r\n                      flexDirection: \"column\",\r\n                    }}\r\n                    className=\"step_item\"\r\n                  >\r\n                    {Object.keys(item.stepItems).map((key) =>\r\n                      item.stepItems[key].map((el) => (\r\n                        <span style={{ textAlign: \"start\", color: \"grey\" }}>\r\n                          -{el.name}\r\n                        </span>\r\n                      ))\r\n                    )}\r\n                  </div>\r\n                ) :item?.steps != []? (\r\n                  <div\r\n                    style={{\r\n                      display: \"flex\",\r\n                      flexDirection: \"column\",\r\n                    }}\r\n                    className=\"step_item\"\r\n                  >\r\n                    {\r\n                      item.steps?.map((el) => (\r\n                        <span style={{ textAlign: \"start\", color: \"grey\" }}>\r\n                          -{el.name}\r\n                        </span>\r\n                      ))\r\n                    }\r\n                  </div>\r\n                ): (\r\n                  \"\"\r\n                )}\r\n                {item?.extras != []\r\n                  ? item?.extras?.map((extra) =>\r\n                      extra.default_quantity > 0 ? (\r\n                        <div className=\"ticket_extra\">\r\n                          <p>+ {extra.title}</p>\r\n                          <div\r\n                            style={{\r\n                              display: \"flex\",\r\n                              width: \"30%\",\r\n                              justifyContent: \"space-evenly\",\r\n                            }}\r\n                          >\r\n                            {\" \"}\r\n                            <p>{extra.default_quantity + \"x\"}</p>\r\n                            <p>\r\n                              {`  ${extra.price.toFixed(2)} `}\r\n                              {renderHTML(`<i>${currency}</i>`)}\r\n                            </p>\r\n                          </div>\r\n                        </div>\r\n                      ) : (\r\n                        \"\"\r\n                      )\r\n                    )\r\n                  : \"\"}\r\n              </>\r\n            ))}\r\n          <span style={{ marginBottom: \"0.5rem\" }}>\r\n            -------------------------------------\r\n          </span>\r\n          {/* <div className=\"ticket_item ticket_last\">\r\n            <p>Total HT : </p>\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                width: \"20%\",\r\n                justifyContent: \"space-evenly\",\r\n              }}\r\n            >\r\n              <p>\r\n                {(toShowOrder?.totalPrice /(1+tva/100)).toFixed(2)} {renderHTML(`<i>${currency}</i>`)}\r\n              </p>\r\n            </div>\r\n          </div> */}\r\n          {/* {Object.keys(tvass).map((key) => (\r\n            <div className=\"ticket_item ticket_last\">\r\n              <p>TVA({key}%):</p>\r\n              <div\r\n                style={{\r\n                  display: \"flex\",\r\n                  width: \"20%\",\r\n                  justifyContent: \"space-evenly\",\r\n                }}\r\n              >\r\n                <p>\r\n                  {tvass[key].reduce((a, b) => a + b).toFixed(2)}{\" \"}\r\n                  {renderHTML(`<i>${currency}</i>`)}\r\n                </p>\r\n              </div>\r\n            </div>\r\n          ))} */}\r\n            {\r\n            (\r\n            (\r\n              <div className=\"ticket_item ticket_last\" style={{width:\"200px\"}} >\r\n                \r\n              {tvasst.map((item) => (\r\n  <>\r\n\r\n<div style={{\r\n                    display: \"flex\",\r\n                    flexDirection:\"column\",\r\n                    flexwrap: \"wrap\",\r\n                   width:\"100px\",\r\n                    marginTop:\"30px\",\r\n                  alignItems:\"center\",\r\n                  height:\"60px\"\r\n                }}\r\n                    >\r\n                      \r\n    <li style={{marginBottom:\"-5px\"}}>{item.name}</li>\r\n    <p style={{marginBottom:\"-5px\"}}>{item.count} </p>\r\n    <p style={{marginBottom:\"-5px\"}}>{item.amount}</p>\r\n    </div>\r\n  \r\n    </>\r\n )\r\n )}\r\n                \r\n                {/* <div\r\n                  style={{\r\n                    display: \"flex\",\r\n                    width: \"20%\",\r\n                    justifyContent: \"space-evenly\",\r\n                  }}\r\n                > */}\r\n                  {/* <p>\r\n                    {((toShowOrder?.totalPrice /(1+tva/100))*tva/100).toFixed(2)}\r\n                    {renderHTML(`<i>${currency}</i>`)}\r\n                  </p> */}\r\n                {/* </div> */}\r\n              </div>\r\n            ))\r\n          }\r\n          {/* <div className=\"ticket_item ticket_last\">\r\n            <p>\r\n              TVA({(toShowOrder?.taxPrice / toShowOrder?.totalPrice) * 100}%):\r\n            </p>\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                width: \"20%\",\r\n                justifyContent: \"space-evenly\",\r\n              }}\r\n            >\r\n              <p>\r\n                {toShowOrder?.taxPrice.toFixed(2)}{\" \"}\r\n                {renderHTML(`<i>${currency}</i>`)}\r\n              </p>\r\n            </div>\r\n          </div> */}\r\n          \r\n         <div style={{\r\n                \r\n                marginTop:\"20px\"}}> -------------------------------------</div>\r\n          <div className=\"ticket_item ticket_last\" style={{\r\n                \r\n                marginTop:\"20px\"}}>\r\n                 \r\n            <p>Total TTC : </p>\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                width: \"20%\",\r\n                justifyContent: \"space-evenly\",\r\n              }}\r\n            >\r\n              <p>\r\n                {\r\n                  toShowOrder?.totalPrice \r\n                }\r\n                {renderHTML(`<i>${currency}</i>`)}\r\n              </p>\r\n            </div>\r\n          </div>\r\n          {toShowOrder.paymentsInDb?.length > 0 && (\r\n            <>\r\n              <span style={{ marginBottom: \"0.5rem\" }}>\r\n                -------------------------------------\r\n              </span>\r\n              {toShowOrder.paymentsInDb?.map((one) => (\r\n                <div className=\"ticket_item ticket_last\">\r\n                  <p>Pay({one.pay_method})</p>\r\n                  <div\r\n                    style={{\r\n                      display: \"flex\",\r\n                      width: \"20%\",\r\n                      justifyContent: \"space-evenly\",\r\n                    }}\r\n                  >\r\n                    <p>\r\n                      {one.amount.toFixed(2)}\r\n                      {renderHTML(`<i>${currency}</i>`)}\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n              <div className=\"ticket_item ticket_last\">\r\n                {toShowOrder.paymentsInDb?.reduce(\r\n                  (acc, curr) => acc + curr.amount,\r\n                  0\r\n                ) -\r\n                  (toShowOrder?.totalPrice ) >\r\n                0 ? (\r\n                  <>\r\n                    <p>Rendre monnaie</p>\r\n                    <div\r\n                      style={{\r\n                        display: \"flex\",\r\n                        width: \"20%\",\r\n                        justifyContent: \"space-evenly\",\r\n                      }}\r\n                    >\r\n                      <p>\r\n                        {(\r\n                          toShowOrder.paymentsInDb?.reduce(\r\n                            (acc, curr) => acc + curr.amount,\r\n                            0\r\n                          ) -\r\n                          (toShowOrder?.totalPrice )\r\n                        )?.toFixed(2)}\r\n                        {renderHTML(`<i>${currency}</i>`)}\r\n                      </p>\r\n                    </div>\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    <p>Reste a payer</p>\r\n                    <div\r\n                      style={{\r\n                        display: \"flex\",\r\n                        width: \"20%\",\r\n                        justifyContent: \"space-evenly\",\r\n                      }}\r\n                    >\r\n                      <p>\r\n                        {Math.abs(\r\n                          (\r\n                            toShowOrder.paymentsInDb?.reduce(\r\n                              (acc, curr) => acc + curr.amount,\r\n                              0\r\n                            ) -\r\n                            toShowOrder?.totalPrice \r\n                              \r\n                          ).toFixed(2)\r\n                        )}\r\n                        {renderHTML(`<i>${currency}</i>`)}\r\n                      </p>\r\n                    </div>\r\n                  </>\r\n                )}\r\n              </div>\r\n            </>\r\n          )}\r\n          <p>\r\n            <b>\r\n              {toShowOrder?.part && toShowOrder?.type == \"partager\" ? (\r\n                <p style={{ display: \"flex\" }}>\r\n                  {`Votre part pour 1/${toShowOrder?.part} personnes est : ${\r\n                    (toShowOrder?.totalPrice /toShowOrder.part\r\n                  ).toFixed(2)}\r\n              `}\r\n                  {renderHTML(`<i>${currency}</i>`)}\r\n                </p>\r\n              ) : (\r\n                \"\"\r\n              )}\r\n            </b>\r\n          </p>\r\n          <p>{thisDate}</p>\r\n          {/* <QRCode\r\n            value={toShowOrder?.order_id?.toString() || \"000\"}\r\n            size={100}\r\n          /> */}\r\n          <img\r\n            src={`https://chart.googleapis.com/chart?chs=200x200&cht=qr&chl=${toShowOrder?.order_id}&choe=UTF-8+`}\r\n            width=\"40%\"\r\n          />\r\n          <p>Scanner le numero de Commande {toShowOrder?.order_id}</p>\r\n        </div>\r\n      </div>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Ticket;\r\n\r\n","export default __webpack_public_path__ + \"static/media/aprc.fc75241f.png\";","import { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport tableIcon from \"./../Shared/table.png\";\r\nimport {\r\n  Badge,\r\n  Button,\r\n  Col,\r\n  Container,\r\n  Form,\r\n  Modal,\r\n  Nav,\r\n  Navbar,\r\n  Offcanvas,\r\n  Row,\r\n  Spinner,\r\n  Table,\r\n} from \"react-bootstrap\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useParams } from \"react-router\";\r\n\r\nimport {\r\n  faAngleLeft,\r\n  faAngleRight,\r\n  faBorderAll,\r\n  faBorderNone,\r\n  faCalendarAlt,\r\n  faCashRegister,\r\n  faCircle,\r\n  faEdit,\r\n  faHistory,\r\n  faMapMarkedAlt,\r\n  faMapMarkerAlt,\r\n  faPhone,\r\n  faSignOutAlt,\r\n  faTimes,\r\n  faTimesCircle,\r\n  faUsers,\r\n  faUtensils,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport Ticket from \"../Components/Ticket\";\r\nimport { handle } from \"express/lib/application\";\r\nimport useTranslation from \"./../i18\";\r\nimport { useNavigate } from \"react-router\";\r\nimport {\r\n  clearOrders,\r\n  deletecheckoutData,\r\n  initClient,\r\n  setCheckoutChange,\r\n  setNbrCouverts,\r\n  setPartNotPaid,\r\n} from \"../Slices/order\";\r\nimport io from \"socket.io-client\";\r\nimport axios from \"axios\";\r\nimport NaviBottom from \"../Components/NaviBottom\";\r\nimport Bat from \"../Components/Bat\";\r\nimport logo from \"./../Shared/logo.png\";\r\nimport serveur from \"./../Shared/serveur.png\";\r\nimport Keyboard from \"react-simple-keyboard\";\r\nimport \"react-simple-keyboard/build/css/index.css\";\r\nimport $ from \"jquery\";\r\nimport Swal from \"sweetalert2\";\r\nimport { Typeahead } from \"react-bootstrap-typeahead\";\r\nimport { setPing } from \"../Slices/data\";\r\nimport { SortGridMenuItems } from \"@mui/x-data-grid\";\r\n\r\n\r\nconst Checkout = () => {\r\n  var curr = new Date();\r\n  var time = curr.getHours() + \":\" + curr.getMinutes();\r\n  var date = curr.toISOString().substr(0, 10);\r\n  const [idz, setidz] = useState(0)\r\n  const [clientone, setclientone] = useState({\r\n    prenom: \"\",\r\n    company: \"\",\r\n    code1: \"\",\r\n    code2: \"\",\r\n    etage: \"\",\r\n    interphone: \"\",\r\n    name: \"\",\r\n    phone: \"\",\r\n    address: \"\",\r\n    post: \"\",\r\n    city: \"\",\r\n    message: \"\",\r\n    email: \"\",\r\n    type: \"emporter\",\r\n    nbrCouverts: 1,\r\n    date: date,\r\n    time: time,\r\n    id:0\r\n  });\r\n  const checkOutData = useSelector((state) => state.order.checkoutData || []);\r\n  const [isavoir, setisavoir] = useState(false)\r\n  const [showform, setshowform] = useState(false)\r\n  const [load, setLoad] = useState(false)\r\n  const username = localStorage.getItem(\"username\") || \"\";\r\n  const params = useParams();\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n  const { table_id } = params;\r\n\r\n  const user = localStorage.getItem(\"username\");\r\n  const ordersData = useSelector((state) => state.order.checkoutData);\r\n\r\n\r\n  const selectedTable = useSelector((state) => state.order.selectedTable);\r\n  const client = useSelector((state) => state.order.client);\r\n  const ping = useSelector((state) => state.data.ping);\r\n  const clients = useSelector((state) => state.data.clients);\r\n  let thisOrder = ordersData.filter((o) => o.order_id == table_id)[0] || {};\r\n  console.log(\"thisOrder\",thisOrder)\r\n\r\n  let tvass =[];\r\n  if (thisOrder.totalPrice == undefined) {\r\n    thisOrder = {\r\n      ...thisOrder,\r\n      totalPrice: thisOrder.price,\r\n      tvas:[{perc:thisOrder.tva}]\r\n    };\r\n  }\r\n  let orderDate = new Date(\r\n    thisOrder.Date == undefined ? thisOrder.date : thisOrder.Date\r\n  );\r\n  var curr_date = orderDate?.getDate();\r\n  var curr_month = orderDate?.getMonth();\r\n  var curr_year = orderDate?.getFullYear();\r\n  var curr_hour = orderDate?.getHours();\r\n  var curr_min = orderDate?.getMinutes();\r\n  \r\n  const [show, setShow] = useState(false);\r\n  const [showtwo, setshowtwo] = useState(false)\r\n  const [old, setOld] = useState(false);\r\n  const [showHistoryButton, setshowHistoryButton] = useState(false);\r\n  const [showPay, setShowPay] = useState(false);\r\n  const [accompte, setAccompte] = useState(false);\r\n  const [part, setPart] = useState(1);\r\n  const [typeRepart, settypeRepart] = useState(\"partager\");\r\n  const [paymentType, setpaymentType] = useState(\"Especes\");\r\n  const [amount, setAmount] = useState(0);\r\n  const [amountPaid, setamountPaid] = useState(0);\r\n  const [note, setNote] = useState(\"\");\r\n  const [notefrais, setnotefrais] = useState(false);\r\n  const [input, setInput] = useState(\"\");\r\n  const [nbrCouverts, setNbrCouverts] = useState(1);\r\n  const [selected, setSelected] = useState(\"pay\");\r\n  const [acompte, setAcompte] = useState(false);\r\n  const [coupon, setCoupon] = useState(\"\");\r\n  const [payments, setpayments] = useState([]);\r\n  const user_id = localStorage.getItem(\"user_id\");\r\n  \r\n\r\n  const handleAnnuler = () => {\r\n    Swal.fire({\r\n      title: \"Motif d'annulation \",\r\n      showDenyButton: true,\r\n      showCancelButton: true,\r\n      confirmButtonText: \"Aucun\",\r\n      denyButtonText: `Impay`,\r\n      cancelButtonText: \"Fermer\",\r\n    }).then((result) => {\r\n    \r\n\r\n      /* Read more about isConfirmed, isDenied below */\r\n      if (result.isConfirmed) {\r\n      \r\n          axios.post(\r\n           \"http://192.168.1.166:5000/api/cancelorder\",\r\n            {\r\n              order: thisOrder,\r\n            }\r\n          ).then(()=>dispatch(setPing(!ping)));\r\n          const socket = io.connect(process.env.REACT_APP_API_SOCKET);\r\n          socket.emit(`accept${user_id}`, {\r\n            order: {\r\n              ...thisOrder\r\n\r\n            },\r\n          });\r\n\r\n          dispatch(setCheckoutChange({order:{...this,status:\"rejected\",timeRejection:time,rejectedFrom:username,rejected:\"Aucun\"} }));\r\n      \r\n        axios.post(\r\n          \"http://192.168.1.166:5000/api/pushlog\",\r\n          {\r\n            user_id: user_id,\r\n            user: user,\r\n            faire: \"Aucun\",\r\n            title: \"Annulation\",\r\n            content: \"Annulation de commande par le serveur\",\r\n            price:thisOrder.totalPrice,\r\n          }\r\n        );\r\n        Swal.fire({\r\n          icon: \"success\",\r\n          title: \"Annul (Aucun)\",\r\n          showConfirmButton: false,\r\n          timer: 1000,\r\n        });\r\n\r\n        dispatch(clearOrders());\r\n        navigate(\"/main\");\r\n      } else if (result.isDenied) {\r\n    \r\n          axios.post(\r\n            \"http://192.168.1.166:5000/api/cancelorder\",\r\n            {\r\n              order: thisOrder,\r\n            }\r\n          ).then(()=>dispatch(setPing(!ping)));\r\n          const socket = io.connect(process.env.REACT_APP_API_SOCKET);\r\n          socket.emit(`accept${user_id}`, {\r\n            order: {\r\n              ...thisOrder\r\n            },\r\n          });\r\n\r\n\r\n          dispatch(setCheckoutChange({order:{...thisOrder,status:\"rejected\",timeRejection:time,rejectedFrom:username,rejected:\"Impay\"} }));\r\n        \r\n      \r\n\r\n\r\n        axios.post(\r\n          \"http://192.168.1.166:5000/api/pushlog\",\r\n          {\r\n            user_id: user_id,\r\n            user: user,\r\n            faire: \"Impay\",\r\n            title: \"Annulation\",\r\n            content: \"Annulation de commande par le serveur\",\r\n            price:thisOrder.totalPrice,\r\n          }\r\n        );\r\n\r\n        Swal.fire({\r\n          icon: \"success\",\r\n          title: \"Annul (Impay)\",\r\n          showConfirmButton: false,\r\n          timer: 1000,\r\n        });\r\n        dispatch(clearOrders());\r\n        navigate(\"/main\");\r\n      }\r\n    });\r\n  };\r\n const handlefinal=(id)=>{\r\n \r\n  setisavoir(true)\r\n  thisOrder={...thisOrder,client_id:id,customer_name:clientone.name,customer_tel:client.phone}\r\n    axios\r\n    .post(\r\n      \"http://192.168.1.166:5000/api/finalizeorder\",\r\n      {\r\n        order: {\r\n          ...thisOrder,\r\n          nbrCouverts: nbrCouverts,\r\n          message: note,\r\n          pay_method: paymentType,\r\n          amount: amount,\r\n          amountPaid: amountPaid,\r\n        },\r\n      }\r\n    )\r\n    .then((res) => {\r\n      console.log(res.data);\r\n         \r\n      console.log(amount);\r\n      console.log(amountPaid);\r\n      setpayments([...payments, { type: paymentType, value: amount }]);\r\n      let paid = [\"Glovo\", \"Just-Eat\", \"Deliveroo\", \"Uber Eats\",\"ticket restaurant\"].includes(\r\n        paymentType\r\n      );\r\n      setTimeout(() => {\r\n        if (\r\n          amountPaid + amount >=\r\n          (\r\n            thisOrder?.totalPrice \r\n            \r\n          ).toFixed(2)\r\n        ) \r\n          handleExit();\r\n        \r\n      }, 1);\r\n      setAmount(0);\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    })\r\n  }\r\n  const handleCreate = () => {\r\n     \r\n    if (old == false) {\r\n      axios\r\n        .post(\r\n          \"http://192.168.1.166:5000/api/createClient\",\r\n          {\r\n            user_id,\r\n            client: {\r\n              etage: clientone.etage || 0,\r\n              interphone: clientone.interphone || 0,\r\n              supprimer: 0,\r\n              societe: clientone.company || \"\",\r\n              nom_prenom: clientone.name || \"\",\r\n              telephone: clientone.phone || \"\",\r\n              adresse: clientone.address || \"\",\r\n              code_postal: clientone.post || 0,\r\n              ville: clientone.city || \"\",\r\n              email: clientone.email || \"\",\r\n              code_1: clientone.code1 || \"\",\r\n              code_2: clientone.code2 || \"\",\r\n          \r\n            },\r\n          }\r\n        )\r\n        .then((res) => {  \r\nhandlefinal(res.data.id);\r\n})\r\n        .catch((err) => console.log(err));\r\n    } else {\r\n      dispatch(initClient({ clientone }));  \r\n      handlefinal();   \r\n    }    \r\n  };\r\n  const handleSelection = (x) => {\r\n    setOld(true);\r\n    let selectedClient = clients?.filter(\r\n      (e) =>\r\n        e.nom_prenom?.toLowerCase().includes(x?.toLowerCase()) ||\r\n        e.telephone?.toLowerCase().includes(x?.toLowerCase()) ||\r\n        e.email?.toLowerCase().includes(x?.toLowerCase())\r\n    )[0];\r\n    if (selectedClient) {\r\n      setclientone({\r\n        ...clientone,\r\n        id: selectedClient.id,\r\n        prenom: selectedClient.nom_prenom,\r\n        company: selectedClient.societe,\r\n        code1: selectedClient.code_1,\r\n        code2: selectedClient.code_2,\r\n        etage: selectedClient.etage,\r\n        interphone: selectedClient.interphone,\r\n        name: selectedClient.nom_prenom,\r\n        phone: selectedClient.telephone,\r\n        address: selectedClient.adresse,\r\n        post: selectedClient.code_postal,\r\n        city: selectedClient.ville,\r\n        email: selectedClient.email,\r\n      });\r\n    }\r\n  };\r\n  var groupBy = function (xs, key) {\r\n    return xs.reduce(function (rv, x) {\r\n      (rv[x[key]] = rv[x[key]] || []).push(x.value);\r\n      return rv;\r\n    }, {});\r\n  };\r\n  \r\n  let tvas = 0;\r\n  // let is_alcool = false;\r\n  // let test = thisOrder.orderItems;\r\n  // thisOrder?.orderItems?.forEach((element) => {\r\n  //   if (element.tva == 20) {\r\n  //     is_alcool = true;\r\n  //   }\r\n  // });\r\n  // if (is_alcool == true) {\r\n  //   tvas = 20;\r\n  // } else {\r\n  //   switch (\r\n  //     thisOrder.orderType == undefined\r\n  //       ? thisOrder.order_type\r\n  //       : thisOrder.orderType\r\n  //   ) {\r\n  //     case \"sur place\":\r\n  //       tvas = 10;\r\n  //       break;\r\n  //     case \"sur place\":\r\n  //       tvas = 10;\r\n  //       break;\r\n  //     case \"emporter\":\r\n  //       tvas = 5.5;\r\n  //       break;\r\n  //     case \"livraison\":\r\n  //       tvas = 5.5;\r\n  //       break;\r\n  //     default:\r\n  //       tvas = 10;\r\n  //       break;\r\n  //   }\r\n  // }\r\n  let v3,v1,v2,vs1,vs2,vs3,ht1,ht2,ht3,totalht3,qqt3,vp3,totalprice3,totalht1,qqt1,vp1,totalprice1,totalht2,qqt2,vp2,totalprice2;\r\n  v2=0;\r\n  v1=0;\r\n  v3=0;\r\n  vs1=0;\r\n  vs2=0;\r\n  vs3=0;\r\n  totalht3=0;\r\n  totalprice3=0;\r\n  qqt3=0;\r\n  vp3=0;\r\n\r\n  totalht1=0;\r\n  totalprice1=0;\r\n  qqt1=0;\r\n  vp1=0;\r\n\r\n  totalht2=0;\r\n  totalprice2=0;\r\n  qqt2=0;\r\n  vp2=0;\r\n  thisOrder?.orderItems?.map((item) => {\r\n    if (item.is_alcool) {\r\n      v3=v3+(item.qt);\r\n      qqt3=(item.qt)\r\n      vp3=(item.price);\r\n      vs3=+(qqt3*(item.price));\r\n      totalprice3=totalprice3+vs3;\r\n      ht3=qqt3*(vp3/(1+(20/100)));\r\n      totalht3=ht3+totalht3;\r\n      console.log(\"totalprice3\",totalprice3)\r\n     }\r\n     else if(item.is_conserved){\r\n      v1=v1+(item.qt);\r\n      qqt1=(item.qt)\r\n      vp1=(item.price);\r\n      vs1=+(qqt1*(item.price));\r\n      totalprice1=totalprice1+vs1;\r\n      ht1=qqt1*(vp1/(1+(5.5/100)));\r\n      totalht1=ht1+totalht1;\r\n      console.log(\"totalprice1\",totalprice1)\r\n     }\r\n \r\n       else if ((item.is_alcool==false) && (item.is_conserved==false)){\r\n        v2=v2+(item.qt);\r\n        qqt2=(item.qt)\r\n        vp2=(item.price);\r\n        vs2=+(qqt2*(item.price));\r\n        totalprice2=totalprice2+vs2;\r\n        ht2=qqt2*(vp2/(1+(10/100)));\r\n        totalht2=ht2+totalht2;\r\n        console.log(\"totalprice2\",totalprice2)\r\n       }\r\n       \r\n      var tva5= {\r\n        \"name\": \"5.5 %\",\r\n        \"count\":v1,\r\n        \"totaltcc\":totalprice1,\r\n        \"amount\":totalht1.toFixed(2)\r\n      };\r\n      var tva10= {\r\n        \"name\": \"10 %\",\r\n        \"count\":v2,\r\n        \"totaltcc\":totalprice2,\r\n        \"amount\":totalht2.toFixed(2)\r\n      };\r\n      var tva20= {\r\n        \"name\": \"20 %\",\r\n        \"count\":v3,\r\n        \"totaltcc\":totalprice3,\r\n        \"amount\":totalht3.toFixed(2)\r\n      };\r\n   \r\n      tvass[0] = tva5;\r\n      tvass[1] = tva10;\r\n      tvass[2] = tva20;\r\n      console.log(\"tvass2\",tvass[2])\r\n   });\r\n \r\n  const handleVerifyCoupon = () => {\r\n \r\n    axios\r\n      .post(\r\n       \"http://192.168.1.166:5000/api/verifyCoupon\",\r\n        {\r\n          code: coupon,\r\n          user_id :user_id,\r\n          paidamount:thisOrder?.totalPrice?.toFixed(2)\r\n        }\r\n      )\r\n      .then((res) => {\r\n        let remise = res.data.couponInDb.discount;\r\n   \r\n        let today = new Date().toISOString().slice(0, 10);\r\n        if (res.data.couponInDb.expires_at > today) {\r\n          setAmount(Number(res.data.couponInDb.discount+amount))\r\n          setpaymentType(\"ticket restaurant\")\r\n          Swal.fire({\r\n            icon: \"success\",\r\n            title: `Coupon valid pour ${remise} euro`,\r\n            showConfirmButton: false,\r\n            timer: 1500,\r\n          });\r\n        \r\n        } else {\r\n          Swal.fire({\r\n            icon: \"warning\",\r\n            title: `Validit epuis`,\r\n            showConfirmButton: false,\r\n            timer: 1500,\r\n          });\r\n        }\r\n      })\r\n      .catch((err) =>\r\n        Swal.fire({\r\n          icon: \"warning\",\r\n          title: `Coupon non valide`,\r\n          showConfirmButton: false,\r\n          timer: 1500,\r\n        })\r\n       \r\n      );\r\n  };\r\n\r\n  const handleClose = () => setShow(false);\r\n  const handleShow = () => setShow(true);\r\n\r\n  let thisDate =\r\n    curr_date +\r\n    \"-\" +\r\n    curr_month +\r\n    \"-\" +\r\n    curr_year +\r\n    \"-\" +\r\n    curr_hour +\r\n    \":\" +\r\n    curr_min;\r\n\r\n  // let tax = (thisOrder.taxPrice * thisOrder.totalPrice) / 100;\r\n  const handleFinal = () => {\r\n    let restAvoir = (amount- (thisOrder?.totalPrice \r\n      )).toFixed(2)\r\n      \r\n    if(restAvoir>0)\r\n    {\r\n      Swal.fire({\r\n        title: \"Comment voulez-vous rendre \"+\"<b style='color:red'>\"+restAvoir+currency+\"</b>\"+\" ?\",\r\n        showDenyButton: true,\r\n        showCancelButton: false,\r\n        confirmButtonText: \"Avoir\",\r\n        denyButtonText: `Rendre monnaies directement`,\r\n      }).then((result) => {\r\n        /* Read more about isConfirmed, isDenied below */\r\n        if (result.isDenied) {\r\n          axios\r\n          .post(\r\n           \"http://192.168.1.166:5000/api/finalizeorder\",\r\n            {\r\n              order: {\r\n                ...thisOrder,\r\n                nbrCouverts: nbrCouverts,\r\n                message: note,\r\n                pay_method: paymentType,\r\n                amount: amount,\r\n                amountPaid: amountPaid,\r\n              },\r\n            }\r\n          )\r\n          .then((res) => {\r\n            console.log(res.data);\r\n               \r\n            console.log(amount);\r\n            console.log(amountPaid);\r\n            setpayments([...payments, { type: paymentType, value: amount }]);\r\n            let paid = [\"Glovo\", \"Just-Eat\", \"Deliveroo\", \"Uber Eats\",\"ticket restaurant\"].includes(\r\n              paymentType\r\n            );\r\n            setTimeout(() => {\r\n              if (\r\n                amountPaid + amount >=\r\n                (\r\n                  thisOrder?.totalPrice \r\n                  \r\n                ).toFixed(2)\r\n              ) {\r\n                handleExit();\r\n              }\r\n            }, 1);\r\n            setAmount(0);\r\n          })\r\n          .catch((err) => {\r\n            console.log(err);\r\n          })\r\n              \r\n        }\r\n        else if (result.isConfirmed)\r\n        {\r\n          Swal.fire({\r\n            title: \"Client existant ?\",\r\n            showDenyButton: true,\r\n            showCancelButton: false,\r\n            confirmButtonText: \"Oui\",\r\n            denyButtonText: `Non`,\r\n          }).then((reso) => {\r\nif(reso.isDenied)\r\n{\r\n  setisavoir(true)\r\n  setshowform(true)\r\n}\r\nelse if(reso.isConfirmed)\r\n{\r\n  setshowtwo(true)\r\n  setisavoir(true)\r\n  \r\n}\r\n          })\r\n        }\r\n        else if (result.isConfirmed&&thisOrder.customer_tel!=\"\")\r\n\r\n        {\r\n          setisavoir(true)\r\n          setshowform(true)\r\n        }\r\n        else if (result.isConfirmed&&thisOrder.customer_tel==\"\")\r\n        {\r\n          setisavoir(true)\r\n          setshowform(true)\r\n        }\r\n        else if(result.isConfirmed) {\r\n          setisavoir(true)\r\n        }\r\n      })\r\n    }else {\r\n  \r\n      {\r\n        axios\r\n        .post(\r\n          \"http://192.168.1.166:5000/api/finalizeorder\",\r\n          {\r\n            order: {\r\n              \r\n              ...thisOrder,\r\n              nbrCouverts: nbrCouverts,\r\n              message: note,\r\n              pay_method: paymentType,\r\n              amount: amount,\r\n              amountPaid: amountPaid,\r\n            },\r\n          }\r\n        )\r\n        .then((res) => {\r\n      \r\n          setpayments([...payments, { type: paymentType, value: amount }]);\r\n          let paid = [\"Glovo\", \"Just-Eat\", \"Deliveroo\", \"Uber Eats\",\"ticket restaurant\"].includes(\r\n            paymentType\r\n          );\r\n          setTimeout(() => {\r\n            if (\r\n              amountPaid + amount >=\r\n              (\r\n                thisOrder?.totalPrice \r\n                \r\n                \r\n              ).toFixed(2)\r\n            ) {\r\n              handleExit();\r\n            }\r\n          }, 1);\r\n          setAmount(0);\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        })\r\n      }\r\n    }\r\n    \r\n  };\r\n  const handleAddition = () => {\r\n    dispatch(setPartNotPaid(part))\r\n    handleClose();\r\n    if (part > 1) {\r\n\r\n      axios\r\n        .post(\r\n         \"http://192.168.1.166:5000/api/updatehow_paid\",\r\n          {\r\n            type: typeRepart,\r\n            order: thisOrder,\r\n          }\r\n        )\r\n        .then((res) => {\r\n          console.log(res.data);\r\n          if (res.data) {\r\n            navigate(`/checkout2/${table_id}/${typeRepart}/${part}`);\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    } else {\r\n      setShowPay(true);\r\n    }\r\n  };\r\n\r\n  const handleExit = () => {\r\n    let is=false\r\n\r\n    let tva = 0;\r\n    let is_alcool = false;\r\n    let test = thisOrder.orderItems;\r\n    thisOrder.orderItems.forEach((element) => {\r\n      if (element.tva == 20) {\r\n        is = true;\r\n      }\r\n    });\r\n    // if (is_alcool == true) {\r\n    //   tva = 20;\r\n    // } \r\n    axios\r\n      .post(\r\n        \"http://192.168.1.166:5000/api/printFinalOrder\",\r\n        {isavoir,\r\n          user_id: user_id,\r\n          order: {\r\n            ...thisOrder,\r\n            nbrCouverts: nbrCouverts,\r\n            table_number: thisOrder.table || \"\",\r\n            order_id: thisOrder.order_id,\r\n            Date: new Date(),\r\n            amount:\r\n              amount >=\r\n              thisOrder?.totalPrice -\r\n                ((tvas * 100) / thisOrder?.totalPrice).toFixed(2)\r\n                ? (\r\n                    thisOrder?.totalPrice -\r\n                    (tvas * 100) / thisOrder?.totalPrice\r\n                  ).toFixed(2) - amountPaid\r\n                : amount - amountPaid,\r\n            amountPaid: amount,\r\n            paymentType: paymentType,\r\n          },\r\n          type: \"payertout\",\r\n        }\r\n      )\r\n      .then((res) => console.log(res.data))\r\n      .catch((err) => console.log(err));\r\n    if (notefrais == true) {\r\n      axios\r\n        .post(\r\n          \"http://192.168.1.166:5000/api/printnotefrais\",\r\n          {\r\n            user_id: user_id,\r\n            order: {\r\n              ...thisOrder,\r\n              tvas: tvass,\r\n              nbrCouverts: nbrCouverts,\r\n              table_number: thisOrder.table || \"\",\r\n              order_id: thisOrder.order_id,\r\n              Date: new Date(),\r\n              amount:\r\n                amount >=\r\n                thisOrder?.totalPrice \r\n                  ? (\r\n                      thisOrder?.totalPrice \r\n                      \r\n                    ).toFixed(2) - amountPaid\r\n                  : amount - amountPaid,\r\n              amountPaid: amount,\r\n              paymentType: paymentType,\r\n            },\r\n          }\r\n        )\r\n        .then((res) => console.log(res.data))\r\n        .catch((err) => console.log(err));\r\n    }\r\n    let restAvoir = (amountPaid +amount- thisOrder?.totalPrice \r\n      ).toFixed(2)\r\n     \r\n      let amountss = (amountPaid+amount).toFixed(2)\r\n      if (paymentType==\"ticket restaurant\"||isavoir==true)\r\n      {\r\n        Swal.fire({\r\n          icon: \"success\",\r\n          title:\r\n            \"<h5 >\" +\r\n            `le paiement effectu avec succs avec montant: <span style='color:red'>${amount}</span> D'avoir:<span style='color:green'>${(amountPaid- thisOrder?.totalPrice).toFixed(2)}</span> ` +\r\n            \"</h5>\",\r\n          showConfirmButton: false,\r\n          timer: 3000,\r\n        });\r\n        setLoad(false)\r\n        navigate(\"/main\");\r\n        dispatch(deletecheckoutData({ order_id: table_id }));\r\n      }else {\r\n        Swal.fire({\r\n          icon: \"success\",\r\n          title:\r\n            \"<h5 >\" +\r\n            `le paiement effectu avec succs avec montant: <span style='color:red'>${amountss}</span> du reste:<span style='color:green'>${restAvoir}</span> ` +\r\n            \"</h5>\",\r\n          showConfirmButton: false,\r\n          timer: 3000,\r\n        });\r\n        setLoad(false)\r\n        navigate(\"/main\");\r\n        dispatch(deletecheckoutData({ order_id: table_id }));\r\n\r\n      }\r\n      }\r\n   \r\n\r\n  const renderHTML = (rawHTML: string) =>\r\n    React.createElement(\"div\", {\r\n      dangerouslySetInnerHTML: { __html: rawHTML },\r\n    });\r\n  const currency = localStorage.getItem(\"currency\");\r\n\r\n  const { t } = useTranslation();\r\n  const handleDisconnect = () => {\r\n    localStorage.removeItem(\"user\");\r\n    localStorage.removeItem(\"username\");\r\n    navigate(\"/\");\r\n  };\r\n\r\n  //////////////////////CLAVIER///////////////////////////////////////\r\n\r\n  const onChange = (input) => {\r\n    let i = 0;\r\n    for (let index = 0; index < input.length; index++) {\r\n      const element = input[index];\r\n      if (element == \",\") {\r\n        i++;\r\n        if (i >= 2) {\r\n          break;\r\n        }\r\n      } else if (index == 0 && element == \",\") {\r\n        i = 2;\r\n        break;\r\n      }\r\n    }\r\n    function numberFromLocaleString(stringValue, locale) {\r\n      var parts = Number(1111.11)\r\n        .toLocaleString(locale)\r\n        .replace(/\\d+/g, \"\")\r\n        .split(\"\");\r\n      if (stringValue === null) return null;\r\n      if (parts.length == 1) {\r\n        parts.unshift(\"\");\r\n      }\r\n      return Number(\r\n        String(stringValue)\r\n          .replace(new RegExp(parts[0].replace(/\\s/g, \" \"), \"g\"), \"\")\r\n          .replace(parts[1], \".\")\r\n      );\r\n    }\r\n    if (i < 2) {\r\n      setInput(input);\r\n      console.log(\"Input changed\", input);\r\n      if (selected == \"pay\") {\r\n        let v = numberFromLocaleString(input, \"fr\");\r\n        console.log(v);\r\n        setAmount(v);\r\n\r\n        /*    setkeyborad(v); */\r\n        setInput(\"\");\r\n      } else {\r\n        setNbrCouverts(input);\r\n        setInput(\"\");\r\n      }\r\n      // let newarr = [...lay];\r\n      // newarr[selected].value = Number(input);\r\n      // setlay(newarr);\r\n      setInput(\"\");\r\n    } else {\r\n      setInput(\"\");\r\n      console.log(\"Input changed\", input);\r\n      if (selected == \"pay\") {\r\n        setAmount(0);\r\n        keyboard.current.setInput(\"0\");\r\n\r\n        /*    setkeyborad(v); */\r\n        setInput(\"\");\r\n      } else {\r\n        setNbrCouverts(input);\r\n        setInput(\"\");\r\n      }\r\n      // let newarr = [...lay];\r\n      // newarr[selected].value = Number(input);\r\n      // setlay(newarr);\r\n      setInput(\"\");\r\n    }\r\n  };\r\n\r\n  const onKeyPress = (button) => {\r\n    console.log(\"Button pressed\", button);\r\n    if (button == \"{bksp}\") {\r\n    }\r\n  };\r\n  const keyboard = useRef();\r\n  const [myLayout, setLayout] = useState([\r\n    \"9 8 7\",\r\n    \"6 5 4\",\r\n    \"3 2 1\",\r\n    \"0 , {bksp}\",\r\n  ]);\r\n  const onChangeInput = ({ e, index }) => {\r\n    const input = e.target.value;\r\n    setInput(input);\r\n    keyboard.current.setInput(amount);\r\n    // setTotal(calcMontant());\r\n  };\r\n\r\n  return (\r\n    <div style={{ backgroundColor: \"white\" }}>\r\n      \r\n      <Navbar variant=\"warning\" className=\"navbar\">\r\n        <Container className=\"history-navbar\">\r\n          <Navbar.Brand>\r\n            <div class=\"logo-container\">\r\n              <img id=\"chrome\" class=\"logo\" src={logo} />\r\n            </div>\r\n          </Navbar.Brand>\r\n          <Nav className=\"ms-auto\">\r\n            <Nav.Link onClick={() => navigate(\"/main\")}>\r\n              <img width=\"45px\" src={tableIcon} className=\"table-icon\" />\r\n            </Nav.Link>\r\n            <Nav.Link>\r\n              <h6\r\n                style={{ color: \"white\", paddingTop: \"1rem\" }}\r\n                className=\"agenda\"\r\n              >\r\n                <FontAwesomeIcon\r\n                  icon={faCalendarAlt}\r\n                  style={{ marginRight: \"5px\" }}\r\n                />\r\n                Agenda\r\n              </h6>\r\n            </Nav.Link>\r\n            <Nav.Link onClick={() => navigate(\"/cloture\")}>\r\n              <h6\r\n                style={{ color: \"white\", paddingTop: \"1rem\" }}\r\n                className=\"checkout-cassier\"\r\n              >\r\n                <FontAwesomeIcon\r\n                  icon={faCashRegister}\r\n                  style={{ marginRight: \"5px\" }}\r\n                />\r\n                {t(\"cashier\")}\r\n              </h6>\r\n            </Nav.Link>\r\n          </Nav>\r\n          <h6\r\n            className=\"chekout-server\"\r\n            style={{\r\n              color: \"white\",\r\n              marginLeft: \"1rem\",\r\n              marginTop: \"0.5rem\",\r\n              borderLeft: \"1px solid white\",\r\n              padding: \"5px\",\r\n            }}\r\n          >\r\n            <img\r\n              src={serveur}\r\n              width={32}\r\n              height={32}\r\n              style={{ marginRight: \"0.5rem\" }}\r\n            />\r\n            <b>{username}</b>\r\n            <FontAwesomeIcon\r\n              onClick={() => handleDisconnect()}\r\n              size=\"2x\"\r\n              icon={faSignOutAlt}\r\n              style={{ marginLeft: \"0.5rem\", paddingTop: \"0.5rem\" }}\r\n            />\r\n          </h6>\r\n        </Container>\r\n      </Navbar>\r\n      <Container fluid>\r\n        \r\n        <Row className=\"row_h\">\r\n          <Col xs={8} className=\"col_h\">\r\n            <div\r\n              style={{\r\n                marginTop: \"1rem\",\r\n                height: \"max-content\",\r\n                padding: \"1rem\",\r\n                boxShadow: \"rgba(17, 12, 46, 0.15) 0px 48px 100px 0px\",\r\n                overflow: \"auto\",\r\n              }}\r\n            >\r\n              <div\r\n                style={{\r\n                  justifyContent: \"space-between\",\r\n                  display: \"flex\",\r\n                }}\r\n              >\r\n                <div className=\"leftt\">\r\n                  <h6 className=\"checkout-tbd\">\r\n                    <b>Commande</b>\r\n                  </h6>\r\n                  <h6 className=\"checkout-tbd\">\r\n                    <FontAwesomeIcon\r\n                      icon={faUtensils}\r\n                      style={{ color: \"#ff6b6b\", marginRight: \"1rem\" }}\r\n                    />\r\n                    <b>#{thisOrder.order_id}</b>\r\n                  </h6>\r\n                  <h6 className=\"checkout-tbd\">\r\n                    <FontAwesomeIcon\r\n                      icon={faHistory}\r\n                      style={{ color: \"#ff6b6b\", marginRight: \"1rem\" }}\r\n                    />\r\n                    <b>{thisDate}</b>\r\n                  </h6>\r\n                \r\n                  {thisOrder.orderType==\"sur place\"&&  <h6 className=\"checkout-tbd\">\r\n                    <FontAwesomeIcon\r\n                      icon={faUtensils}\r\n                      style={{ color: \"#ff6b6b\", marginRight: \"1rem\" }}\r\n                    />\r\n                    <b>Table {selectedTable.nbr}</b>\r\n                  </h6>}\r\n                </div>\r\n                {Object.keys(clientone).length > 0 ? (\r\n                  <div className=\"rightt\">\r\n                    <h6 className=\"checkout-tbd\">\r\n                      <b>{clientone.name}</b>\r\n                    </h6>\r\n                    <h6 className=\"checkout-tbd\">\r\n                      <FontAwesomeIcon\r\n                        icon={faPhone}\r\n                        style={{ color: \"#ff6b6b\", marginRight: \"1rem\" }}\r\n                      />\r\n                      <b>{clientone.phone}</b>\r\n                    </h6>\r\n                    <h6 className=\"checkout-tbd\">\r\n                      <FontAwesomeIcon\r\n                        icon={faMapMarkerAlt}\r\n                        style={{ color: \"#ff6b6b\", marginRight: \"1rem\" }}\r\n                      />\r\n                      <b>{clientone.address}</b>\r\n                    </h6>\r\n                    <h6 className=\"checkout-tbd\">\r\n                      <FontAwesomeIcon\r\n                        icon={faCircle}\r\n                        style={{ color: \"#ff6b6b\", marginRight: \"1rem\" }}\r\n                      />\r\n                      <b>{thisOrder.orderType}</b>\r\n                    </h6>\r\n                  </div>\r\n                ) : (\r\n                  \"\"\r\n                )}\r\n              </div>\r\n              <Table hover>\r\n                <thead className=\"tbd\">\r\n                  <tr>\r\n                    <th>#</th>\r\n                    <th>Article</th>\r\n                    <th>Prix</th>\r\n                    <th>Qt</th>\r\n                    <th>Total</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody className=\"ccc\">\r\n                  \r\n                  {thisOrder?.orderItems?.map((item, key) => (\r\n                    <tr>\r\n                      <td>{key}</td>\r\n                      <td>\r\n                        {item.name}\r\n                        <br />\r\n\r\n                        {/* {item.extras && item.extras.length\r\n                          ? item.extras.map((extra) => <p>{extra.title}</p>)\r\n                          : \"\"} */}\r\n                      </td>\r\n\r\n                      <td style={{ display: \"flex\" }}>\r\n                        {item.price?.toFixed(2)}{\" \"}\r\n                        {renderHTML(`<i>${currency}</i>`)}\r\n                      </td>\r\n                      <td>{item.qt}</td>\r\n                      <td style={{ display: \"flex\" }}>\r\n                        {(item.qt*item.price)?.toFixed(2)}{\" \"}\r\n                        {renderHTML(`<i>${currency}</i>`)}\r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n              </Table>\r\n              <Col>\r\n                <Table>\r\n                  <tbody\r\n                    className=\"checkout-tbd\"\r\n                    style={{ width: \"100%\", height: \"auto\", align: \"right\" }}\r\n                  >\r\n                    <tr>\r\n                      <td>\r\n                        {/* <h6\r\n                          className=\"checkout-tbd\"\r\n                          style={{ display: \"flex\", fontWeight: \"bold\" }}\r\n                        >\r\n                          Total HT :\r\n                        </h6> */}\r\n                      </td>\r\n                      <td>\r\n                        <span\r\n                       \r\n                         \r\n                        >\r\n\r\n\r\n \r\n <table style={{width:\"300px\" , display:\"flex\",justifyContent:\"space-between\",flexDirection:\"column\",marginLeft:\"-450px\",marginBottom:\"-50px\"}}>\r\n\r\n<tr className=\"tbdtva\">\r\n  <th style={{width:\"100px\"}}>TVA</th>\r\n  <th style={{width:\"100px\"}}>Nbre</th>\r\n  <th style={{width:\"100px\"}}>HT</th>\r\n</tr>\r\n{tvass.map((item, key) => (\r\n  <tr>\r\n    <td style={{width:\"100px\"}}>{item.name}</td>\r\n    <td style={{width:\"100px\"}}>{item.count}</td>\r\n    <td style={{width:\"100px\"}}>{item.amount} </td>\r\n\r\n  </tr>\r\n )\r\n )}\r\n </table>\r\n\r\n  \r\n  \r\n   \r\n                       \r\n                        </span>\r\n                      </td>\r\n                    </tr>\r\n                    <tr>\r\n                      <td>\r\n                        <h6\r\n                          className=\"checkout-tbd\"\r\n                          style={{ display: \"flex\", fontWeight: \"bold\" }}\r\n                        >\r\n                      \r\n                        </h6>\r\n                      </td>\r\n                      <td>\r\n                        {/* <span\r\n                          style={{\r\n                            color: \"#ff6b6b\",\r\n                            display: \"flex\",\r\n                            marginLeft: \"0.5rem\",\r\n                            fontWeight: \"bold\",\r\n                          }}\r\n                        >\r\n                          {(thisOrder?.totalPrice/(1+(thisOrder?.tvas[0].perc/100))*thisOrder?.tvas[0].perc/100).toFixed(2)}\r\n                          {renderHTML(`<i>${currency}</i>`)}\r\n                        </span> */}\r\n                      </td>\r\n                    </tr>\r\n                  </tbody>\r\n                </Table>\r\n                <Table>\r\n                <tr>\r\n                      <td>\r\n                        <h6\r\n                          className=\"checkout-tbd\"\r\n                          style={{ display: \"flex\", justifyContent:\"flexStart\", fontWeight: \"bold\", marginTop:\"0px\", marginBottom:\"50px\",fontSize:\"1.1rem\"}}\r\n                        >\r\n                          TOTAL TTC :{\" \"}\r\n                        </h6>\r\n                      </td>\r\n                      <td>\r\n                        <span\r\n                          style={{\r\n                            color: \"#ff6b6b\",\r\n                            display: \"flex\",\r\n                            marginLeft: \"-45rem\",\r\n                            fontWeight: \"bold\",\r\n                            marginTop:\"0px\", \r\n                            marginBottom:\"50px\"\r\n                          }}\r\n                        >\r\n                          {\" \"}\r\n                          {(\r\n                            thisOrder?.totalPrice                            \r\n                          )?.toFixed(2)}{\" \"}\r\n                          {renderHTML(`<i>${currency}</i>`)}\r\n                        </span>\r\n                      </td>\r\n                    </tr>\r\n                </Table>\r\n              </Col>\r\n\r\n              <div className=\"regler-addition-btns\" style={{marginTop:\"550px !important\"}}>\r\n                <Button\r\n                  variant=\"outline-info\"\r\n                  onClick={handleShow}\r\n                  className=\"btn_chee\"\r\n                >\r\n                  Rgler addition\r\n                </Button>\r\n               {thisOrder?.status!=\"cooking\"&& thisOrder?.status!=\"ready\"?<Button\r\n                  variant=\"outline-info\"\r\n                  onClick={() => navigate(\"/menu/\" + thisOrder?.order_id)}\r\n                  className=\"btn_chee\"\r\n                >\r\n                  <FontAwesomeIcon\r\n                    icon={faEdit}\r\n                    style={{ marginRight: \"0.5rem\" }}\r\n                  />\r\n                  Modifier la commande\r\n                </Button>:\"\"}\r\n              </div>\r\n            </div>\r\n          </Col>\r\n          <Col xs={4} className=\"col_h\">\r\n            <Ticket order={thisOrder} thisDate={thisDate} />\r\n          </Col>\r\n        </Row>\r\n        <NaviBottom />\r\n        <Modal show={show} onHide={handleClose}>\r\n          <Modal.Header closeButton>\r\n            <Modal.Title>Addition</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            <Row>\r\n              <Col xs={4} style={{ borderRight: \"1px solid black\" }}>\r\n                <h5>\r\n                    <FontAwesomeIcon\r\n                      icon={faUsers}\r\n                      style={{ color: \"#ff6b6b\", marginRight: \"0.5rem\" }}\r\n                    />\r\n                  <b>Nombre de parts :</b>\r\n                </h5>\r\n                <div\r\n                  style={{\r\n                    display: \"flex\",\r\n                    justifyContent: \"space-evenly\",\r\n                    alignItems: \"center\",\r\n                    marginTop: \"15%\",\r\n                  }}\r\n                >\r\n                  <FontAwesomeIcon\r\n                    color=\"#ff6b6b\"\r\n                    icon={faAngleLeft}\r\n                    size=\"2x\"\r\n                    onClick={() => {\r\n                      if (part > 1) {\r\n                        setPart(part - 1);\r\n                      }\r\n                    }}\r\n                  />\r\n                  <h3>{part}</h3>\r\n                  <FontAwesomeIcon\r\n                    color=\"#ff6b6b\"\r\n                    icon={faAngleRight}\r\n                    size=\"2x\"\r\n                    onClick={() => {\r\n                      if (part < thisOrder.nbrCouverts) {\r\n                        setPart(part + 1);\r\n                      }\r\n                    }}\r\n                  />\r\n                </div>\r\n              </Col>\r\n              <Col xs={8}>\r\n                <div\r\n                  style={{\r\n                    display: \"block\",\r\n                    width: \"80%\",\r\n                    textAlign: \"center\",\r\n                  }}\r\n                >\r\n                  <h5>Choix de l'addition</h5>\r\n                  <div\r\n                    style={{\r\n                      width: \"100%\",\r\n                      display: \"flex\",\r\n                      justifyContent: \"space-evenly\",\r\n                    }}\r\n                  >\r\n                    <div\r\n                      onClick={() => settypeRepart(\"partager\")}\r\n                      style={{\r\n                        display: \"flex\",\r\n                        flexDirection: \"column\",\r\n                        alignItems: \"center\",\r\n                        justifyContent: \"center\",\r\n                      }}\r\n                    >\r\n                      <FontAwesomeIcon\r\n                        icon={faBorderAll}\r\n                        size=\"6x\"\r\n                        color={typeRepart == \"partager\" ? \"#ff6b6b\" : \"grey\"}\r\n                        className=\"faborder\"\r\n                      />\r\n                      <h6>partager</h6>\r\n                    </div>\r\n                    <div\r\n                      onClick={() => settypeRepart(\"repartir\")}\r\n                      style={{\r\n                        display: \"flex\",\r\n                        flexDirection: \"column\",\r\n                        alignItems: \"center\",\r\n                        justifyContent: \"center\",\r\n                      }}\r\n                    >\r\n                      <FontAwesomeIcon\r\n                        icon={faBorderNone}\r\n                        size=\"6x\"\r\n                        color={typeRepart == \"repartir\" ? \"#ff6b6b\" : \"grey\"}\r\n                        className=\"faborder\"\r\n                      />\r\n                      <h6>Repartir</h6>\r\n                    </div>\r\n                    <Button\r\n                      variant=\"info\"\r\n                      onClick={() => handleAddition()}\r\n                      className=\"btn_che\"\r\n                      style={{ marginLeft: \"2rem\", backgroundColor: \"#ff6b6b\" }}\r\n                    >\r\n                      <b>Payer tout</b>\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n              </Col>\r\n            </Row>\r\n            ;\r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n          <Button variant=\"warning\" onClick={handleAnnuler}>\r\n            {t(\"cancel\")}\r\n          </Button>\r\n            <Button variant=\"secondary\" onClick={handleClose}>\r\n              Fermer\r\n            </Button>\r\n            <Button\r\n              className=\"bgcolor\"\r\n              variant=\"warning\"\r\n              onClick={() => handleAddition()}\r\n            >\r\n              Payer\r\n            </Button>\r\n          </Modal.Footer>\r\n        </Modal>\r\n        {/* /////ShowPayModal////// */}\r\n        <Modal show={showPay} onHide={() => setShowPay(false)}>\r\n        {showform?\r\n        <div className=\"trans_client\" >\r\n          \r\n                   <div className=\"client_forms\">\r\n                     \r\n                \r\n                   \r\n                   <Form auto>\r\n                  \r\n                    <Form.Group className=\"mb-3\">\r\n                   \r\n                      <Row>\r\n                        <Col>\r\n                          <Form.Control\r\n                            value={clientone.name}\r\n                            type=\"text\"\r\n                            placeholder=\"nom/prenom\"\r\n                            onChange={(e) =>\r\n                              setclientone({ ...clientone, name: e.target.value })\r\n                            }\r\n                          />\r\n                        </Col>\r\n                      </Row>\r\n                    </Form.Group>\r\n                    <Form.Group className=\"mb-3\">\r\n                      <Row>\r\n                        <Col>\r\n                          {clientone.telephone?.length > 0 &&\r\n                          clientone.telephone?.length < 10 ? (\r\n                            <Badge bg=\"danger\">\r\n                              Numero pas valide (10 chiffres obligatoire)\r\n                            </Badge>\r\n                          ) : (\r\n                            \"\"\r\n                          )}\r\n                          <Typeahead\r\n                            onInputChange={(e) => {\r\n                              setclientone({ ...clientone, phone: e });\r\n                              setOld(false);                       \r\n                            }}\r\n                            onChange={(e) => {\r\n                              handleSelection(e[0]);\r\n                              console.log(e);\r\n                            }}\r\n                            options={clients.map((client) => client.telephone)}\r\n                            placeholder=\"telephone\"\r\n                          />\r\n                        </Col>\r\n                      </Row>\r\n                    </Form.Group>\r\n                    <Form.Group className=\"mb-3\">\r\n                      <Row>\r\n                        <Col>\r\n                          <Form.Control\r\n                            value={clientone.message}\r\n                            as=\"textarea\"\r\n                            type=\"text\"\r\n                            placeholder=\"remarque\"\r\n                            onChange={(e) =>\r\n                              setclientone({\r\n                                ...clientone,\r\n                                message: e.target.value,\r\n                              })\r\n                            }\r\n                          />\r\n                        </Col>\r\n                      </Row>\r\n                    </Form.Group>\r\n                    <Form.Group className=\"mb-3\">\r\n                      <Row>\r\n                        <Col>\r\n                          <Form.Control\r\n                            value={clientone.date}\r\n                            type=\"date\"\r\n                            defaultValue={clientone.date}\r\n                            onChange={(e) =>\r\n                              setclientone({ ...clientone, date: e.target.value })\r\n                            }\r\n                          />\r\n                        </Col>\r\n                        <Col>\r\n                          <Form.Control\r\n                            value={clientone.time}\r\n                            type=\"time\"\r\n                            defaultValue={clientone.time}\r\n                            onChange={(e) =>\r\n                              setclientone({ ...clientone, time: e.target.value })\r\n                            }\r\n                          />\r\n                        </Col>\r\n                      </Row>\r\n                    </Form.Group>\r\n                  </Form>  \r\n                  <div className=\"cli_buttons\">\r\n                  <Button onClick={()=>handleCreate()}>\r\n          Valider\r\n        </Button>\r\n        <Button variant=\"danger\"  style={{marginLeft:\"1rem\"}} onClick={()=>setshowform(false)}>\r\n          annuler\r\n        </Button>\r\n                  </div>\r\n      \r\n                   </div>\r\n             \r\n        </div>     \r\n        :\"\"}\r\n         {showtwo?\r\n        <div className=\"trans_client\" >\r\n                   <div className=\"client_forms\">\r\n                   <Form auto>\r\n                   <Form.Group className=\"mb-3\">\r\n                      <Row>\r\n                        <Col>\r\n                          {clientone.telephone?.length > 0 &&\r\n                          clientone.telephone?.length < 10 ? (\r\n                            <Badge bg=\"danger\">\r\n                              Numero pas valide (10 chiffres obligatoire)\r\n                            </Badge>\r\n                          ) : (\r\n                            \"\"\r\n                          )}\r\n                          <Typeahead\r\n                            onInputChange={(e) => {\r\n                              setclientone({ ...clientone, phone: e });\r\n                              setOld(false);                       \r\n                            }}\r\n                            onChange={(e) => {\r\n                              handleSelection(e[0]);\r\n                              console.log(e);\r\n                            }}\r\n                            options={clients.map((client) => client.telephone)}\r\n                            placeholder=\"telephone\"\r\n                          />\r\n                        </Col>\r\n                      </Row>\r\n                    </Form.Group>\r\n                    <Form.Group className=\"mb-3\">\r\n                      <Row>\r\n                        <Col>\r\n                          <Form.Control\r\n                            value={clientone.name}\r\n                            type=\"text\"\r\n                            placeholder=\"nom/prenom\"\r\n                            onChange={(e) =>\r\n                              setclientone({ ...clientone, name: e.target.value })\r\n                            }\r\n                          />\r\n                        </Col>\r\n                      </Row>\r\n                    </Form.Group>\r\n                  \r\n\r\n          \r\n                   \r\n                  </Form>  \r\n        <div className=\"cli_buttons\"><Button onClick={()=>handleCreate()}>\r\n          Valider\r\n        </Button>\r\n        <Button variant=\"danger\"  style={{marginLeft:\"1rem\"}} onClick={()=>setshowtwo(false)}>\r\n          annuler\r\n        </Button></div>\r\n                   </div>\r\n             \r\n        </div>     \r\n        :\"\"}\r\n          <Modal.Header closeButton>\r\n            <Modal.Title>finaliser Commande</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            <Row>\r\n              <Col xs=\"5\">\r\n                <Form\r\n                  onSubmit={(e) => {\r\n                    e.preventDefault();\r\n                    handleVerifyCoupon();\r\n                  }}\r\n                >\r\n                  <Form.Label>\r\n                    {\" \"}\r\n                    <b>Paiement Reu</b>{\" \"}\r\n                  </Form.Label>\r\n                  <Form.Control\r\n                    onFocus={(e) => {\r\n                      setSelected(\"pay\");\r\n                      keyboard.current.setInput(\"\");\r\n                    }}\r\n                    placeholder=\"0.00\"\r\n                    value={amountPaid}\r\n                    onChange={(e) => {\r\n                      setAmount(e.target.value);\r\n                    }}\r\n                    readOnly\r\n                  />\r\n                </Form>\r\n                <h6 style={{ marginTop: \"1rem\" }}>\r\n                  {\" \"}\r\n                  <b>Reste  devoir</b>{\" \"}\r\n                </h6>\r\n                <h4 style={{ color: \"red\" }}>\r\n                  <b style={{ display: \"flex\" }}>\r\n                    {\" \"}\r\n                    {(\r\n                      thisOrder?.totalPrice  - amountPaid\r\n                    ).toFixed(2)}\r\n                    {renderHTML(`<i>${currency}</i>`)}\r\n                  </b>\r\n                </h4>\r\n                <Form\r\n                  onSubmit={(e) => {\r\n                    e.preventDefault();\r\n                    handleVerifyCoupon();\r\n                  }}\r\n                >\r\n                  <Form.Group\r\n                    style={{ marginTop: \"2rem\" }}\r\n                    className=\"mb-3\"\r\n                    controlId=\"exampleForm.ControlTextarea1\"\r\n                  >\r\n                    <Form.Label>\r\n                      {\" \"}\r\n                      <b>Details de paiement</b>{\" \"}\r\n                    </Form.Label>\r\n                    <div style={{ height: \"150px\", overflow: \"auto\" }}>\r\n                      {payments.map((e) => (\r\n                        <div\r\n                          style={{\r\n                            display: \"flex\",\r\n                            justifyContent: \"space-between\",\r\n                          }}\r\n                        >\r\n                          <h5>{e.type}</h5>\r\n                          <h5>{e.value}</h5>\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  </Form.Group>\r\n                  <Form.Group\r\n                    style={{ marginTop: \"2rem\" }}\r\n                    className=\"mb-3\"\r\n                    controlId=\"exampleForm.ControlTextarea1\"\r\n                  >\r\n                    <Form.Label>\r\n                      {\" \"}\r\n                      <b>Scanner code remise</b>{\" \"}\r\n                    </Form.Label>\r\n                    <Form.Control\r\n                      rows={1}\r\n                      placeholder=\"*11111111111111*\"\r\n                      onChange={(e) => setCoupon(e.target.value)}\r\n                    />\r\n                  </Form.Group>\r\n                </Form>\r\n              </Col>\r\n              <Col xs=\"5\">\r\n                <Form onSubmit={(e) => e.preventDefault()}>\r\n                  <Form.Group className=\"mb-3\" controlId=\"formBasicPassword\">\r\n                    <Form.Label>\r\n                      <b>Addition Total</b>\r\n                    </Form.Label>\r\n                    <Form.Control\r\n                      readOnly={true}\r\n                      type=\"number\"\r\n                      placeholder=\"0.00\"\r\n                      value={(\r\n                        thisOrder.totalPrice \r\n                        \r\n                      ).toFixed(2)}\r\n                    />\r\n                  </Form.Group>\r\n                  <Form.Group className=\"mb-3\" controlId=\"formBasicPassword\">\r\n                    <Form.Label>\r\n                      {\" \"}\r\n                      <b>Methode de paiement</b>{\" \"}\r\n                    </Form.Label>\r\n                    <Form.Select\r\n                      aria-label=\"Default select example\"\r\n                      onChange={(e) => setpaymentType(e.target.value)}\r\n                    >\r\n                      <option value=\"espece\">Especes</option>\r\n                      <option value=\"carte bleu\">Carte bleu</option>\r\n                      <option value=\"ticket restaurant\">\r\n                        Ticket restaurant\r\n                      </option>\r\n                      <option value=\"cheque\">Cheque</option>\r\n\r\n                      <option value=\"Glovo\">Glovo</option>\r\n                      <option value=\"Just-Eat\">Just-Eat</option>\r\n                      <option value=\"Deliveroo\">Deliveroo</option>\r\n                      <option value=\"Uber Eats\">Uber Eats</option>\r\n                    </Form.Select>\r\n                  </Form.Group>\r\n                </Form>\r\n                <Form.Group className=\"mb-3\" controlId=\"formBasicPassword\">\r\n                  <Form.Label>\r\n                    <b>Total</b>\r\n                  </Form.Label>\r\n                  <Form.Control\r\n                    type=\"number\"\r\n                    placeholder=\"0.00\"\r\n                    value={amount}\r\n                    onChange={(e) => setAmount(Number(e.target.value))}\r\n                  />\r\n                </Form.Group>\r\n                <Keyboard\r\n                  theme={\"hg-theme-default hg-layout-default myTheme5\"}\r\n                  display={{\r\n                    \"{bksp}\": \"EFFACER\",\r\n                  }}\r\n                  buttonTheme={[\r\n                    {\r\n                      class: \"key_btn3\",\r\n                      buttons: \"0 1 2 3 4 5 6 7 8 9 , {bksp} {enter}\",\r\n                    },\r\n                    {\r\n                      class: \"hg-highlight\",\r\n                      buttons: \"Q q\",\r\n                    },\r\n                  ]}\r\n                  keyboardRef={(r) => {\r\n                    console.log(r);\r\n                    keyboard.current = r;\r\n                  }}\r\n                  layoutName={\"default\"}\r\n                  layout={{\r\n                    default: myLayout,\r\n                  }}\r\n                  onChange={onChange}\r\n                  onKeyPress={onKeyPress}\r\n                />\r\n              </Col>\r\n\r\n              <Col xs=\"2\" className=\"show-pay-modal\">\r\n                <Button\r\n                  style={{\r\n                    display: \"flex\",\r\n                    width: \"100%\",\r\n                    textAlign: \"center\",\r\n                    marginBottom: \"0.5rem\",\r\n                    paddingLeft: \"2rem\",\r\n                  }}\r\n                  onClick={() => {\r\n                    setAmount(amount + 0.5);\r\n                    keyboard.current.setInput(String(amount + 0.5));\r\n                  }}\r\n                >\r\n                  0.5 {renderHTML(`<i>${currency}</i>`)}\r\n                </Button>\r\n                <Button\r\n                  style={{\r\n                    display: \"flex\",\r\n                    width: \"100%\",\r\n                    textAlign: \"center\",\r\n                    marginBottom: \"0.5rem\",\r\n                    paddingLeft: \"2rem\",\r\n                  }}\r\n                  onClick={() => {\r\n                    setAmount(amount + 1);\r\n                    keyboard.current.setInput(String(amount + 1));\r\n                  }}\r\n                >\r\n                  1 {renderHTML(`<i>${currency}</i>`)}\r\n                </Button>\r\n                <Button\r\n                  style={{\r\n                    display: \"flex\",\r\n                    width: \"100%\",\r\n                    textAlign: \"center\",\r\n                    marginBottom: \"0.5rem\",\r\n                    paddingLeft: \"2rem\",\r\n                  }}\r\n                  onClick={() => {\r\n                    setAmount(amount + 2);\r\n                    keyboard.current.setInput(String(amount + 2));\r\n                  }}\r\n                >\r\n                  2 {renderHTML(`<i>${currency}</i>`)}\r\n                </Button>\r\n                <Button\r\n                  style={{\r\n                    display: \"flex\",\r\n                    width: \"100%\",\r\n                    textAlign: \"center\",\r\n                    marginBottom: \"0.5rem\",\r\n                    paddingLeft: \"2rem\",\r\n                  }}\r\n                  onClick={() => {\r\n                    setAmount(amount + 5);\r\n                    keyboard.current.setInput(String(amount + 5));\r\n                  }}\r\n                >\r\n                  5 {renderHTML(`<i>${currency}</i>`)}\r\n                </Button>\r\n                <Button\r\n                  style={{\r\n                    display: \"flex\",\r\n                    width: \"100%\",\r\n                    textAlign: \"center\",\r\n                    marginBottom: \"0.5rem\",\r\n                    paddingLeft: \"2rem\",\r\n                  }}\r\n                  onClick={() => {\r\n                    setAmount(amount + 10);\r\n                    keyboard.current.setInput(String(amount + 10));\r\n                  }}\r\n                >\r\n                  10 {renderHTML(`<i>${currency}</i>`)}\r\n                </Button>\r\n                <Button\r\n                  style={{\r\n                    display: \"flex\",\r\n                    width: \"100%\",\r\n                    textAlign: \"center\",\r\n                    marginBottom: \"0.5rem\",\r\n                    paddingLeft: \"2rem\",\r\n                  }}\r\n                  onClick={() => {\r\n                    setAmount(amount + 20);\r\n                    keyboard.current.setInput(String(amount + 20));\r\n                  }}\r\n                >\r\n                  20 {renderHTML(`<i>${currency}</i>`)}\r\n                </Button>\r\n                <Button\r\n                  style={{\r\n                    display: \"flex\",\r\n                    width: \"100%\",\r\n                    textAlign: \"center\",\r\n                    marginBottom: \"0.5rem\",\r\n                    paddingLeft: \"2rem\",\r\n                  }}\r\n                  onClick={() => {\r\n                    setAmount(amount + 50);\r\n                    keyboard.current.setInput(String(amount + 50));\r\n                  }}\r\n                >\r\n                  50 {renderHTML(`<i>${currency}</i>`)}\r\n                </Button>\r\n                <Button\r\n                  style={{\r\n                    display: \"flex\",\r\n                    width: \"100%\",\r\n                    textAlign: \"center\",\r\n                    marginBottom: \"0.5rem\",\r\n                    paddingLeft: \"2rem\",\r\n                  }}\r\n                  onClick={() => {\r\n                    setAmount(amount + 100);\r\n                    keyboard.current.setInput(String(amount + 100));\r\n                  }}\r\n                >\r\n                  100 {renderHTML(`<i>${currency}</i>`)}\r\n                </Button>\r\n                <Button\r\n                  style={{\r\n                    display: \"flex\",\r\n                    width: \"100%\",\r\n                    textAlign: \"center\",\r\n                    marginBottom: \"0.5rem\",\r\n                    paddingLeft: \"2rem\",\r\n                  }}\r\n                  onClick={() => {\r\n                    setAmount(( thisOrder?.totalPrice ).toFixed(2) - amountPaid );\r\n                    keyboard.current.setInput(\r\n                      String(\r\n                        thisOrder?.totalPrice -amountPaid\r\n                      )\r\n                    );\r\n                  }}\r\n                >\r\n                  Payer Tout\r\n                </Button>\r\n                <Button\r\n                  variant=\"warning\"\r\n                  style={{\r\n                    display: \"flex\",\r\n                    width: \"100%\",\r\n                    textAlign: \"center\",\r\n                    marginBottom: \"0.5rem\",\r\n                    paddingLeft: \"2rem\",\r\n                  }}\r\n                  onClick={() => {\r\n                    setAmount(0);\r\n                    keyboard.current.setInput(String(0));\r\n                  }}\r\n                >\r\n                  Effacer\r\n                </Button>\r\n              </Col>\r\n            </Row>\r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            {notefrais ? (\r\n              <>\r\n                <Form.Label style={{ fontSize: \"24px\", fontWeight: \"bold\" }}>\r\n                  Nbr couverts\r\n                </Form.Label>\r\n                <Form.Control\r\n                  onFocus={(e) => {\r\n                    setSelected(\"couverts\");\r\n                    keyboard.current.setInput(\"\");\r\n                  }}\r\n                  style={{ width: \"120px\" }}\r\n                  placeholder=\"1 Couverts\"\r\n                  type=\"number\"\r\n                  value={nbrCouverts}\r\n                  onChange={(e) => setNbrCouverts(e.target.value)}\r\n                ></Form.Control>\r\n              </>\r\n            ) : (\r\n              \"\"\r\n            )}\r\n            <Form.Check\r\n              size=\"3x\"\r\n              type=\"checkbox\"\r\n              label=\"Note de frais\"\r\n              style={{\r\n                fontSize: \"24px\",\r\n                marginRight: \"2rem\",\r\n                fontWeight: \"bold\",\r\n              }}\r\n              onClick={() => setnotefrais(!notefrais)}\r\n            />\r\n            <Button variant=\"danger\" onClick={() => setShowPay(false)}>\r\n              {t(\"cancel\")}\r\n            </Button>\r\n            {!accompte&&!load ? (\r\n              <Button\r\n                variant=\"success\"\r\n                onClick={() => {\r\n                  if (amount > 0) {\r\n                    setamountPaid(amountPaid + amount);\r\n                    handleFinal();\r\n                    keyboard.current.setInput(\"\");\r\n                  } else {\r\n                    console.log(\"null\");\r\n                  }\r\n                }}\r\n              >\r\n                Valider\r\n              </Button>\r\n            ) :load?(\r\n              <Button\r\n                variant=\"success\"\r\n              \r\n              \r\n              >\r\n                 <Spinner animation=\"border\" variant=\"light\" />\r\n              </Button>\r\n            )\r\n            : (\r\n              <Button\r\n                variant=\"outline-danger\"\r\n                onClick={() => {\r\n                  setShowPay(false);\r\n                  handleFinal();\r\n                }}\r\n              >\r\n                Accompte\r\n              </Button>\r\n            )}\r\n          </Modal.Footer>\r\n        </Modal>\r\n      </Container>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Checkout;\r\n","import axios from \"axios\";\r\nimport React, { useEffect, useRef, useState, useId } from \"react\";\r\nimport {\r\n  Button,\r\n  Container,\r\n  Form,\r\n  Modal,\r\n  Row,\r\n  Col,\r\n  Nav,\r\n  Navbar,\r\n} from \"react-bootstrap\";\r\nimport tableIcon from \"./../Shared/table.png\";\r\nimport serveur from \"./../Shared/serveur.png\";\r\nimport Keyboard from \"react-simple-keyboard\";\r\n\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Navigate, useNavigate, useParams } from \"react-router\";\r\nimport Ticket from \"../Components/Ticket\";\r\nimport { clearOrdersPartage, deletecheckoutData, editordersPartage, setOrderPartage, setPartNotPaid, updateReapartirItems } from \"../Slices/order\";\r\nimport { DragDropContext, Droppable, Draggable } from \"react-beautiful-dnd\";\r\nimport useTranslation from \"./../i18\";\r\nimport logo from \"./../Shared/logo.png\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n  faAngleLeft,\r\n  faAngleRight,\r\n  faBorderAll,\r\n  faBorderNone,\r\n  faCalendarAlt,\r\n  faCashRegister,\r\n  faEdit,\r\n  faHistory,\r\n  faMapMarkedAlt,\r\n  faMapMarkerAlt,\r\n  faPhone,\r\n  faSignOutAlt,\r\n  faTimesCircle,\r\n  faUsers,\r\n  faUtensils,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport Swal from \"sweetalert2\";\r\nconst CheckoutTwo = () => {\r\n  const [payments, setpayments] = useState([]);\r\n  const username = localStorage.getItem(\"username\") || [];\r\n\r\n  const params = useParams();\r\n  const navigate = useNavigate();\r\n  const dispatch = useDispatch();\r\n  const { type, part, table_id } = params;\r\n  const ordersData = useSelector((state) => state.order.checkoutData);\r\n  const orderesPartage = useSelector((state) => state.order.ordersPartage);\r\n  const partNotPaid = useSelector((state) => state.order.partNotPaid);\r\n  let thisOrder = ordersData.filter((o) => o.order_id == table_id)[0] || {};\r\n  let check=orderesPartage?.map(e=>Number(e.amountPaid)).reduce((a,b)=>a+b,0)>0;\r\n\r\n  const [theseOrders, settheseOrders] = useState([]);\r\n  const [list, setList] = useState([]);\r\n  const [ping, setPing] = useState(true);\r\n  const [show, setShow] = useState(type==\"repartir\"&&!check);\r\n  const [amount, setAmount] = useState(0);\r\n  const [amountPaid, setamountPaid] = useState(0);\r\n  const [note, setNote] = useState(\"\");\r\n  const [paymentType, setpaymentType] = useState(\"espece\");\r\n  const [showPay, setShowPay] = useState(false);\r\n  const [getkeyborad, setkeyborad] = useState(\"\");\r\n  const [input, setInput] = useState(\"\");\r\n  const [selected, setSelected] = useState(\"pay\");\r\n  const [nbrCouverts, setNbrCouverts] = useState(1);\r\n  const [accompte, setAccompte] = useState(false);\r\n  const [oredertopay, setordertopay] = useState({});\r\n  const [orederpartage, P] = useState([]);\r\n  const [orederepartir, setorederepartir] = useState([]);\r\n \r\n\r\n  const [getclient, setclient] = useState(0);\r\n\r\n  const onKeyPress = (button) => {\r\n \r\n    if (button == \"{bksp}\") {\r\n      setkeyborad(getkeyborad.slice(0, -1));\r\n      setAmount(Number(amount.toString().slice(0, -1)));\r\n    }\r\n  };\r\n  const keyboard = useRef();\r\n  const [myLayout, setLayout] = useState([\r\n    \"9 8 7\",\r\n    \"6 5 4\",\r\n    \"3 2 1\",\r\n    \"0 , {bksp}\",\r\n  ]);\r\n  const onChange = (input) => {\r\n   \r\n    let i = 0;\r\n    for (let index = 0; index < input.length; index++) {\r\n      const element = input[index];\r\n      if (element == \",\") {\r\n        i++;\r\n        if (i >= 2) {\r\n          break;\r\n        }\r\n      } else if (index == 0 && element == \",\") {\r\n        i = 2;\r\n        break;\r\n      }\r\n    }\r\n    function numberFromLocaleString(stringValue, locale) {\r\n      var parts = Number(1111.11)\r\n        .toLocaleString(locale)\r\n        .replace(/\\d+/g, \"\")\r\n        .split(\"\");\r\n      if (stringValue === null) return null;\r\n      if (parts.length == 1) {\r\n        parts.unshift(\"\");\r\n      }\r\n      setkeyborad(\r\n        Number(\r\n          String(stringValue)\r\n            .replace(new RegExp(parts[0].replace(/\\s/g, \" \"), \"g\"), \"\")\r\n            .replace(parts[1], \".\")\r\n        ).toString()\r\n      );\r\n      return Number(\r\n        String(stringValue)\r\n          .replace(new RegExp(parts[0].replace(/\\s/g, \" \"), \"g\"), \"\")\r\n          .replace(parts[1], \".\")\r\n      );\r\n    }\r\n    setInput(input);\r\n   \r\n    if (i < 2) {\r\n      setInput(input);\r\n     \r\n      if (selected == \"pay\") {\r\n        let v = numberFromLocaleString(input, \"fr\");\r\n      \r\n        setAmount(v);\r\n\r\n        /*    setkeyborad(v); */\r\n        setInput(\"\");\r\n      } else {\r\n        setNbrCouverts(input);\r\n        setInput(\"\");\r\n      }\r\n      // let newarr = [...lay];\r\n      // newarr[selected].value = Number(input);\r\n      // setlay(newarr);\r\n      setInput(\"\");\r\n    } else {\r\n      setInput(\"\");\r\n     \r\n      if (selected == \"pay\") {\r\n        setAmount(0);\r\n        keyboard.current.setInput(\"0\");\r\n\r\n        /*    setkeyborad(v); */\r\n        setInput(\"\");\r\n      } else {\r\n        setNbrCouverts(input);\r\n        setInput(\"\");\r\n      }\r\n      // let newarr = [...lay];\r\n      // newarr[selected].value = Number(input);\r\n      // setlay(newarr);\r\n      setInput(\"\");\r\n    }\r\n  };\r\n  const handleClose = () => setShow(false);\r\n  const handleShow = () => setShow(true);\r\n  // let tax = (thisOrder.taxPrice * thisOrder.totalPrice) / 100;\r\n  const partageorder = [];\r\n  let tvas = 0;\r\n  let is_alcool = false;\r\n  let test = thisOrder.orderItems;\r\n  thisOrder.orderItems.forEach((element) => {\r\n    if (element.tva == 20) {\r\n      is_alcool = true;\r\n    }\r\n  });\r\n  if (is_alcool == true) {\r\n    tvas = 20;\r\n  } else {\r\n    switch (thisOrder.orderType) {\r\n      case \"sur place\":\r\n        tvas = 10;\r\n        break;\r\n      case \"emporter\":\r\n        tvas = 5.5;\r\n        break;\r\n      case \"livraison\":\r\n        tvas = 5.5;\r\n        break;\r\n      default:\r\n        tvas = 10;\r\n        break;\r\n    }\r\n  }\r\n  ////jdid////\r\n  \r\n  const handlefinish = ()=>{\r\n    setShow(false)\r\nlet nbr=orderesPartage.filter(e=>e.amount==0).length\r\ndispatch(setPartNotPaid(partNotPaid-nbr))\r\n  }\r\n  useEffect(() => {\r\n  if(type == \"partager\"){\r\n    let partageorder = []\r\n    for (let i = 1; i <= part; i++){\r\n      let ids = Math.floor((1 + Math.random()) * 0x10000)\r\n      partageorder=[...partageorder,{\r\n        ...thisOrder,\r\n        totalPrice: (thisOrder.totalPrice/part).toFixed(2),\r\n        partId : ids,\r\n        amount: (thisOrder.totalPrice/part).toFixed(2),\r\n        amountPaid: 0,\r\n        payments:[]\r\n       }]\r\n   \r\n    }\r\n    if(orderesPartage.length==0){\r\n      dispatch(setOrderPartage(partageorder))\r\n    }\r\n  }else if (type == \"repartir\"){\r\n    let items = [];\r\n    thisOrder.orderItems.map(e=>{\r\n        for(let i=1;i<=e.qt;i++){\r\n          let ids = Math.floor((1 + Math.random()) * 0x10000)\r\n          items = [...items,{...e,repatirId:ids}]\r\n        }\r\n    })\r\n    \r\n   \r\n    //////////////////////////////////////////\r\n\r\n    let repartirOrder = []\r\n    for (let i = 1; i <= part; i++){\r\n      let ids = Math.floor((1 + Math.random()) * 0x10000)\r\n      repartirOrder=[...repartirOrder,{\r\n        ...thisOrder,\r\n        totalPrice: 0,\r\n        partId : ids,\r\n        amount: 0,\r\n        amountPaid: 0,\r\n        payments:[],\r\n        orderItems:[]\r\n       }]\r\n   \r\n    }\r\n    if(orderesPartage.length==0){\r\n      repartirOrder[0]={...repartirOrder[0],orderItems:[...items],totalPrice:thisOrder.totalPrice,amount:thisOrder.totalPrice}\r\n      dispatch(setOrderPartage(repartirOrder))\r\n     \r\n    }\r\n/////////////////////////    \r\n    \r\n  }\r\n  \r\n \r\n  \r\n \r\n \r\n\r\n  \r\n  }, [])\r\n  const handleprint = (order)=>{\r\n\r\n    axios.post(\r\n      \"http://192.168.1.166:5000/api/printorder\",\r\n      {\r\n        order: {\r\n          ...order,\r\n          message: note,\r\n        },\r\n      user_id:user_id\r\n      }\r\n    )\r\n  }\r\n\r\n  useEffect(() => {\r\n    let totalamount = orderesPartage?.map(e=>Number(e.amount)).reduce((a,b)=>a+b,0)\r\n    let totalamountPaid = orderesPartage?.map(e=>Number(e.amountPaid)).reduce((a,b)=>a+b,0)\r\n if(partNotPaid==0){\r\n  axios\r\n  .post(\r\n   \"http://192.168.1.166:5000/api/finalizeorder\",\r\n    {\r\n      order: {\r\n        ...thisOrder,\r\n        message: note,\r\n        pay_method: paymentType,\r\n        amount:  totalamountPaid,\r\n        amountPaid: totalamount,\r\n      },\r\n    }\r\n  )\r\n  .then((res) => {\r\n    Swal.fire({\r\n      icon: \"success\",\r\n      title: \"Le paiement effectu avec succs\",\r\n      showConfirmButton: false,\r\n      timer: 1000,\r\n    });\r\n    handleExit()\r\n    dispatch(clearOrdersPartage())\r\n   })\r\n \r\n }\r\n  }, [partNotPaid])\r\n  \r\nconst handlePayment =()=>{\r\n\r\n  setordertopay({...oredertopay,amountPaid:oredertopay.amountPaid+amount,amount:(oredertopay.amount-amount).toFixed(2),payments:[...oredertopay.payments,{type:paymentType,value:amount}]})\r\n  dispatch(editordersPartage({...oredertopay,amountPaid:oredertopay.amountPaid+amount,amount:(oredertopay.amount-amount).toFixed(2),payments:[...oredertopay.payments,{type:paymentType,value:amount}]}))\r\n  setAmount(0)\r\n  const orderToPrint ={\r\n    ...oredertopay,\r\n    amountPaid:oredertopay.amountPaid+amount,\r\n    amount:oredertopay.amount-amount,\r\n    payments:[...oredertopay.payments,{type:paymentType,value:amount}],\r\n    nbrCouverts: nbrCouverts,\r\n    message: note,\r\n    pay_method: paymentType,\r\n  }\r\n  if(orderToPrint.amount<=orderToPrint.amountPaid){\r\n    let newPayment = orderToPrint.payments.map(e=>{\r\n       return {amount: e.value,pay_method:e.type}\r\n       \r\n    })\r\n\r\n  setShowPay(false)\r\n    axios\r\n        .post(\r\n          \"http://192.168.1.166:5000/api/printFinalOrder\",\r\n          {\r\n            user_id: user_id,\r\n            order: {...orderToPrint,payments:newPayment},\r\n            type: \"payertout\",\r\n          }\r\n        ).catch((err) => console.log(err));\r\n\r\n  }\r\n  \r\n}\r\n\r\n\r\n  //////////////////////////////////\r\n\r\n  // useEffect(() => {\r\n   \r\n  //   if (type == \"partager\" || \"repartir\") {\r\n  //     let newOrders = [];\r\n  //     var i = 0;\r\n  //     var t = [];\r\n  //     thisOrder?.orderItems?.forEach((element) => {\r\n  //       const newObj = Object.assign({ ids: i }, element);\r\n      \r\n  //       t.push(newObj);\r\n  //       i++;\r\n  //     });\r\n     \r\n  //     let listData = [t];\r\n     \r\n  //     let vs = [];\r\n  //     var ids;\r\n  //     for (let i = 1; i <= part; i++) {\r\n  //       newOrders.push({\r\n  //         ...thisOrder,\r\n  //         totalPrice: thisOrder.totalPrice,\r\n  //         taxPrice: (thisOrder?.totalPrice * tvas) / 100,\r\n  //         part: part,\r\n  //         type: type,\r\n  //         client: i,\r\n  //         ids: i,\r\n  //       });\r\n  //       if (type == \"partager\") {\r\n  //         vs.push(\r\n  //           (thisOrder.totalPrice + (thisOrder?.totalPrice * tvas) / 100) / part\r\n  //         );\r\n  //       }\r\n  //     }\r\n  //     localStorage.setItem(\"partageorder\", partageorder);\r\n  //     P(vs);\r\n\r\n  //     for (let i = 1; i < part; i++) {\r\n  //       listData = [...listData, []];\r\n  //     }\r\n  //     setList(listData);\r\n  \r\n  //     settheseOrders(newOrders);\r\n   \r\n  //   }\r\n  // }, []);\r\n  const user_id = localStorage.getItem(\"user_id\");\r\n\r\n  const handleExit = () => {\r\n    \r\n\r\n    // theseOrders.map((lot) => {\r\n     \r\n\r\n    //   axios\r\n    //     .post(\r\n    //       process.env.REACT_APP_API_HOST +\r\n    //         \":\" +\r\n    //         process.env.REACT_APP_API_PORT +\r\n    //         \"/api/printFinalOrder\",\r\n    //       {\r\n    //         user_id: user_id,\r\n    //         order: {\r\n    //           ...lot,\r\n    //           tvas: tvas,\r\n    //           nbrCouverts: lot.nbrCouverts,\r\n    //           table_number: lot.table || \"\",\r\n    //           order_id: lot.order_id,\r\n    //           Date: new Date(),\r\n    //           amount:\r\n    //             amount > lot?.totalPrice + (lot?.totalPrice * tvas) / 100\r\n    //               ? lot?.totalPrice +\r\n    //                 ((lot?.totalPrice * tvas) / 100).toFixed(2) -\r\n    //                 amountPaid\r\n    //               : amount - amountPaid,\r\n    //           amountPaid: amount,\r\n    //           paymentType: paymentType,\r\n    //           numbrpayment: payments[lot.client - 1],\r\n    //         },\r\n    //         type: type,\r\n    //         part: part,\r\n    //         pricepart: lot.pricepart,\r\n    //       }\r\n    //     )\r\n    //     .then((res) => {})\r\n    //     .catch((err) => console.log(err));\r\n    //   setShowPay(false);\r\n    // });\r\n    navigate(\"/main\");\r\n    dispatch(deletecheckoutData({ order_id: table_id }));\r\n  };\r\n\r\n  const handleFinal = (arryofswitch, client) => {\r\n    \r\n\r\n    axios\r\n      .post(\r\n        \"http://192.168.1.166:5000/api/finalizeorder\",\r\n        {\r\n          order: {\r\n            ...thisOrder,\r\n            message: note,\r\n            pay_method: paymentType,\r\n            amount: amount,\r\n            amountPaid: amountPaid,\r\n          },\r\n        }\r\n      )\r\n      .then((res) => {\r\n        \r\n        axios\r\n        .post(\r\n          \"http://192.168.1.166:5000/api/printFinalOrder\",\r\n          {\r\n            user_id: user_id,\r\n            order: {\r\n              ...thisOrder,\r\n            nbrCouverts: nbrCouverts,\r\n            message: note,\r\n            pay_method: paymentType,\r\n            amount: amount/part,\r\n            amountPaid: amountPaid,\r\n            totalPrice:thisOrder.totalPrice/part\r\n            },\r\n            type: type,\r\n            part: part,\r\n            pricepart: thisOrder.totalPrice/part,\r\n          }\r\n        )\r\n        .then((res) => {})\r\n        .catch((err) => console.log(err));\r\n        setamountPaid(0);\r\n        setShowPay(true);\r\n\r\n        for (let index = 0; index <= part - 1; index++) {\r\n          if (payments.length == 0) {\r\n            let ts = [];\r\n            for (let i = 0; i <= part - 1; i++) {\r\n              ts.push([]);\r\n            }\r\n          \r\n            if (index == oredertopay.client - 1) {\r\n              ts[index] = [{ type: paymentType, value: amount }];\r\n              setpayments(ts);\r\n            }\r\n          } else {\r\n            let t = payments;\r\n            if (index == oredertopay.client - 1) {\r\n              t[index] = [...t[index], { type: paymentType, value: amount }];\r\n              setpayments(t);\r\n            }\r\n          }\r\n        }\r\n       \r\n\r\n        const isAllZero = arryofswitch.every((item) => item === 0);\r\n        if (arryofswitch[client] == 0) {\r\n          setShowPay(false);\r\n        } else {\r\n          console.log(\"not paid yet\");\r\n        }\r\n        if (isAllZero) {\r\n          handleExit();\r\n        }\r\n        /*  if (amountPaid >= thisOrder.totalPrice + thisOrder.taxPrice) {\r\n          handleExit();\r\n        } */\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n  const renderHTML = (rawHTML: string) =>\r\n    React.createElement(\"div\", {\r\n      dangerouslySetInnerHTML: { __html: rawHTML },\r\n    });\r\n  const currency = localStorage.getItem(\"currency\");\r\n\r\n  const { t } = useTranslation();\r\n  const handleFinalize = () => {\r\n    axios\r\n      .post(\r\n        \"http://192.168.1.166:5000/api/finalizeorder\",\r\n        {\r\n          order: thisOrder,\r\n        }\r\n      )\r\n      .then((res) => {\r\n       \r\n        dispatch(deletecheckoutData({ table_id: table_id }));\r\n        navigate(\"/main\");\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  //DRAG /////////////////////\r\n\r\n  const reorder = (list, startIndex, endIndex) => {\r\n    const result = Array.from(list);\r\n    const [removed] = result.splice(startIndex, 1);\r\n    result.splice(endIndex, 0, removed);\r\n\r\n    return result;\r\n  };\r\n  \r\n  const move = (source, destination, droppableSource, droppableDestination) => {\r\n    const sourceClone = Array.from(source);\r\n    const destClone = Array.from(destination);\r\n    const [removed] = sourceClone.splice(droppableSource.index, 1);\r\n\r\n    destClone.splice(droppableDestination.index, 0, removed);\r\n\r\n    const result = {};\r\n\r\n    result[droppableSource.droppableId] = sourceClone;\r\n    result[droppableDestination.droppableId] = destClone;\r\n    return result;\r\n  };\r\n\r\n  const grid = 8;\r\n\r\n  const getItemStyle = (isDragging, draggableStyle) => ({\r\n    // some basic styles to make the items look a bit nicer\r\n    userSelect: \"none\",\r\n    padding: grid * 2,\r\n    margin: `0 0 ${grid}px 0`,\r\n\r\n    // change background colour if dragging\r\n    background: isDragging ? \"lightgreen\" : \"grey\",\r\n\r\n    // styles we need to apply on draggables\r\n    ...draggableStyle,\r\n  });\r\n  const getListStyle = (isDraggingOver) => ({\r\n    background: isDraggingOver ? \"lightblue\" : \"lightgrey\",\r\n    padding: grid,\r\n    width: 250,\r\n  });\r\n\r\n  function onDragEnd(result) {\r\n   \r\n     dispatch(updateReapartirItems(result))\r\n    // dropped outside the list\r\n    \r\n  }\r\n\r\n  // const handleRepart = () => {\r\n  //   let copy = theseOrders.map((order, key) => ({\r\n  //     ...order,\r\n  //     orderItems: [...list[key]],\r\n  //   }));\r\n\r\n  //   var repatir = [];\r\n  //   var tax = [];\r\n  //   var sums = [];\r\n  //   for (let indexs = 0; indexs < copy.length; indexs++) {\r\n  //     const element = copy[indexs];\r\n     \r\n  //     let sum = 0;\r\n  //     let sum2 = 0;\r\n  //     let tva = 0;\r\n  //     for (let index1 = 0; index1 < element.orderItems.length; index1++) {\r\n  //       const element1 = element.orderItems[index1];\r\n  //       sum = sum + element1.price + (element1.tva / 100) * element1.price;\r\n  //       sum2 = sum2 + element1.price;\r\n  //       tva = tva + (element1.tva / 100) * element1.price;\r\n  //     }\r\n  //     repatir.push(sum);\r\n  //     tax.push(tva);\r\n  //     sums.push(sum2);\r\n  //   }\r\n\r\n  //   P(repatir);\r\n   \r\n  //   var y = [];\r\n  //   for (let index = 0; index < repatir.length; index++) {\r\n  //     const element = repatir[index];\r\n  //     const newObj = Object.assign({ pricepart: element }, copy[index]);\r\n  //     newObj.totalPrice = sums[index];\r\n  //     newObj.taxPrice = tax[index];\r\n  //     y.push(newObj);\r\n  //   }\r\n  //   settheseOrders(y);\r\n\r\n  //   handleClose();\r\n  //   setPing(!ping);\r\n  // };\r\n  return (\r\n    <div\r\n      style={{\r\n        backgroundColor: \"white\",\r\n        width: \"100%\",\r\n        // height: \"100vh\",\r\n      }}\r\n    >\r\n      <Navbar\r\n        variant=\"warning\"\r\n        style={{ backgroundColor: \"#ff6b6b\", height: \"70px\" }}\r\n      >\r\n        <Container>\r\n          <Navbar.Brand>\r\n            <div class=\"logo-container\">\r\n              <img id=\"chrome\" class=\"logo\" src={logo} />\r\n            </div>\r\n          </Navbar.Brand>\r\n          <Nav className=\"ms-auto\">\r\n            <Nav.Link onClick={() => {navigate(\"/main\");dispatch(clearOrdersPartage())}}>\r\n              <img width=\"45px\" src={tableIcon} />\r\n            </Nav.Link>\r\n            <Nav.Link>\r\n              <h6\r\n                style={{ color: \"white\", paddingTop: \"1rem\" }}\r\n                className=\"checkout-2-agenda\"\r\n              >\r\n                <FontAwesomeIcon\r\n                  icon={faCalendarAlt}\r\n                  style={{ marginRight: \"5px\" }}\r\n                />\r\n                Agenda\r\n              </h6>\r\n            </Nav.Link>\r\n            {!check&&type==\"repartir\"?<Nav.Link>\r\n              <h6\r\n                style={{ color: \"white\", paddingTop: \"1rem\" }}\r\n                className=\"checkout-2-agenda\"\r\n                onClick={()=>setShow(true)}\r\n              >\r\n                <FontAwesomeIcon\r\n                  icon={faEdit}\r\n                  style={{ marginRight: \"5px\" }}\r\n                />\r\n                Repartir\r\n              </h6>\r\n            </Nav.Link>:''}\r\n            \r\n            <Nav.Link onClick={() => navigate(\"/cloture\")}>\r\n              <h6\r\n                style={{ color: \"white\", paddingTop: \"1rem\" }}\r\n                className=\"checkout-2-chasier\"\r\n              >\r\n                <FontAwesomeIcon\r\n                  icon={faCashRegister}\r\n                  style={{ marginRight: \"5px\" }}\r\n                />\r\n                {t(\"cashier\")}\r\n              </h6>\r\n            </Nav.Link>\r\n          </Nav>\r\n          <h6\r\n            className=\"checkout-2-server\"\r\n            style={{\r\n              color: \"white\",\r\n              marginLeft: \"1rem\",\r\n              marginTop: \"0.5rem\",\r\n              borderLeft: \"1px solid white\",\r\n              padding: \"5px\",\r\n            }}\r\n          >\r\n            <img\r\n              src={serveur}\r\n              width={32}\r\n              height={32}\r\n              style={{ marginRight: \"0.5rem\" }}\r\n            />\r\n            <b>{username}</b>\r\n            {/* <FontAwesomeIcon\r\n              onClick={() => handleDisconnect()}\r\n              size=\"2x\"\r\n              icon={faSignOutAlt}\r\n              style={{ marginLeft: \"0.5rem\", paddingTop: \"0.5rem\" }}\r\n            /> */}\r\n          </h6>\r\n        </Container>\r\n      </Navbar>\r\n      <Modal show={show} onHide={() => setShow(false)}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Repartir</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <div style={{ display: \"flex\" }}>\r\n            <DragDropContext onDragEnd={onDragEnd}>\r\n              {orderesPartage?.map((el, ind) => (\r\n                <Droppable key={ind} droppableId={ind?.toString()}>\r\n                  {(provided, snapshot) => (\r\n                    <div\r\n                      ref={provided.innerRef}\r\n                      style={getListStyle(snapshot.isDraggingOver)}\r\n                      {...provided.droppableProps}\r\n                    >\r\n                      <h6>{`personne ${ind + 1}`}</h6>\r\n                      {el.orderItems.map((item, index) => (\r\n                        <Draggable\r\n                          key={item.repatirId}\r\n                          draggableId={item.repatirId?.toString()}\r\n                          index={index}\r\n                        >\r\n                          {(provided, snapshot) => (\r\n                            <div\r\n                              ref={provided.innerRef}\r\n                              {...provided.draggableProps}\r\n                              {...provided.dragHandleProps}\r\n                              style={getItemStyle(\r\n                                snapshot.isDragging,\r\n                                provided.draggableProps.style\r\n                              )}\r\n                            >\r\n                              <div\r\n                                style={{\r\n                                  display: \"flex\",\r\n                                  justifyContent: \"space-around\",\r\n                                }}\r\n                              >\r\n                                {item.name}\r\n                              </div>\r\n                            </div>\r\n                          )}\r\n                        </Draggable>\r\n                      ))}\r\n                      {provided.placeholder}\r\n                    </div>\r\n                  )}\r\n                </Droppable>\r\n              ))}\r\n            </DragDropContext>\r\n          </div>\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"primary\"  onClick={()=>handlefinish()} >\r\n            Terminer\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n      <div className=\"co2\">\r\n        {orderesPartage?.map((order) =>\r\n     <div className=\"checkout2\">\r\n     <Ticket order={order} ping={ping} />\r\n     {order.amount>order.amountPaid?\r\n     <Button\r\n       variant=\"success\"\r\n       className=\"c2btn\"\r\n       onClick={() => {\r\n         setordertopay(order);\r\n         setShowPay(true);\r\n        \r\n        \r\n       }}\r\n     >\r\n       Impay\r\n     </Button>:\r\n     <Button\r\n       variant=\"disabled\"\r\n       className=\"c2btn\"\r\n     \r\n     >\r\n       Paye\r\n     </Button>\r\n    \r\n      }\r\n       <Button onClick={()=>handleprint(order)}\r\n       variant=\"primary\"\r\n       className=\"c2btn\"\r\n     \r\n     >\r\n       imprimer\r\n     </Button>\r\n     \r\n   </div>\r\n           \r\n          // ) : (\r\n          //   <div className=\"checkout2\">\r\n          //     <Ticket order={order} ping={ping} />\r\n          //     <Button\r\n          //       variant=\"outlined\"\r\n          //       color=\"error\"\r\n          //       className=\"c2btn\"\r\n          //       startIcon={<FcPaid />}\r\n          //       Disabled\r\n          //     >\r\n          //       pay\r\n          //     </Button>\r\n          //   </div>\r\n          \r\n        )}\r\n      </div>\r\n      {/* <Button variant=\"success\" onClick={() => handleFinalize()}>\r\n        Finaliser\r\n      </Button> */}\r\n      {/* /////ShowPayModal////// */}\r\n      <Modal show={showPay} onHide={() => setShowPay(false)}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>finaliser Commande</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <Row>\r\n            <Col xs=\"5\">\r\n              <Form onSubmit={(e) => e.preventDefault()}>\r\n                <Form.Label>Paiement Reu</Form.Label>\r\n                <Form.Control\r\n                  type=\"number\"\r\n                  placeholder=\"0.00\"\r\n                  value={oredertopay.amountPaid}\r\n                  // onChange={(e) => {setAmount(e.target.value)}}\r\n                />\r\n              </Form>\r\n              <h6 style={{ marginTop: \"1rem\" }}>Monnaie</h6>\r\n              <h4 style={{ color: \"red\" }}>\r\n                <b>\r\n                  {oredertopay.amount}\r\n               \r\n                </b>\r\n              </h4>\r\n              <Form.Group\r\n                style={{ marginTop: \"2rem\" }}\r\n                className=\"mb-3\"\r\n                controlId=\"exampleForm.ControlTextarea1\"\r\n              >\r\n                <Form.Label>\r\n                  {\" \"}\r\n                  <b>Details de paiement</b>{\" \"}\r\n                </Form.Label>\r\n                <div style={{ height: \"150px\", overflow: \"auto\" }}>\r\n                  {oredertopay?.payments?.map((e) => (\r\n                    <div\r\n                      style={{\r\n                        display: \"flex\",\r\n                        justifyContent: \"space-between\",\r\n                      }}\r\n                    >\r\n                      <h5>{e.type}</h5>\r\n                      <h5>{e.value}</h5>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </Form.Group>\r\n            </Col>\r\n            <Col xs=\"5\">\r\n              <Form onSubmit={(e) => e.preventDefault()}>\r\n                <Form.Group className=\"mb-3\" controlId=\"formBasicPassword\">\r\n                  <Form.Label>Paiement total</Form.Label>\r\n                  <Form.Control\r\n                    type=\"number\"\r\n                    placeholder=\"0.00\"\r\n                    value={\r\n                      oredertopay.totalPrice\r\n                    }\r\n                  />\r\n                </Form.Group>\r\n                <Form.Group className=\"mb-3\" controlId=\"formBasicPassword\">\r\n                  <Form.Label>Methode de paiement</Form.Label>\r\n                  <Form.Select\r\n                    aria-label=\"Default select example\"\r\n                    onChange={(e) => setpaymentType(e.target.value)}\r\n                  >\r\n                    <option value=\"espece\">Especes</option>\r\n                    <option value=\"carte bleu\">Carte bleu</option>\r\n                    <option value=\"ticket restaurant\">Ticket restaurant</option>\r\n                    <option value=\"cheque\">Cheque</option>\r\n\r\n                    <option value=\"Glovo\">Glovo</option>\r\n                    <option value=\"Just-Eat\">Just-Eat</option>\r\n                    <option value=\"Deliveroo\">Deliveroo</option>\r\n                    <option value=\"Uber Eats\">Uber Eats</option>\r\n                  </Form.Select>\r\n                </Form.Group>\r\n              </Form>\r\n              <Form.Group className=\"mb-3\" controlId=\"formBasicPassword\">\r\n                <Form.Label>\r\n                  <b>Total</b>\r\n                </Form.Label>\r\n                <Form.Control\r\n                  \r\n                  type=\"number\"\r\n                  placeholder=\"0.00\"\r\n                  value={amount}\r\n                  onChange={(e)=>setAmount(Number(e.target.value))}\r\n                />\r\n              </Form.Group>\r\n              <Keyboard\r\n                theme={\"hg-theme-default hg-layout-default myTheme5\"}\r\n                display={{\r\n                  \"{bksp}\": \"EFFACER\",\r\n                }}\r\n                buttonTheme={[\r\n                  {\r\n                    class: \"key_btn3\",\r\n                    buttons: \"0 1 2 3 4 5 6 7 8 9 , {bksp} {enter}\",\r\n                  },\r\n                  {\r\n                    class: \"hg-highlight\",\r\n                    buttons: \"Q q\",\r\n                  },\r\n                ]}\r\n                keyboardRef={(r) => (keyboard.current = r)}\r\n                layoutName={\"default\"}\r\n                layout={{\r\n                  default: myLayout,\r\n                }}\r\n                onChange={onChange}\r\n                onKeyPress={onKeyPress}\r\n              />\r\n            </Col>\r\n\r\n            <Col xs=\"2\">\r\n              <h4>Cash</h4>\r\n              <Button\r\n                style={{\r\n                  display: \"flex\",\r\n                  width: \"100%\",\r\n                  textAlign: \"center\",\r\n                  marginBottom: \"0.5rem\",\r\n                  paddingLeft: \"2rem\",\r\n                }}\r\n                onClick={() => {\r\n                  setAmount(amount + 0.5);\r\n                  setkeyborad((amount + 0.5).toString());\r\n                }}\r\n              >\r\n                0.5 {renderHTML(`<i>${currency}</i>`)}\r\n              </Button>\r\n              <Button\r\n                style={{\r\n                  display: \"flex\",\r\n                  width: \"100%\",\r\n                  textAlign: \"center\",\r\n                  marginBottom: \"0.5rem\",\r\n                  paddingLeft: \"2rem\",\r\n                }}\r\n                onClick={() => {\r\n                  setAmount(amount + 1);\r\n                  setkeyborad((amount + 1).toString());\r\n                }}\r\n              >\r\n                1 {renderHTML(`<i>${currency}</i>`)}\r\n              </Button>\r\n              <Button\r\n                style={{\r\n                  display: \"flex\",\r\n                  width: \"100%\",\r\n                  textAlign: \"center\",\r\n                  marginBottom: \"0.5rem\",\r\n                  paddingLeft: \"2rem\",\r\n                }}\r\n                onClick={() => {\r\n                  setAmount(amount + 2);\r\n                  setkeyborad((amount + 2).toString());\r\n                }}\r\n              >\r\n                2 {renderHTML(`<i>${currency}</i>`)}\r\n              </Button>\r\n              <Button\r\n                style={{\r\n                  display: \"flex\",\r\n                  width: \"100%\",\r\n                  textAlign: \"center\",\r\n                  marginBottom: \"0.5rem\",\r\n                  paddingLeft: \"2rem\",\r\n                }}\r\n                onClick={() => {\r\n                  setAmount(amount + 5);\r\n                  setkeyborad((amount + 5).toString());\r\n                }}\r\n              >\r\n                5 {renderHTML(`<i>${currency}</i>`)}\r\n              </Button>\r\n              <Button\r\n                style={{\r\n                  display: \"flex\",\r\n                  width: \"100%\",\r\n                  textAlign: \"center\",\r\n                  marginBottom: \"0.5rem\",\r\n                  paddingLeft: \"2rem\",\r\n                }}\r\n                onClick={() => {\r\n                  setAmount(amount + 10);\r\n                  setkeyborad((amount + 10).toString());\r\n                }}\r\n              >\r\n                10 {renderHTML(`<i>${currency}</i>`)}\r\n              </Button>\r\n              <Button\r\n                style={{\r\n                  display: \"flex\",\r\n                  width: \"100%\",\r\n                  textAlign: \"center\",\r\n                  marginBottom: \"0.5rem\",\r\n                  paddingLeft: \"2rem\",\r\n                }}\r\n                onClick={() => {\r\n                  setAmount(amount + 20);\r\n                  setkeyborad((amount + 20).toString());\r\n                }}\r\n              >\r\n                20 {renderHTML(`<i>${currency}</i>`)}\r\n              </Button>\r\n              <Button\r\n                style={{\r\n                  display: \"flex\",\r\n                  width: \"100%\",\r\n                  textAlign: \"center\",\r\n                  marginBottom: \"0.5rem\",\r\n                  paddingLeft: \"2rem\",\r\n                }}\r\n                onClick={() => {\r\n                  setAmount(amount + 50);\r\n                  setkeyborad((amount + 50).toString());\r\n                }}\r\n              >\r\n                50 {renderHTML(`<i>${currency}</i>`)}\r\n              </Button>\r\n              <Button\r\n                style={{\r\n                  display: \"flex\",\r\n                  width: \"100%\",\r\n                  textAlign: \"center\",\r\n                  marginBottom: \"0.5rem\",\r\n                  paddingLeft: \"2rem\",\r\n                }}\r\n                onClick={() => {\r\n                  setAmount(amount + 100);\r\n                  setkeyborad((amount + 100).toString());\r\n                }}\r\n              >\r\n                100 {renderHTML(`<i>${currency}</i>`)}\r\n              </Button>\r\n              <Button\r\n                  style={{\r\n                    display: \"flex\",\r\n                    width: \"100%\",\r\n                    textAlign: \"center\",\r\n                    marginBottom: \"0.5rem\",\r\n                   \r\n                  }}\r\n                  onClick={() => {\r\n                    \r\n                    setAmount(\r\n                      Number(oredertopay?.amount).toFixed(2)\r\n                    );\r\n                    // setkeyborad(((orederpartage[oredertopay.client - 1]).toFixed(2)).toString());\r\n                  }}\r\n                >\r\n                  Payer Tout\r\n                </Button>\r\n              <Button\r\n                variant=\"danger\"\r\n                style={{\r\n                  display: \"flex\",\r\n                  width: \"100%\",\r\n                  textAlign: \"center\",\r\n                  marginBottom: \"0.5rem\",\r\n                  paddingLeft: \"2rem\",\r\n                }}\r\n                onClick={() => {setAmount(0);setkeyborad((0).toString())}}\r\n              >\r\n                Effacer\r\n              </Button>\r\n            </Col>\r\n          </Row>\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"outline-secondary\" onClick={() => setShowPay(false)}>\r\n            {t(\"cancel\")}\r\n          </Button>\r\n          {!accompte ? (\r\n            <Button\r\n              variant=\"success\"\r\n              onClick={()=>handlePayment()}\r\n               \r\n            >\r\n              Valider\r\n            </Button>\r\n          ) : (\r\n            <Button\r\n              variant=\"outline-danger\"\r\n              onClick={() => {\r\n                setShowPay(false);\r\n                handleFinal();\r\n              }}\r\n            >\r\n              Accompte\r\n            </Button>\r\n          )}\r\n        </Modal.Footer>\r\n      </Modal>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CheckoutTwo;\r\n","export default __webpack_public_path__ + \"static/media/borne.aac446c5.png\";","import axios from \"axios\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { Container } from \"react-bootstrap\";\r\nimport QRCode from \"react-qr-code\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { useParams } from \"react-router\";\r\nimport aprc from \"./../Shared/aprc.png\";\r\n\r\nconst Ticket = ({ order, thisDate, ping }) => {\r\n  const address = localStorage.getItem(\"address\");\r\n  const user_id = localStorage.getItem(\"user_id\");\r\n  \r\n\r\n  const params = useParams();\r\n  const { table_id } = params;\r\n  const telephone = localStorage.getItem(\"telephone\");\r\n  const [toShowOrder, settoShowOrder] = useState(order);\r\n  console.log(\"toShowOrder\",toShowOrder)\r\n  const ordersData = useSelector((state) => state.order.checkoutData);\r\n  const currency = localStorage.getItem(\"currency\");\r\n  const [isBusy, setIsBusy] = useState(true);\r\n  const [restaurant, setrestaurant] = useState({});\r\n  const Historyannuler = useSelector((state) => state.data.orderHistory);\r\n  const annuleshistory =Historyannuler?.filter((e) => e.status == \"rejected\")\r\nconsole.log(\"annuleshistory\",annuleshistory)\r\n\r\n  // let toShowOrder = ordersData.filter((o) => o.order_id == table_id)[0] || {};\r\n\r\n  // useEffect(() => {\r\n  //   if (toShowOrder?.orderItems && toShowOrder?.orderItems.length) {\r\n  //     setIsBusy(false);\r\n  //     console.log(toShowOrder?.orderItems);\r\n  //   }\r\n  // }, [toShowOrder]);\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .post(\"http://192.168.1.166:5000/api/getRestaurantData\", { user_id })\r\n      .then((res) => {\r\n       \r\n        setrestaurant(res.data);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }, [toShowOrder]);\r\n\r\n  useEffect(() => {\r\n    settoShowOrder(order);\r\n  }, [order]);\r\n  \r\n  var groupBy = function (xs, key) {\r\n    return xs.reduce(function (rv, x) {\r\n      (rv[x[key]] = rv[x[key]] || []).push(x.value);\r\n      return rv;\r\n    }, {});\r\n  };\r\n\r\n  let tvass = groupBy(toShowOrder?.tvas || [], \"perc\");\r\n\r\n\r\n  const calcOrder = (order) => {\r\n    let price = order.price;\r\n    let tva = order.tva;\r\n    if (order.extras && order.extras.length) {\r\n    \r\n      order.extras.map((extra) => {\r\n     \r\n        price += extra.price * extra.default_quantity;\r\n      });\r\n    }\r\n    if (order.stepItems && order.stepItems != {}) {\r\n      Object.keys(order.stepItems).map((e) => {\r\n        order.stepItems[e].map((item) => {\r\n          price += item.price;\r\n         \r\n        });\r\n      });\r\n    }\r\n    return { price: price * order.qt, tva: (price * order.qt * tva) / 100 };\r\n  };\r\n\r\n  let tva = 0;\r\n  let is_alcool = false;\r\n  let test = order.orderItems;\r\n  order.orderItems?.forEach((element) => {\r\n    if (element.is_alcool == true) {\r\n      is_alcool = true;\r\n    }\r\n  });\r\n  if (is_alcool == true) {\r\n    tva = 20;\r\n  } else {\r\n    let is = order.orderType == undefined ? order.order_type : order.orderType;\r\n    switch (is) {\r\n      case \"sur place\":\r\n        tva = 10;\r\n        break;\r\n      case \"emporter\":\r\n        tva = 5.5;\r\n        break;\r\n      case \"livraison\":\r\n        tva = 5.5;\r\n        break;\r\n      default:\r\n        tva = 10;\r\n        break;\r\n    }\r\n  }\r\n  // let tax = (toShowOrder.taxPrice * calcTotal(toShowOrder?.orderItems)) / 100;\r\n\r\n  const renderHTML = (rawHTML: string) =>\r\n    React.createElement(\"div\", {\r\n      dangerouslySetInnerHTML: { __html: rawHTML },\r\n    });\r\n  // useEffect(() => {\r\n  //   if (order.part > 1) {\r\n  //     let copy = JSON.parse(JSON.stringify(order) || {});\r\n  //     copy = { ...copy };\r\n  //     settoShowOrder(copy);\r\n  //   }\r\n  // }, [ping]);\r\n  // const calctotalprice = () => {\r\n  //   let totalprice=0\r\n  //   let price=0\r\n  //   toShowOrder.orderItems.map((item, key) => (\r\n  //       price=((item.price)),\r\n  //       totalprice=price+totalprice\r\n  //   ))\r\n  //   console.log(\"totalp\",totalprice)\r\n  //   }\r\n  return (\r\n    <Container fluid>\r\n      <div className=\"ticket\">\r\n        <div className=\"ticket_container\">\r\n          <h3 style={{ marginTop: \"0.5rem\" }}>\r\n            <b>Ticket d'annulation</b>\r\n          </h3>\r\n          <p>\r\n            {restaurant.name} <br />\r\n            {address || \"\" + \"-\" + telephone || \"\"} <br />\r\n            tel: {restaurant.telephone}\r\n          </p>\r\n          <h1>\r\n            <b style={{ fontSize: \"56px\" }}>{toShowOrder?.order_id}</b>\r\n          </h1>\r\n          <div className=\"ticket_item\" style={{ flexWrap: \"wrap\" }}>\r\n            <p>Client :{toShowOrder.customer_name}</p>\r\n            <p>Type :{toShowOrder.orderType}</p>\r\n            <p>Numero :{toShowOrder.customer_tel}</p>\r\n            <p>Adresse:{toShowOrder.customer_adress}</p>\r\n          </div>\r\n          <span style={{ marginBottom: \"0.5rem\" }}>\r\n            -------------------------------------\r\n          </span>\r\n          {toShowOrder.orderItems &&\r\n            toShowOrder.orderItems.map((item, key) => (\r\n              <>\r\n                <div className=\"ticket_item\">\r\n                  <p>{key + 1 + \"-\" + item?.name}</p>\r\n                  <div\r\n                    style={{\r\n                      display: \"flex\",\r\n                      width: \"30%\",\r\n                      justifyContent: \"space-evenly\",\r\n                    }}\r\n                  >\r\n                    <p>\r\n                     \r\n                    </p>\r\n                    <p> {item?.qt == undefined ? item.quantity : item.qt + \"x\"}\r\n                      {`  ${item?.price.toFixed(2)} `}{\" \"}\r\n                      {renderHTML(`<i>${currency}</i>`)}\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n                {item?.stepItems && Object.keys(item.stepItems).length ? (\r\n                  <div\r\n                    style={{\r\n                      display: \"flex\",\r\n                      flexDirection: \"column\",\r\n                    }}\r\n                    className=\"step_item\"\r\n                  >\r\n                    {Object.keys(item.stepItems).map((key) =>\r\n                      item.stepItems[key].map((el) => (\r\n                        <span style={{ textAlign: \"start\", color: \"grey\" }}>\r\n                          -{el.name}\r\n                        </span>\r\n                      ))\r\n                    )}\r\n                  </div>\r\n                ) :item?.steps != []? (\r\n                  <div\r\n                    style={{\r\n                      display: \"flex\",\r\n                      flexDirection: \"column\",\r\n                    }}\r\n                    className=\"step_item\"\r\n                  >\r\n                    {\r\n                      item.steps?.map((el) => (\r\n                        <span style={{ textAlign: \"start\", color: \"grey\" }}>\r\n                          -{el.name}\r\n                        </span>\r\n                      ))\r\n                    }\r\n                  </div>\r\n                ): (\r\n                  \"\"\r\n                )}\r\n                {item?.extras != []\r\n                  ? item?.extras?.map((extra) =>\r\n                      extra.default_quantity > 0 ? (\r\n                        <div className=\"ticket_extra\">\r\n                          <p>+ {extra.title}</p>\r\n                          <div\r\n                            style={{\r\n                              display: \"flex\",\r\n                              width: \"30%\",\r\n                              justifyContent: \"space-evenly\",\r\n                            }}\r\n                          >\r\n                            {\" \"}\r\n                            <p>{extra.default_quantity + \"x\"}</p>\r\n                            <p>\r\n                              {`  ${extra.price.toFixed(2)} `}\r\n                              {renderHTML(`<i>${currency}</i>`)}\r\n                            </p>\r\n                          </div>\r\n                        </div>\r\n                      ) : (\r\n                        \"\"\r\n                      )\r\n                    )\r\n                  : \"\"}\r\n              </>\r\n            ))}\r\n          <span style={{ marginBottom: \"0.5rem\" }}>\r\n            -------------------------------------\r\n          </span>\r\n          <div className=\"ticket_item ticket_last\">\r\n            <p>Total HT : </p>\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                width: \"20%\",\r\n                justifyContent: \"space-evenly\",\r\n              }}\r\n            >\r\n             \r\n              <p>\r\n        \r\n                {/* {(toShowOrder?.totalPrice /(1+tva/100)).toFixed(2)} {renderHTML(`<i>${currency}</i>`)} */}\r\n              </p>\r\n            </div>\r\n          </div>\r\n          {/* {Object.keys(tvass).map((key) => (\r\n            <div className=\"ticket_item ticket_last\">\r\n              <p>TVA({key}%):</p>\r\n              <div\r\n                style={{\r\n                  display: \"flex\",\r\n                  width: \"20%\",\r\n                  justifyContent: \"space-evenly\",\r\n                }}\r\n              >\r\n                <p>\r\n                  {tvass[key].reduce((a, b) => a + b).toFixed(2)}{\" \"}\r\n                  {renderHTML(`<i>${currency}</i>`)}\r\n                </p>\r\n              </div>\r\n            </div>\r\n          ))} */}\r\n          {/* {\r\n            (\r\n            (\r\n              <div className=\"ticket_item ticket_last\">\r\n                <p>\r\n                  TVA(\r\n                  {tva}\r\n                  %):\r\n                </p>\r\n                <div\r\n                  style={{\r\n                    display: \"flex\",\r\n                    width: \"20%\",\r\n                    justifyContent: \"space-evenly\",\r\n                  }}\r\n                >\r\n                  <p>\r\n                    {((toShowOrder?.totalPrice /(1+tva/100))*tva/100).toFixed(2)}\r\n                    {renderHTML(`<i>${currency}</i>`)}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            ))\r\n          } */}\r\n          {/* <div className=\"ticket_item ticket_last\">\r\n            <p>\r\n              TVA({(toShowOrder?.taxPrice / toShowOrder?.totalPrice) * 100}%):\r\n            </p>\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                width: \"20%\",\r\n                justifyContent: \"space-evenly\",\r\n              }}\r\n            >\r\n              <p>\r\n                {toShowOrder?.taxPrice.toFixed(2)}{\" \"}\r\n                {renderHTML(`<i>${currency}</i>`)}\r\n              </p>\r\n            </div>\r\n          </div> */}\r\n          <div className=\"ticket_item ticket_last\">\r\n            <p>Total TTC : </p>\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                width: \"20%\",\r\n                justifyContent: \"space-evenly\",\r\n              }}\r\n            >\r\n              <p>\r\n                {\r\n                  toShowOrder?.totalPrice \r\n                }\r\n                {renderHTML(`<i>${currency}</i>`)}\r\n              </p>\r\n            </div>\r\n          </div>\r\n          {toShowOrder?.paymentsInDb?.length > 0 && (\r\n            <>\r\n              <span style={{ marginBottom: \"0.5rem\" }}>\r\n                -------------------------------------\r\n              </span>\r\n              {toShowOrder?.paymentsInDb?.map((one) => (\r\n                <div className=\"ticket_item ticket_last\">\r\n                  <p>Pay({one.pay_method})</p>\r\n                  <div\r\n                    style={{\r\n                      display: \"flex\",\r\n                      width: \"20%\",\r\n                      justifyContent: \"space-evenly\",\r\n                    }}\r\n                  >\r\n                    <p>\r\n                      {one.amount.toFixed(2)}\r\n                      {renderHTML(`<i>${currency}</i>`)}\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n              <div className=\"ticket_item ticket_last\">\r\n                {toShowOrder?.paymentsInDb?.reduce(\r\n                  (acc, curr) => acc + curr.amount,\r\n                  0\r\n                ) -\r\n                  (toShowOrder?.totalPrice ) >\r\n                0 ? (\r\n                  <>\r\n                    <p>Rendre monnaie</p>\r\n                    <div\r\n                      style={{\r\n                        display: \"flex\",\r\n                        width: \"20%\",\r\n                        justifyContent: \"space-evenly\",\r\n                      }}\r\n                    >\r\n                      <p>\r\n                        {(\r\n                          toShowOrder?.paymentsInDb?.reduce(\r\n                            (acc, curr) => acc + curr.amount,\r\n                            0\r\n                          ) -\r\n                          (toShowOrder?.totalPrice )\r\n                        )?.toFixed(2)}\r\n                        {renderHTML(`<i>${currency}</i>`)}\r\n                      </p>\r\n                    </div>\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    <p>Reste a payer</p>\r\n                    <div\r\n                      style={{\r\n                        display: \"flex\",\r\n                        width: \"20%\",\r\n                        justifyContent: \"space-evenly\",\r\n                      }}\r\n                    >\r\n                      <p>\r\n                        {Math.abs(\r\n                          (\r\n                            toShowOrder?.paymentsInDb?.reduce(\r\n                              (acc, curr) => acc + curr.amount,\r\n                              0\r\n                            ) -\r\n                            toShowOrder?.totalPrice \r\n                              \r\n                          ).toFixed(2)\r\n                        )}\r\n                        {renderHTML(`<i>${currency}</i>`)}\r\n                      </p>\r\n                    </div>\r\n                  </>\r\n                )}\r\n              </div>\r\n            </>\r\n          )}\r\n          <p>\r\n            <b>\r\n              {toShowOrder?.part && toShowOrder?.type == \"partager\" ? (\r\n                <p style={{ display: \"flex\" }}>\r\n                  {`Votre part pour 1/${toShowOrder?.part} personnes est : ${\r\n                    (toShowOrder?.totalPrice /toShowOrder.part\r\n                  ).toFixed(2)}\r\n              `}\r\n                  {renderHTML(`<i>${currency}</i>`)}\r\n                </p>\r\n              ) : (\r\n                \"\"\r\n              )}\r\n            </b>\r\n          </p>\r\n          <p>{thisDate}</p>\r\n          {/* <QRCode\r\n            value={toShowOrder?.order_id?.toString() || \"000\"}\r\n            size={100}\r\n          /> */}\r\n          <img\r\n            src={`https://chart.googleapis.com/chart?chs=200x200&cht=qr&chl=${toShowOrder?.order_id}&choe=UTF-8+`}\r\n            width=\"40%\"\r\n          />\r\n          <p>Scanner le numero de Commande {toShowOrder?.order_id}</p>\r\n        </div>\r\n      </div>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Ticket;\r\n","export default __webpack_public_path__ + \"static/media/updateorder.37f478bf.wav\";","export default __webpack_public_path__ + \"static/media/born-sound.8be7451a.mp3\";","import { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { Button, Col, Container, Nav, Navbar, Table } from \"react-bootstrap\";\r\nimport {\r\n \r\n  faCalendarAlt,\r\n  faCashRegister,\r\n  faCheckSquare,\r\n  \r\n  faEdit,\r\n  faGlobe,\r\n \r\n  faSignOutAlt,\r\n  faTimes,\r\n  faUtensils,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport { useNavigate, useParams } from \"react-router\";\r\nimport tableIcon from \"./../Shared/table.png\";\r\nimport useTranslation from \"./../i18\";\r\nimport NaviBottom from \"../Components/NaviBottom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport logo from \"./../Shared/logo.png\";\r\nimport serveur from \"./../Shared/serveur.png\";\r\nimport cc from \"./../Shared/cc.png\";\r\nimport delivery from \"./../Shared/delivery.png\";\r\nimport takeout from \"./../Shared/takeout.png\";\r\nimport cash from \"./../Shared/cash.jpg\";\r\nimport surplace from \"./../Shared/surplace.png\";\r\nimport borne from \"./../Shared/borne.png\";\r\nimport $ from \"jquery\";\r\nimport Ticket from \"../Components/Ticket\";\r\nimport Ticketsannuler from \"../Components/Ticketsannuler\"\r\nimport _, { now } from \"lodash\";\r\nimport { TokenExpiredError } from \"jsonwebtoken\";\r\nimport axios from \"axios\";\r\nimport { addNewcheckoutData, setCheckoutChange } from \"../Slices/order\";\r\nimport { io } from \"socket.io-client\";\r\nimport Swal from \"sweetalert2\";\r\nimport updateSound from \"../Shared/updateorder.wav\";\r\nimport bornSound from \"../Shared/born-sound.mp3\";\r\nconst socket = io.connect(process.env.REACT_APP_API_SOCKET);\r\nconst History = () => {\r\n  const [audioBorn, setaudioBorn] = useState(new Audio(bornSound));\r\n  const username = localStorage.getItem(\"username\") || \"\";\r\n  const tables = useSelector((state) => state.data.tables);\r\n  const [showPreview, setShowPreview] = useState(false);\r\n  const [selectedOrder, setSelectedOrder] = useState({});\r\n  console.log(\"selectedOrder\",selectedOrder)\r\n  const tva_mode = useSelector((state) => state.data.tva_mode);\r\n  const [tichetannu, settichetannu] = useState(0)\r\n  console.log(\"tichetannu\",tichetannu)\r\n  const [rab_tva, setRab_tva] = useState(0);\r\n  const [newOrders, setnewOrders] = useState([]);\r\n  const user_id = localStorage.getItem(\"user_id\");\r\n  var curr = new Date();\r\n  var date = curr.toISOString().substring(0, 10);\r\n  var time = curr.getHours() + \":\" + curr.getMinutes();\r\n  console.log(date, time);\r\n  const dispatch = useDispatch();\r\n\r\n  var myTime = curr.getTime();\r\n  console.log(myTime);\r\n\r\n  const params = useParams();\r\n  const { type } = params;\r\n  const { t } = useTranslation();\r\n  const navigate = useNavigate();\r\n  const orders = useSelector((state) => state.data.orderHistory) || [];\r\n\r\n  \r\n  let checkoutData = useSelector((state) => state.order.checkoutData);\r\n  /**\r\n   * @typedef {string} string\r\n   */\r\n\r\n  console.log(\"za\",checkoutData);\r\n  const renderHTML = (rawHTML: string) =>\r\n    React.createElement(\"div\", {\r\n      dangerouslySetInnerHTML: { __html: rawHTML },\r\n    });\r\n  const currency = localStorage.getItem(\"currency\");\r\n\r\n  const table = ({ e }) => {\r\n    console.log(e);\r\n    return tables.find((table) => table.id == e);\r\n  };\r\n  \r\n  const handleDisconnect = () => {\r\n    localStorage.removeItem(\"user\");\r\n    localStorage.removeItem(\"username\");\r\n    navigate(\"/\");\r\n  };\r\n\r\n  const handleEditOrder = (id) => {\r\n    navigate(\"/menu/\" + id);\r\n  };\r\n  const handlePreview = ({ order }) => {\r\n    let toOrder = _.clone(order);\r\n    toOrder = {\r\n      ...toOrder,\r\n      order_id: toOrder.id,\r\n      taxPrice: toOrder.tva,\r\n      totalPrice: toOrder.price,\r\n    };\r\n    toOrder.orderItems = toOrder.orderItems.map((item) => ({\r\n      ...item,\r\n      qt: item.quantity,\r\n    }));\r\n\r\n    setSelectedOrder(toOrder);\r\n    setShowPreview(true);\r\n  };\r\n\r\n  const handlePreviewannuler = ({ order }) => {\r\n    let toOrder = _.clone(order);\r\n    toOrder = {\r\n      ...toOrder,\r\n      // order_id: toOrder.id,\r\n      // taxPrice: toOrder.tva,\r\n      // totalPrice: toOrder.price,\r\n    };\r\n    toOrder.orderItems = toOrder.orderItems.map((item) => ({\r\n      ...item,\r\n      // qt: item.quantity,\r\n    }));\r\n\r\n    setSelectedOrder(toOrder);\r\n    setShowPreview(true);\r\n  };\r\n\r\n\r\n\r\n\r\n\r\n  \r\n  var groupBy = function (xs, key) {\r\n    return xs?.reduce(function (rv, x) {\r\n      (rv[x[key]] = rv[x[key]] || []).push(x.value);\r\n      return rv;\r\n    }, {});\r\n  };\r\n\r\n  // const calcOrder = (order) => {\r\n  //   let price = order.price;\r\n  //   let tva = order.tva;\r\n  //   if (\r\n  //     selectedOrder.order_type == \"sur place\" ||\r\n  //     selectedOrder.order_type == \"livraison\"\r\n  //   ) {\r\n  //     tva = tva_mode.find((e) => e.nom == \"sur place\").valeur;\r\n  //   } else if (selectedOrder.order_type == \"emporter\") {\r\n  //     tva = tva_mode.find((e) => e.nom == \"emporter\").valeur;\r\n  //   }\r\n  //   if (rab_tva > 0) {\r\n  //     tva = rab_tva;\r\n  //   }\r\n  //   if (order.extras && order.extras.length) {\r\n  //     console.log(\"has extra\");\r\n  //     order.extras.map((extra) => {\r\n  //       console.log(extra.price, extra.default_quantity);\r\n  //       price += extra.price * extra.default_quantity;\r\n  //     });\r\n  //   }\r\n  //   if (order.stepItems && order.stepItems != {}) {\r\n  //     Object.keys(order.stepItems).map((e) => {\r\n  //       order.stepItems[e].map((item) => {\r\n  //         price += item.price;\r\n  //       });\r\n  //     });\r\n  //   }\r\n\r\n  //   if (order.offert == true) {\r\n  //     return 0;\r\n  //   } else\r\n  //     return {\r\n  //       dbPrice: price,\r\n  //       price: price * order.qt,\r\n  //       tva: (price * order.qt * tva) / 100,\r\n  //       item_tva: tva,\r\n  //     };\r\n  // };\r\n\r\n  let b = [];\r\n  useEffect(() => {\r\n    let copy = _.clone(selectedOrder?.orderItems || [{}]);\r\n    console.log(\"salaaam\", copy);\r\n    setnewOrders(copy);\r\n    selectedOrder.orderItems?.map((order) => {\r\n      if (order.is_alcool == true) {\r\n        let tva_alcool = tva_mode.find((e) => e.nom == \"alcool\").valeur;\r\n        console.log(tva_alcool);\r\n        setRab_tva(tva_alcool);\r\n      }\r\n    });\r\n  }, [selectedOrder]);\r\n  const calcTotal = () => {\r\n    let tot = 0;\r\n    let tva = 0;\r\n    let tvas = [];\r\n    newOrders.map((order) => {\r\n      tot += order.price;\r\n      tva += order.tva;\r\n      tvas.push({\r\n        value: order.tva,\r\n        perc: (order.tva / order.price) * 100,\r\n      });\r\n    });\r\n    return { tot, tva, tvas };\r\n  };\r\n\r\n  const handlePrint = () => {\r\n    setShowPreview(false);\r\n    let order = {\r\n      from_kiosk:false,\r\n      table: selectedOrder?.table_number || \"\",\r\n      client_id: selectedOrder?.customer_id || 0,\r\n      order_id: selectedOrder.id,\r\n      message: selectedOrder.message || \"aucune\",\r\n      customer_name: selectedOrder?.customer_name || \"\",\r\n      customer_company: selectedOrder?.customer_company || \"\",\r\n      code1: selectedOrder?.code1 || \"\",\r\n      code2: selectedOrder?.code2 || \"\",\r\n      interphone: selectedOrder?.interphone || \"\",\r\n      etage: selectedOrder?.etage || \"\",\r\n      table_number: selectedOrder?.table_number || 0,\r\n      customer_tel: selectedOrder?.customer_tel || \"\",\r\n      customer_adress: selectedOrder?.customer_adress,\r\n      status: selectedOrder?.status,\r\n      orderType: selectedOrder?.order_type,\r\n      paymentType: selectedOrder?.pay_method,\r\n      totalPrice: selectedOrder?.price,\r\n      taxPrice: selectedOrder?.tva,\r\n      tvas: calcTotal().tvas,\r\n      orderItems: [],\r\n      date: selectedOrder?.date,\r\n      time: selectedOrder?.time,\r\n    };\r\n    console.log(calcTotal().tvas);\r\n    newOrders.map((one) => {\r\n      order.orderItems.push({\r\n        ...one,\r\n        price: one.price,\r\n        tva: one.tva,\r\n      });\r\n    });\r\n\r\n    axios\r\n      .post(\r\n        \"http://192.168.1.166:5000/api/printOrder\",\r\n        {\r\n          kitchen: false,\r\n          user_id: user_id,\r\n          order: {\r\n            new: false,\r\n            ...order,\r\n            tvas: groupBy(calcTotal().tvas, \"perc\"),\r\n            Date: new Date(),\r\n            nbrCouverts: 1,\r\n          },\r\n        }\r\n      )\r\n      .then((res) => console.log(res.data))\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n  //kitchen update order\r\n\r\n  const [soundUpdate, setSoundUpdate] = useState(new Audio(updateSound));\r\n  \r\n  // useEffect(() => {\r\n    \r\n  //   socket.on(`ping${user_id}`, (data) => {\r\n  // console.log(\"data\",data)\r\n  //     audioBorn.play()\r\n  //     Swal.fire({\r\n  //       icon: \"success\",\r\n  //       title: \r\n  //       \"<h5 >\" +\r\n  //       `Une commande a et ajouter ` +\r\n  //       \"</h5>\",\r\n  //       showConfirmButton: false,\r\n  //       timer: 2500,\r\n  //     });\r\n  // })\r\n  //   socket.on(`ping${user_id}`, (order) => {\r\n  //    console.log(\"zezea\",order)\r\n  //     soundUpdate.play()\r\n  //     dispatch(setCheckoutChange({order:order}))\r\n  //     if(order.status==\"cooking\"){\r\n  //       Swal.fire({\r\n  //         icon: \"success\",\r\n  //         title: \r\n  //         \"<h5 >\" +\r\n  //         `La commande <span style='color:green'>${order.order_id}</span> en prparation` +\r\n  //         \"</h5>\",\r\n          \r\n  //         showConfirmButton: false,\r\n  //         timer: 2500,\r\n  //       });\r\n  //     } else {\r\n  //       Swal.fire({\r\n  //         icon: \"success\",\r\n  //         title: \r\n  //         \"<h5 >\" +\r\n  //         `La commande <span style='color:green'>${order.order_id}</span> a t prte` +\r\n  //         \"</h5>\",\r\n  //         showConfirmButton: false,\r\n  //         timer: 2500,\r\n  //       });\r\n        \r\n  //     }\r\n      \r\n    \r\n  //   })\r\n  \r\n  //  console.log(\"orders\",checkoutData)\r\n  // }, [socket])\r\n  \r\n\r\n  return (\r\n    <div className=\"main_bg\">\r\n      <Navbar variant=\"warning\" className=\"navbar\">\r\n        <Container className=\"history-navbar\">\r\n          <Navbar.Brand>\r\n            <div class=\"logo-container\">\r\n              <img id=\"chrome\" class=\"logo\" src={logo} />\r\n            </div>\r\n          </Navbar.Brand>\r\n          <Nav className=\"ms-auto\">\r\n            <Nav.Link onClick={() => navigate(\"/main\")}>\r\n              <img width=\"45px\" src={tableIcon} className=\"table-icon\" />\r\n            </Nav.Link>\r\n            <Nav.Link>\r\n              <h6\r\n                style={{ color: \"white\", paddingTop: \"1rem\" }}\r\n                className=\"agenda\"\r\n              >\r\n                <FontAwesomeIcon\r\n                  icon={faCalendarAlt}\r\n                  style={{ marginRight: \"5px\" }}\r\n                />\r\n                Agenda\r\n              </h6>\r\n            </Nav.Link>\r\n            <Nav.Link onClick={() => navigate(\"/cloture\")}>\r\n              <h6\r\n                style={{ color: \"white\", paddingTop: \"1rem\" }}\r\n                className=\"caiss-h6\"\r\n              >\r\n                <FontAwesomeIcon\r\n                  icon={faCashRegister}\r\n                  style={{ marginRight: \"5px\" }}\r\n                />\r\n                {t(\"cashier\")}\r\n              </h6>\r\n            </Nav.Link>\r\n            <Nav.Link onClick={() => handleDisconnect()}>\r\n              <h6\r\n                style={{ color: \"white\", paddingTop: \"1rem\" }}\r\n                className=\"log-out\"\r\n              >\r\n                <FontAwesomeIcon\r\n                  icon={faSignOutAlt}\r\n                  style={{ marginRight: \"5px\" }}\r\n                />\r\n                {t(\"disconnect\")}\r\n              </h6>\r\n            </Nav.Link>\r\n          </Nav>\r\n          <h6\r\n            className=\"server-icon\"\r\n            style={{\r\n              color: \"white\",\r\n              marginLeft: \"1rem\",\r\n              marginTop: \"0.5rem\",\r\n              borderLeft: \"1px solid white\",\r\n              padding: \"5px\",\r\n            }}\r\n          >\r\n            <img\r\n              src={serveur}\r\n              width={32}\r\n              height={32}\r\n              style={{ marginRight: \"0.5rem\" }}\r\n            />\r\n            <b>{username}</b>\r\n            <FontAwesomeIcon\r\n              onClick={() => handleDisconnect()}\r\n              size=\"2x\"\r\n              icon={faSignOutAlt}\r\n              style={{ marginLeft: \"0.5rem\", paddingTop: \"0.5rem\" }}\r\n            />\r\n          </h6>\r\n        </Container>\r\n      </Navbar>\r\n      <Col  style={{ backgroundColor: \"white\" }} fluid>\r\n        <Table hover className=\"ttt\">\r\n          <thead className=\"tbds\">\r\n            <tr>\r\n              <th>#</th>\r\n              <th>Type</th>\r\n              <th>Table</th>\r\n              <th>date</th>\r\n              <th>order</th>\r\n              <th>Prix</th>\r\n              {type == \"all\" ? <th>Reglement</th> : \"\"}\r\n              {type == \"encours\" ? <th>statut</th> : \"\"}\r\n              <th>Paiements </th>\r\n            </tr>\r\n          </thead>\r\n          <tbody className=\"scro\">\r\n            {type == \"encours\" \r\n              ? checkoutData\r\n                  ?.slice()\r\n                  ?.sort((a, b) => b.id - a.id)\r\n                  ?.filter((e) => \r\n                       (e.status == \"pending\"||e.status == \"cooking\"||e.status == \"ready\") && e.date == date\r\n                  )\r\n                  .map((order, key) => {\r\n                    let tva = 0;\r\n                    let is_alcool = false;\r\n                    let test = order.orderItems;\r\n                    order?.orderItems?.forEach((element) => {\r\n                      if (element.is_alcool == true) {\r\n                        is_alcool = true;\r\n                      }\r\n                    });\r\n                    if (is_alcool == true) {\r\n                      tva = 20;\r\n                    } else {\r\n                      switch (order.orderType) {\r\n                        case \"sur place\":\r\n                          tva = 10;\r\n                          break;\r\n                          case \"sur place\":\r\n                          tva = 10;\r\n                          break;\r\n                        case \"emporter\":\r\n                          tva = 5.5;\r\n                          break;\r\n                        case \"livraison\":\r\n                          tva = 5.5;\r\n                          break;\r\n                        default:\r\n                          tva = 10;\r\n                          break;\r\n                      }\r\n                    }\r\n                    return (\r\n                      <tr onClick={() => {handlePreview({ order }); settichetannu(0)}}>\r\n                        {/* <td>\r\n                          <button\r\n                        onClick={() => setShowPreview(true)}/>\r\n                        </td> */}\r\n                        <td>\r\n                          {order.status == \"pending\" ? (\r\n                            <div\r\n                              style={{\r\n                                display: \"flex\",\r\n                                justifyContent: \"space-evenly\",\r\n                              }}\r\n                            >\r\n                              <FontAwesomeIcon\r\n                                size=\"2x\"\r\n                                style={{ cursor: \"pointer\" }}\r\n                                icon={faEdit}\r\n                                color=\"#42d4cb\"\r\n                                onClick={() =>\r\n                                  handleEditOrder(\r\n                                    order.order_id == undefined\r\n                                      ? order.id\r\n                                      : order.order_id\r\n                                  )\r\n                                }\r\n                              />\r\n                              <FontAwesomeIcon\r\n                                size=\"2x\"\r\n                                style={{ cursor: \"pointer\" }}\r\n                                icon={faCashRegister}\r\n                                color=\"#ff6b6b\"\r\n                                onClick={() =>\r\n                                  navigate(\r\n                                    \"/checkout/\" +\r\n                                      (order.order_id == undefined\r\n                                        ? order.id\r\n                                        : order.order_id)\r\n                                  )\r\n                                }\r\n                              />\r\n                            </div>\r\n                          ) :order.status == \"cooking\"?\r\n                          (\r\n                            <div\r\n                              style={{\r\n                                display: \"flex\",\r\n                                justifyContent: \"space-evenly\",\r\n                              }}\r\n                            >\r\n                              <FontAwesomeIcon\r\n                                size=\"2x\"\r\n                                style={{ cursor: \"pointer\" }}\r\n                                icon={faUtensils}\r\n                                color=\"#42d4cb\"\r\n                            \r\n                              />\r\n                              <FontAwesomeIcon\r\n                                size=\"2x\"\r\n                                style={{ cursor: \"pointer\" }}\r\n                                icon={faCashRegister}\r\n                                color=\"#ff6b6b\"\r\n                                onClick={() =>\r\n                                  navigate(\r\n                                    \"/checkout/\" +\r\n                                      (order.order_id == undefined\r\n                                        ? order.id\r\n                                        : order.order_id)\r\n                                  )\r\n                                }\r\n                              />\r\n                            </div>\r\n                          ) :order.status == \"ready\"?\r\n                          (\r\n                            <div\r\n                              style={{\r\n                                display: \"flex\",\r\n                                justifyContent: \"space-evenly\",\r\n                              }}\r\n                            >\r\n                                <FontAwesomeIcon\r\n                              icon={faCheckSquare}\r\n                              color=\"green \"\r\n                            />\r\n                              <FontAwesomeIcon\r\n                                size=\"2x\"\r\n                                style={{ cursor: \"pointer\" }}\r\n                                icon={faCashRegister}\r\n                                color=\"#ff6b6b\"\r\n                                onClick={() =>\r\n                                  navigate(\r\n                                    \"/checkout/\" +\r\n                                      (order.order_id == undefined\r\n                                        ? order.id\r\n                                        : order.order_id)\r\n                                  )\r\n                                }\r\n                              />\r\n                            </div>\r\n                          )                          \r\n                          :  (\r\n                            <FontAwesomeIcon\r\n                              icon={faCheckSquare}\r\n                              color=\"green \"\r\n                            />\r\n                          )}\r\n                        </td>\r\n                        <td>\r\n                          {order?.orderType==undefined? \"de borne\":order.orderType}\r\n                          {order.orderType == \"sur place\" ? (\r\n                            <img\r\n                              src={surplace}\r\n                              width={32}\r\n                              height={32}\r\n                              style={{ marginLeft: \"0.5rem\" }}\r\n                            />\r\n                          ) :order.orderType == \"emporter\" ?\r\n                          (\r\n                            <img\r\n                              src={takeout}\r\n                              width={32}\r\n                              height={32}\r\n                              style={{ marginLeft: \"0.5rem\" }}\r\n                            />\r\n                          ):order.orderType == \"livraison\" ?(\r\n                            <img\r\n                              src={delivery}\r\n                              width={32}\r\n                              height={32}\r\n                              style={{ marginLeft: \"0.5rem\" }}\r\n                            />\r\n                          ):(\r\n                            <img\r\n                              src={borne}\r\n                              width={40}\r\n                              height={40}\r\n                              style={{ marginLeft: \"0.5rem\" }}\r\n                            /> \r\n                          )}\r\n                        </td>\r\n                        <td>\r\n                          Table : {table({ e: order.table_number })?.numero}\r\n                        </td>\r\n                        <td>{order.date + \"-\" + order.time}</td>\r\n                        <td>\r\n                          {\"#\" +\r\n                            (order.order_id == undefined\r\n                              ? order.id\r\n                              : order.order_id)}\r\n                        </td>\r\n                        <td>\r\n                          <b style={{ display: \"flex\", color: \"red\" }}>\r\n                            {}\r\n                            {order.totalPrice == undefined\r\n                              ? order.price\r\n                              : order.totalPrice}{\" \"}\r\n                            {renderHTML(`<i>${currency}</i>`)}\r\n                          </b>\r\n                        </td>\r\n                        <td>\r\n                          {order.status==\"pending\"?\r\n                          <b>En attente</b>:\r\n                           order.status==\"cooking\"?\r\n                           <b style={{color:\"orange\"}}> En prparation</b>:\r\n                           <b style={{color:\"green\"}}> Prte</b>\r\n                          \r\n                          }\r\n                        </td>\r\n                        <td>\r\n                          <b>En cours</b>\r\n                       \r\n                        \r\n                        </td>\r\n                       \r\n                      </tr>\r\n                    );\r\n                  })\r\n              :\r\n              type==\"annules\"?\r\n              checkoutData\r\n              ?.slice()\r\n              ?.sort((a, b) => b.id - a.id)\r\n              ?.filter((e) =>\r\n                type == \"avenir\"\r\n                  ? e.date > date\r\n                  : e.status == \"rejected\" && e.date == date\r\n              )\r\n              .map((order, key) => {\r\n                let tva = 0;\r\n                let is_alcool = false;\r\n                let test = order.orderItems;\r\n                order.orderItems.forEach((element) => {\r\n                  if (element.is_alcool == true) {\r\n                    is_alcool = true;\r\n                  }\r\n                });\r\n                if (is_alcool == true) {\r\n                  tva = 20;\r\n                } else {\r\n                  switch (order.orderType) {\r\n                    case \"sur place\":\r\n                      tva = 10;\r\n                      break;\r\n                    case \"emporter\":\r\n                      tva = 5.5;\r\n                      break;\r\n                    case \"livraison\":\r\n                      tva = 5.5;\r\n                      break;\r\n                    default:\r\n                      tva = 5.5;\r\n                      break;\r\n                  }\r\n                }\r\n                return (\r\n                  <tr onClick={() => {handlePreviewannuler({ order }); settichetannu(1)}}>\r\n                \r\n                    <td>\r\n                      {order.status == \"pending\" ? (\r\n                        <div\r\n                          style={{\r\n                            display: \"flex\",\r\n                            justifyContent: \"space-evenly\",\r\n                          }}\r\n                        >\r\n                          <FontAwesomeIcon\r\n                            size=\"2x\"\r\n                            style={{ cursor: \"pointer\" }}\r\n                            icon={faEdit}\r\n                            color=\"#42d4cb\"\r\n                            onClick={() =>\r\n                              handleEditOrder(\r\n                                order.order_id == undefined\r\n                                  ? order.id\r\n                                  : order.order_id\r\n                              )\r\n                            }\r\n                          />\r\n                          <FontAwesomeIcon\r\n                            size=\"2x\"\r\n                            style={{ cursor: \"pointer\" }}\r\n                            icon={faCashRegister}\r\n                            color=\"#ff6b6b\"\r\n                            onClick={() =>\r\n                              navigate(\r\n                                \"/checkout/\" +\r\n                                  (order.order_id == undefined\r\n                                    ? order.id\r\n                                    : order.order_id)\r\n                              )\r\n                            }\r\n                          />\r\n                        </div>\r\n                      ) : (\r\n                        <FontAwesomeIcon\r\n                          icon={faTimes}\r\n                          color=\"red\"\r\n                        />\r\n                      )}\r\n                    </td>\r\n                    <td>\r\n                      {order.orderType}\r\n                      {order.orderType == \"sur place\" ? (\r\n                        <img\r\n                          src={surplace}\r\n                          width={32}\r\n                          height={32}\r\n                          style={{ marginLeft: \"0.5rem\" }}\r\n                        />\r\n                      ) :order.orderType == \"emporter\" ?\r\n                      (\r\n                        <img\r\n                          src={takeout}\r\n                          width={32}\r\n                          height={32}\r\n                          style={{ marginLeft: \"0.5rem\" }}\r\n                        />\r\n                      )\r\n                      : (\r\n                        <img\r\n                          src={delivery}\r\n                          width={32}\r\n                          height={32}\r\n                          style={{ marginLeft: \"0.5rem\" }}\r\n                        />\r\n                      )}\r\n                    </td>\r\n                    <td>\r\n                      Table : {table({ e: order.table_number })?.numero}\r\n                    </td>\r\n                    <td>{order.date + \"-\" + order.time}</td>\r\n                    <td>\r\n                      {\"#\" +\r\n                        (order.order_id == undefined\r\n                          ? order.id\r\n                          : order.order_id)}\r\n                    </td>\r\n                    <td>\r\n                      <b style={{ display: \"flex\", color: \"red\" }}>\r\n                        {}\r\n                        {order.totalPrice == undefined\r\n                          ? order.price \r\n                          : order.totalPrice}{\" \"}\r\n                        {renderHTML(`<i>${currency}</i>`)}\r\n                      </b>\r\n                    </td>\r\n                    <td>\r\n                      <b>Annuler</b>\r\n                      {/* {order.paymentType == \"espece\" ? (\r\n                      <img\r\n                        src={cash}\r\n                        width={32}\r\n                        height={32}\r\n                        style={{ marginLeft: \"0.5rem\" }}\r\n                      />\r\n                    ) : order.paymentType == \"Carte Bancaire\" ? (\r\n                      <img\r\n                        src={cc}\r\n                        width={32}\r\n                        height={32}\r\n                        style={{ marginLeft: \"0.5rem\" }}\r\n                      />\r\n                    ) : (\r\n                      \"\"\r\n                    )} */}\r\n                    \r\n                    </td>\r\n                  </tr>\r\n                );\r\n              })\r\n              :type== \"avenir\"? \"\"\r\n              : orders\r\n                  ?.slice()\r\n                  ?.sort((a, b) => b.id - a.id)\r\n                  .filter(\r\n                    (item) => item.paymentsInDb && item.paymentsInDb.length > 0\r\n                  )\r\n                  .map((order, key) => {\r\n                    let tva = 0;\r\n                    let is_alcool = false;\r\n                    let test = order.orderItems;\r\n                    order.orderItems.forEach((element) => {\r\n                      if (element.is_alcool == true) {\r\n                        is_alcool = true;\r\n                      }\r\n                    });\r\n                    if (is_alcool == true) {\r\n                      tva = 20;\r\n                    } else {\r\n                      let iss =\r\n                        order.orderType == undefined\r\n                          ? order.order_type\r\n                          : order.orderType;\r\n                      switch (iss) {\r\n                        case \"sur place\":\r\n                          tva = 10;\r\n                          break;\r\n                        case \"emporter\":\r\n                          tva = 5.5;\r\n                          break;\r\n                        case \"livraison\":\r\n                          tva = 5.5;\r\n                          break;\r\n                        default:\r\n                          tva = 10;\r\n                          break;\r\n                      }\r\n                    }\r\n                    return (\r\n                      <tr onClick={() => {handlePreview({ order }); settichetannu(0)}}>\r\n                        <td>\r\n                          {order.source == 1 ? (\r\n                            <>\r\n                              <FontAwesomeIcon\r\n                                icon={faGlobe}\r\n                                color=\"blue\"\r\n                                style={{ marginRight: \"0.5rem\" }}\r\n                              />\r\n                              <b>Enligne</b>\r\n                            </>\r\n                          ) : (\r\n                            <FontAwesomeIcon\r\n                              icon={faCheckSquare}\r\n                              color=\"green\"\r\n                            />\r\n                          )}\r\n                        </td>\r\n                        <td style={{ display: \"flex\" }}>\r\n                          {order.order_type}\r\n                          {order.order_type == \"sur place\" ? (\r\n                            <img\r\n                              src={surplace}\r\n                              width={32}\r\n                              height={32}\r\n                              style={{ marginLeft: \"0.5rem\" }}\r\n                            />\r\n                          ) : order.order_type == \"emporter\" ? (\r\n                            <img\r\n                              src={takeout}\r\n                              width={32}\r\n                              height={32}\r\n                              style={{ marginLeft: \"0.5rem\" }}\r\n                            />\r\n                          ) : (\r\n                            <img\r\n                              src={delivery}\r\n                              width={32}\r\n                              height={32}\r\n                              style={{ marginLeft: \"0.5rem\" }}\r\n                            />\r\n                          )}\r\n                        </td>\r\n                        <td>\r\n                          Table :{\" \"}\r\n                          {table({ e: order.table_number })?.numero || \"N/A\"}\r\n                        </td>\r\n                        <td>{order.date + \"-\" + order.time}</td>\r\n                        <td>{\"#\" + order.id}</td>\r\n                        <td>\r\n                          <b style={{ display: \"flex\", color: \"#ff6b6b\" }}>\r\n                            {order.source != 3\r\n                              ? (\r\n                                  order.price \r\n                                ).toFixed(2)\r\n                              : order.price }{\" \"}\r\n                            {renderHTML(`<i>${currency}</i>`)}\r\n                          </b>\r\n                        </td>\r\n                        <td>\r\n                          <b style={{ display: \"flex\", color: \"#ff6b6b\" }}>\r\n                            {order.how_paid}\r\n                          </b>\r\n                        </td>\r\n                        <td>\r\n                          {[\r\n                            ...new Set(\r\n                              order.paymentsInDb.map(\r\n                                (words) => words.pay_method\r\n                              )\r\n                            ),\r\n                          ].map((pay) => {\r\n                          \r\n\r\n                            /*  const sumWithInitial = array1.reduce(\r\n                              (previousValue, currentValue) =>\r\n                                previousValue + currentValue,\r\n                              initialValue\r\n                            );*/\r\n                            return <b>{pay}-</b>;\r\n                          })}\r\n                          {/* <b>\r\n                          {order.pay_method == \"espece\"\r\n                            ? \"Especes\"\r\n                            : order.pay_method == \"Carte Bancaire\" ||\r\n                              order.pay_method == 1\r\n                            ? \"Carte Bancaire\"\r\n                            : \"Especes\"}\r\n                        </b>\r\n                        {order.pay_method == \"espece\" ||\r\n                        order.pay_method == 2 ? (\r\n                          <img\r\n                            src={cash}\r\n                            width={32}\r\n                            height={32}\r\n                            style={{ marginLeft: \"0.5rem\" }}\r\n                          />\r\n                        ) : order.pay_method == \"Carte Bancaire\" ||\r\n                          order.pay_method == 1 ? (\r\n                          <img\r\n                            src={cc}\r\n                            width={32}\r\n                            height={32}\r\n                            style={{ marginLeft: \"0.5rem\" }}\r\n                          />\r\n                        ) : (\r\n                          \"\"\r\n                        )} */}\r\n                        </td>\r\n                      </tr>\r\n                    );\r\n                  })}\r\n          </tbody>\r\n        </Table>\r\n        {showPreview && (\r\n          <div className=\"preview\">\r\n            <FontAwesomeIcon\r\n              onClick={() => setShowPreview(false)}\r\n              icon={faTimes}\r\n              size=\"2x\"\r\n              style={{ position: \"absolute\", right: \"5px\" }}\r\n            />\r\n            <div className=\"scr\">\r\n              { (tichetannu == 0) ?\r\n              <Ticket order={selectedOrder} />:(<Ticketsannuler order={selectedOrder} />)\r\n            }\r\n            </div>\r\n            <Button\r\n              onClick={handlePrint}\r\n              variant=\"danger\"\r\n              style={{\r\n                height: \"50px\",\r\n                width: \"100%\",\r\n                bottom: \"0\",\r\n                position: \"absolute\",\r\n              }}\r\n            >\r\n              Imprimer\r\n            </Button>\r\n          </div>\r\n        )}\r\n      </Col >\r\n      <NaviBottom />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default History;\r\n","import { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport {\r\n  Badge,\r\n  Button,\r\n  Container,\r\n  Form,\r\n  FormGroup,\r\n  Modal,\r\n  Nav,\r\n  Navbar,\r\n  Row,\r\n  Table,\r\n  Col,\r\n} from \"react-bootstrap\";\r\nimport {\r\n  faCalendarAlt,\r\n  faCashRegister,\r\n  faCheckSquare,\r\n  faEdit,\r\n  faSignOutAlt,\r\n  faSearch,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport { useNavigate, useParams } from \"react-router\";\r\nimport tableIcon from \"./../Shared/table.png\";\r\nimport useTranslation from \"./../i18\";\r\nimport NaviBottom from \"../Components/NaviBottom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport logo from \"./../Shared/logo.png\";\r\nimport serveur from \"./../Shared/serveur.png\";\r\nimport cc from \"./../Shared/cc.png\";\r\nimport delivery from \"./../Shared/delivery.png\";\r\nimport takeout from \"./../Shared/takeout.png\";\r\nimport cash from \"./../Shared/cash.jpg\";\r\nimport surplace from \"./../Shared/surplace.png\";\r\nimport $ from \"jquery\";\r\nimport axios from \"axios\";\r\nimport { storeClients } from \"../Slices/data\";\r\n\r\nconst History = () => {\r\n  const username = localStorage.getItem(\"username\") || \"\";\r\n  const user_id = localStorage.getItem(\"user_id\");\r\n  const clients = useSelector((state) => state.data.clients);\r\n  const orders = useSelector((state) => state.data.orderHistory) || [];\r\n  const tables = useSelector((state) => state.data.tables);\r\n  const [editClient, setEditClient] = useState({});\r\n  const [showEdit, setShowEdit] = useState(false);\r\n  const [ping, setping] = useState(false);\r\n  const [search, setSearch] = useState(\"\");\r\n  const params = useParams();\r\n  const navigate = useNavigate();\r\n  const { id } = params;\r\n  const { t } = useTranslation();\r\n  const dispatch = useDispatch();\r\n\r\n  const handleEditClient = () => {\r\n    axios\r\n      .post(\r\n        \"http://192.168.1.166:5000/api/updateClient\",\r\n        {\r\n          client_id: editClient.id,\r\n          client: editClient,\r\n        }\r\n      )\r\n      .then((res) => setping(!ping))\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .post(\r\n          \"http://192.168.1.166:5000/api/getclients\",\r\n        {\r\n          user_id,\r\n        }\r\n      )\r\n      .then((res) => {\r\n        dispatch(storeClients({ clients: res.data.clients }));\r\n      });\r\n  }, [ping]);\r\n\r\n  const handleDisconnect = () => {\r\n    localStorage.removeItem(\"user\");\r\n    localStorage.removeItem(\"username\");\r\n    navigate(\"/\");\r\n  };\r\n\r\n  const renderHTML = (rawHTML: string) =>\r\n    React.createElement(\"div\", {\r\n      dangerouslySetInnerHTML: { __html: rawHTML },\r\n    });\r\n  const currency = localStorage.getItem(\"currency\");\r\n  const table = ({ e }) => {\r\n    console.log(e);\r\n    return tables.find((table) => table.id == e);\r\n  };\r\n\r\n  return (\r\n    <div className=\"navbar\">\r\n      <Navbar\r\n        style={{  height: \"60px\" }}\r\n        variant=\"warning\"\r\n      >\r\n        <Container className=\"history-navbar\">\r\n          <Navbar.Brand>\r\n            <div class=\"logo-container\">\r\n              <img id=\"chrome\" class=\"logo\" src={logo} />\r\n            </div>\r\n          </Navbar.Brand>\r\n          <Nav className=\"ms-auto\">\r\n            <Nav.Link onClick={() => navigate(\"/main\")}>\r\n              <img width=\"45px\" src={tableIcon} className=\"table-icon\" />\r\n            </Nav.Link>\r\n            <Nav.Link>\r\n              <h6\r\n                style={{ color: \"white\", paddingTop: \"1rem\" }}\r\n                className=\"agenda\"\r\n              >\r\n                <FontAwesomeIcon\r\n                  icon={faCalendarAlt}\r\n                  style={{ marginRight: \"5px\" }}\r\n                />\r\n                Agenda\r\n              </h6>\r\n            </Nav.Link>\r\n            <Nav.Link onClick={() => navigate(\"/cloture\")}>\r\n              <h6\r\n                style={{ color: \"white\", paddingTop: \"1rem\" }}\r\n                className=\"caiss-h6\"\r\n              >\r\n                <FontAwesomeIcon\r\n                  icon={faCashRegister}\r\n                  style={{ marginRight: \"5px\" }}\r\n                />\r\n                {t(\"cashier\")}\r\n              </h6>\r\n            </Nav.Link>\r\n            <Nav.Link onClick={() => handleDisconnect()}>\r\n              <h6\r\n                style={{ color: \"white\", paddingTop: \"1rem\" }}\r\n                className=\"log-out\"\r\n              >\r\n                <FontAwesomeIcon\r\n                  icon={faSignOutAlt}\r\n                  style={{ marginRight: \"5px\" }}\r\n                />\r\n                {t(\"disconnect\")}\r\n              </h6>\r\n            </Nav.Link>\r\n          </Nav>\r\n          <h6\r\n            className=\"client-server-icon\"\r\n            style={{\r\n              color: \"white\",\r\n              marginLeft: \"1rem\",\r\n              marginTop: \"0.5rem\",\r\n              borderLeft: \"1px solid white\",\r\n              padding: \"5px\",\r\n            }}\r\n          >\r\n            <img\r\n              src={serveur}\r\n              width={32}\r\n              height={32}\r\n              style={{ marginRight: \"0.5rem\" }}\r\n            />\r\n            <b>{username}</b>\r\n            <FontAwesomeIcon\r\n              onClick={() => handleDisconnect()}\r\n              size=\"2x\"\r\n              icon={faSignOutAlt}\r\n              style={{ marginLeft: \"0.5rem\", paddingTop: \"0.5rem\" }}\r\n            />\r\n          </h6>\r\n          <div className=\"client-search\">\r\n            <label>\r\n              <FontAwesomeIcon icon={faSearch} />\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Chercher...\"\r\n              onChange={(e) => setSearch(e.target.value)}\r\n            />\r\n          </div>\r\n        </Container>\r\n      </Navbar>\r\n      <Container style={{ backgroundColor: \"white\" }} fluid>\r\n        <Table hover className=\"ttt\">\r\n          <thead className=\"tbds\">\r\n            {id ? (\r\n              <tr>\r\n                <th>#</th>\r\n                <th>Type</th>\r\n                <th>Table</th>\r\n                <th>date</th>\r\n                <th>order</th>\r\n                <th>Prix</th>\r\n                <th>Paiement </th>\r\n              </tr>\r\n            ) : (\r\n              <tr>\r\n                <th>#</th>\r\n                <th>Nom/Prenom</th>\r\n                <th>Telephone</th>\r\n                <th>Email</th>\r\n                <th>Adresse</th>\r\n                <th>Ville</th>\r\n                <th>Code postal</th>\r\n              </tr>\r\n            )}\r\n          </thead>\r\n          <tbody className=\"scro\">\r\n            {id\r\n              ? orders\r\n                  ?.slice()\r\n                  ?.sort((a, b) => b.id - a.id)\r\n                  .filter((el) => el.customer_id == id)\r\n                  .map((order, key) => (\r\n                    <tr>\r\n                      <td>\r\n                        <FontAwesomeIcon icon={faCheckSquare} color=\"green\" />\r\n                      </td>\r\n                      <td style={{ display: \"flex\" }}>\r\n                        {order.order_type}\r\n                        {order.order_type == \"sur place\" ? (\r\n                          <img\r\n                            src={surplace}\r\n                            width={32}\r\n                            height={32}\r\n                            style={{ marginLeft: \"0.5rem\" }}\r\n                          />\r\n                        ) : (\r\n                          <img\r\n                            src={delivery}\r\n                            width={32}\r\n                            height={32}\r\n                            style={{ marginLeft: \"0.5rem\" }}\r\n                          />\r\n                        )}\r\n                      </td>\r\n                      <td>\r\n                        Table :{\" \"}\r\n                        {table({ e: order.table_number })?.numero || \"N/A\"}\r\n                      </td>\r\n                      <td>{order.date + \"-\" + order.time}</td>\r\n                      <td>{\"#\" + order.id}</td>\r\n                      <td>\r\n                        <b style={{ display: \"flex\", color: \"#ff6b6b\" }}>\r\n                          {order.price} {renderHTML(`<i>${currency}</i>`)}\r\n                        </b>\r\n                      </td>\r\n                      <td>\r\n                        <b>\r\n                          {order.pay_method == \"espece\"\r\n                            ? \"Especes\"\r\n                            : order.pay_method == \"Carte Bancaire\" ||\r\n                              order.pay_method == 1\r\n                            ? \"Carte Bancaire\"\r\n                            : \"Especes\"}\r\n                        </b>\r\n                        {order.pay_method == \"espece\" ||\r\n                        order.pay_method == 2 ? (\r\n                          <img\r\n                            src={cash}\r\n                            width={32}\r\n                            height={32}\r\n                            style={{ marginLeft: \"0.5rem\" }}\r\n                          />\r\n                        ) : order.pay_method == \"Carte Bancaire\" ||\r\n                          order.pay_method == 1 ? (\r\n                          <img\r\n                            src={cc}\r\n                            width={32}\r\n                            height={32}\r\n                            style={{ marginLeft: \"0.5rem\" }}\r\n                          />\r\n                        ) : (\r\n                          \"\"\r\n                        )}\r\n                      </td>\r\n                    </tr>\r\n                  ))\r\n              : clients\r\n                  .filter(\r\n                    (client) =>\r\n                      client.nom_prenom\r\n                        .toLowerCase()\r\n                        .includes(search.toLowerCase()) ||                     \r\n                      client.telephone.includes(search)\r\n                  )\r\n                  .map((client, key) => (\r\n                    <tr className=\"client-tr\">\r\n                      <td>\r\n                        <FontAwesomeIcon\r\n                          icon={faEdit}\r\n                          color=\"#ff6b6b\"\r\n                          size=\"2x\"\r\n                          onClick={() => {\r\n                            setEditClient(client);\r\n                            console.log(client);\r\n                            setShowEdit(true);\r\n                          }}\r\n                        />\r\n                      </td>\r\n                      <td onClick={() => navigate(\"/clients/\" + client.id)}>\r\n                        {client.nom_prenom || \"N/A\"}\r\n                      </td>\r\n                      <td>{client.telephone || \"N/A\"}</td>\r\n                      <td>{client.email || \"N/A\"}</td>\r\n                      <td>{client.adresse || \"N/A\"}</td>\r\n                      <td>{client.ville || \"N/A\"}</td>\r\n                      <td>{client.code_postal || \"N/A\"}</td>\r\n                    </tr>\r\n                  ))}\r\n          </tbody>\r\n        </Table>\r\n      </Container>\r\n      <Modal show={showEdit} onHide={() => setShowEdit(false)}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Client</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <div>\r\n            <Form auto>\r\n              <Form.Group className=\"mb-3\">\r\n                <Row>\r\n                  <Col>\r\n                    <Form.Control\r\n                      value={editClient.nom_prenom}\r\n                      type=\"text\"\r\n                      placeholder=\"nom/prenom\"\r\n                      onChange={(e) =>\r\n                        setEditClient({\r\n                          ...editClient,\r\n                          nom_prenom: e.target.value,\r\n                        })\r\n                      }\r\n                    />\r\n                  </Col>\r\n                </Row>\r\n              </Form.Group>\r\n              <Form.Group className=\"mb-3\">\r\n                <Row>\r\n                  <Col>\r\n                    {editClient.telephone?.length > 0 &&\r\n                    editClient.telephone?.length < 10 ? (\r\n                      <Badge bg=\"danger\">\r\n                        Numero pas valide (10 chiffres obligatoire)\r\n                      </Badge>\r\n                    ) : (\r\n                      \"\"\r\n                    )}\r\n                    <Form.Control\r\n                      value={editClient.telephone}\r\n                      type=\"tel\"\r\n                      placeholder=\"telephone\"\r\n                      onChange={(e) =>\r\n                        setEditClient({\r\n                          ...editClient,\r\n                          telephone: e.target.value,\r\n                        })\r\n                      }\r\n                    />\r\n                  </Col>\r\n\r\n                  <Col>\r\n                    <Form.Control\r\n                      value={editClient.email}\r\n                      type=\"email\"\r\n                      placeholder=\"Email\"\r\n                      onChange={(e) =>\r\n                        setEditClient({ ...editClient, email: e.target.value })\r\n                      }\r\n                    />\r\n                  </Col>\r\n                </Row>\r\n              </Form.Group>\r\n              <Form.Group className=\"mb-3\">\r\n                <Row>\r\n                  <Col>\r\n                    <Form.Control\r\n                      value={editClient.adresse}\r\n                      as=\"textarea\"\r\n                      type=\"text\"\r\n                      placeholder=\"adresse\"\r\n                      onChange={(e) =>\r\n                        setEditClient({\r\n                          ...editClient,\r\n                          adresse: e.target.value,\r\n                        })\r\n                      }\r\n                    />\r\n                  </Col>\r\n                  <Col>\r\n                    <Form.Control\r\n                      value={editClient.societe}\r\n                      type=\"text\"\r\n                      placeholder=\"socit\"\r\n                      onChange={(e) =>\r\n                        setEditClient({\r\n                          ...editClient,\r\n                          societe: e.target.value,\r\n                        })\r\n                      }\r\n                    />\r\n                  </Col>\r\n                </Row>\r\n              </Form.Group>\r\n              <Form.Group className=\"mb-3\">\r\n                <Row>\r\n                  <Col>\r\n                    <Form.Control\r\n                      value={editClient.code_1}\r\n                      type=\"text\"\r\n                      placeholder=\"code 1\"\r\n                      onChange={(e) =>\r\n                        setEditClient({ ...editClient, code_1: e.target.value })\r\n                      }\r\n                    />\r\n                  </Col>\r\n                  <Col>\r\n                    <Form.Control\r\n                      value={editClient.code_2}\r\n                      type=\"text\"\r\n                      placeholder=\"code 2\"\r\n                      onChange={(e) =>\r\n                        setEditClient({ ...editClient, code_2: e.target.value })\r\n                      }\r\n                    />\r\n                  </Col>\r\n\r\n                  <Col xs=\"6\">\r\n                    <Form.Control\r\n                      value={editClient.ville}\r\n                      type=\"text\"\r\n                      placeholder=\"Ville\"\r\n                      onChange={(e) =>\r\n                        setEditClient({ ...editClient, ville: e.target.value })\r\n                      }\r\n                    />\r\n                  </Col>\r\n                </Row>\r\n              </Form.Group>\r\n              <Form.Group className=\"mb-3\">\r\n                <Row>\r\n                  <Col>\r\n                    <Form.Control\r\n                      value={editClient.interphone}\r\n                      type=\"text\"\r\n                      placeholder=\"interphone\"\r\n                      onChange={(e) =>\r\n                        setEditClient({\r\n                          ...editClient,\r\n                          interphone: e.target.value,\r\n                        })\r\n                      }\r\n                    />\r\n                  </Col>\r\n                  <Col>\r\n                    <Form.Control\r\n                      value={editClient.etage}\r\n                      type=\"text\"\r\n                      placeholder=\"etage\"\r\n                      onChange={(e) =>\r\n                        setEditClient({ ...editClient, etage: e.target.value })\r\n                      }\r\n                    />\r\n                  </Col>\r\n                  <Col xs=\"6\">\r\n                    <Form.Control\r\n                      value={editClient.code_postal}\r\n                      type=\"postal\"\r\n                      placeholder=\"Code postal\"\r\n                      onChange={(e) =>\r\n                        setEditClient({\r\n                          ...editClient,\r\n                          code_postal: e.target.value,\r\n                        })\r\n                      }\r\n                    />\r\n                  </Col>\r\n                </Row>\r\n              </Form.Group>\r\n            </Form>\r\n          </div>\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"secondary\" onClick={() => setShowEdit(false)}>\r\n            Annuler\r\n          </Button>\r\n          <Button\r\n            style={{ backgroundColor: \"#ff6b6b\", borderColor: \"#ff6b6b\" }}\r\n            variant=\"primary\"\r\n            onClick={() => {\r\n              setShowEdit(false);\r\n              handleEditClient();\r\n            }}\r\n          >\r\n            Terminer\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n      <NaviBottom />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default History;\r\n","import React from \"react\";\r\nimport { Container, Nav, Navbar } from \"react-bootstrap\";\r\nimport { useNavigate, useParams } from \"react-router\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport tableIcon from \"./../Shared/table.png\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport logo from \"./../Shared/logo.png\";\r\nimport { faSignOutAlt } from \"@fortawesome/free-solid-svg-icons\";\r\nimport serveur from \"./../Shared/serveur.png\";\r\nimport { clearOrders } from \"../Slices/order\";\r\nimport _ from \"lodash\";\r\n\r\nconst CalendarScreen = () => {\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n  const username = localStorage.getItem(\"username\") || \"\";\r\n\r\n  const handleDisconnect = () => {\r\n    localStorage.removeItem(\"user\");\r\n    localStorage.removeItem(\"username\");\r\n    navigate(\"/\"); \r\n  };\r\n  return (\r\n    <div>\r\n      <Navbar\r\n        style={{ backgroundColor: \"#ff6b6b\", height: \"70px\" }}\r\n        variant=\"warning\"\r\n      >\r\n        <Container>\r\n          <Navbar.Brand>\r\n            <div class=\"logo-container\">\r\n              <img id=\"chrome\" class=\"logo\" src={logo} />\r\n            </div>\r\n          </Navbar.Brand>\r\n          <Nav className=\"ms-auto\">\r\n            <Nav.Link\r\n              onClick={() => {\r\n                navigate(\"/main\");\r\n                dispatch(clearOrders());\r\n              }}\r\n            >\r\n              <img width=\"45px\" src={tableIcon} />\r\n            </Nav.Link>\r\n          </Nav>\r\n          <h6\r\n            style={{\r\n              color: \"white\",\r\n              marginLeft: \"1rem\",\r\n              marginTop: \"0.5rem\",\r\n              borderLeft: \"1px solid white\",\r\n              padding: \"5px\",\r\n            }}\r\n          >\r\n            <img\r\n              src={serveur}\r\n              width={32}\r\n              height={32}\r\n              style={{ marginRight: \"0.5rem\" }}\r\n            />\r\n            <b>{username}</b>\r\n            <FontAwesomeIcon\r\n              onClick={() => handleDisconnect()}\r\n              size=\"2x\"\r\n              icon={faSignOutAlt}\r\n              style={{ marginLeft: \"0.5rem\", paddingTop: \"0.5rem\" }}\r\n            />\r\n          </h6>\r\n        </Container>\r\n      </Navbar>\r\n      <div id=\"calendar\" style={{ height: \"800px\" }}></div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CalendarScreen;\r\n","import axios from 'axios';\r\nimport React, { useEffect, useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { storeDataz} from \"../Slices/data\";\r\nimport html2canvas from \"html2canvas\";\r\nimport { jsPDF } from \"jspdf\";\r\nimport { Button, Modal } from 'react-bootstrap';\r\nimport dayjs from 'dayjs';\r\nimport { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs';\r\nimport { LocalizationProvider } from '@mui/x-date-pickers/LocalizationProvider';\r\nimport { MobileDatePicker } from '@mui/x-date-pickers/MobileDatePicker';\r\nimport { TextField } from '@mui/material';\r\nimport AutorenewSharpIcon from '@mui/icons-material/AutorenewSharp';\r\nconst Zcaisse = () => {\r\n \r\n  const dataZ = useSelector((state) => state.data.dataZ);\r\n  const [dateSelected, setdateSelected] = useState(\"\")\r\n  const [cherchId, setcherchId] = useState(0)\r\n  const [el, setel] = useState({})\r\n  const createPDF = async () => {   \r\n    const pdf = new jsPDF(\"portrait\", \"pt\", \"a4\"); \r\n    const data = await html2canvas(document.querySelector(\"#pdf\"));\r\n    const img = data.toDataURL(\"image/png\");  \r\n    const imgProperties = pdf.getImageProperties(img);\r\n    const pdfWidth = pdf.internal.pageSize.getWidth();\r\n    const pdfHeight = (imgProperties.height * pdfWidth) / imgProperties.width;\r\n    pdf.addImage(img, \"PNG\", 0, 0, pdfWidth, pdfHeight);\r\n    pdf.save(\"Zcaisse.pdf\");\r\n  };\r\n  const handlePrintHistory=(PrintData)=>{\r\n    axios\r\n      .post(\r\n       \r\n          \"http://192.168.1.166:5000/api/printzcaisse\",\r\n        { PrintData, user_id }\r\n      )\r\n      .then((res) => console.log(res.data))\r\n      .catch((err) => console.log(err));\r\n  }\r\n  const [value, setValue] = React.useState(dayjs('2014-08-18T21:11:54'));\r\n\r\n  const handleChange = (newValue) => {\r\n    let month=\"\"\r\n    setValue(newValue);\r\n    if(newValue.$M<10)\r\n    {\r\nmonth=\"0\"+ String(parseInt(newValue.$M) + 1)\r\n    }\r\n    setdateSelected(newValue.$y+\"-\"+month+\"-\"+newValue.$D)\r\n    console.log(\"date selected\",dateSelected)\r\n    console.log(dataZ[0].data.ouverture)\r\n    console.log(value)\r\n  };\r\n  const [show, setshow] = useState(false)\r\n  const user_id = localStorage.getItem(\"user_id\") || \"\";\r\n  const [ping, setping] = useState(false)\r\n  const dispatch=useDispatch()\r\n  const handleshow = (data)=>{\r\n    console.log(data)\r\n \r\n    setshow(true)\r\n    setel(data)\r\n  }\r\n  const [credentials, setCredentials] = useState({\r\n    username: \"\",\r\n    password: \"\",\r\n  });\r\n  const submitCreds = () => {\r\n    axios\r\n      .post(\r\n        \"http://192.168.1.166:5000/api/initZcaisse\",\r\n        {\r\n          ...credentials,\r\n        }\r\n      )\r\n      .then((res) => {\r\n        localStorage.setItem(\"user_id\",res.data.user.id)\r\n        dispatch(storeDataz({dataZ:res.data.history}))\r\n       console.log(res.data)\r\n       console.log(dataZ)\r\n      })\r\n     \r\n    }\r\n    const handlereload = ()=>{\r\n      axios\r\n      .post(\r\n      \"http://192.168.1.166:5000/api/getHistoriqueZcaisse\",\r\n        { user_id }\r\n      )\r\n      .then((res) => \r\n      dispatch(storeDataz({dataZ:res.data.allHistorique}))\r\n      )\r\n      .catch((err) => console.log(err));\r\n      console.log(dataZ)\r\n    }\r\n    useEffect(() => {\r\n\r\n      axios\r\n            .post(\r\n              \"http://192.168.1.166:5000/api/getHistoriqueZcaisse\",\r\n              { user_id }\r\n            )\r\n            .then((res) => \r\n            dispatch(storeDataz({dataZ:res.data.allHistorique}))\r\n            )\r\n            .catch((err) => console.log(err));\r\n            console.log(dataZ)\r\n    }, [])\r\n\r\n  \r\n  return (\r\n    <div className=\"zcaisse_body\">\r\n  \r\n      \r\n      {<Modal  show={show} onHide={() => setshow(false)} className=\"modal_ZZ\" >\r\n        <div className='head_zcaisse'>\r\n        <h1>Zcaisse</h1>\r\n        </div>\r\n       \r\n        <Modal.Body  className=\"modals\">\r\n        <div className='pdf_Z' id=\"pdf\">         \r\n       <div style={{border:\"solid 1px\" ,padding:\"1rem\",backgroundColor:\"white\",width:\"95%\",height:\"100%\"}}>            \r\n       <div className='text_body' >\r\n       <div style={{display:\"flex\",justifyContent:'center',alignItmes:\"center\",height:\"4%\"}}>\r\n        <h5  >{el.ouverture}/{el.fermeture}</h5>\r\n        </div>\r\n          {el.cancledOrders?.length!=0?<h5>Commandes Annuls{\"\"}:</h5>:\"\"}\r\n         {el.cancledOrders?.map((o,key)=><div className='cmd_annuler' key={key}>\r\n          <h5>Annuler par {o.rejectedFrom}:</h5>       \r\n{el.cancledOrders.length!=0?o.orderItems.map((i,key)=><div className='item_annuler' key={key}>\r\n\r\n<h5>{i.qt}</h5>\r\n<h5>{i.name}</h5>\r\n</div>\r\n\r\n):\"\"}\r\n\r\n<hr style={{width:\"100%\"}} />\r\n\r\n\r\n\r\n\r\n\r\n         </div>)}\r\n         {el.products?.length!=0?<h5>Liste Des Produits{\"\"}:</h5>:\"\"}\r\n          {el.products?.map((p,key)=><div>\r\n            <div classNam=\"prod_z\">\r\n            <h6 >-{p.name}</h6>\r\n            </div>\r\n\r\n\r\n\r\n</div>)}\r\n\r\n<div>\r\n<hr style={{width:\"100%\"}} />\r\n{el.pay_method?.map((m,key)=><div key={key}>\r\n  <h5>{m.name}:<b style={{marginLeft:\"1rem\"}}>{m.qt}</b></h5>\r\n</div>)}\r\n\r\n<hr style={{width:\"100%\"}} />\r\n<h5>Annuler:<b style={{marginLeft:\"1rem\"}}>{el.cancledOrders?.length}</b></h5>\r\n<h5>Commandes:<b style={{marginLeft:\"1rem\"}}>{el.commandes}</b></h5>\r\n<h5>Ticket Moyen:<b style={{marginLeft:\"1rem\"}}>{el.clients}</b></h5>\r\n<hr style={{width:\"100%\"}} />\r\n\r\n<h5>De Borne:<b style={{marginLeft:\"1rem\"}}>{el.ordersType?.borne}</b></h5>\r\n<h5>Emporter:<b style={{marginLeft:\"1rem\"}}>{el.ordersType?.emporter}</b></h5>\r\n<h5>Sur Place:<b style={{marginLeft:\"1rem\"}}>{el.ordersType?.surPlace}</b></h5>\r\n<h5>Livraison:<b style={{marginLeft:\"1rem\"}}>{el.ordersType?.livraison}</b></h5>\r\n<hr style={{width:\"100%\"}} />\r\n<h5>Ticket Moyen:<b style={{marginLeft:\"1rem\"}}>{el.ticket_moyen}</b></h5>\r\n<h5>Total TTC:<b style={{marginLeft:\"1rem\"}}>{el.ttc}</b></h5>\r\n<h5>Total HT:<b style={{marginLeft:\"1rem\"}}>{el.ht}</b></h5>\r\n<hr style={{width:\"100%\"}} />\r\n<h5>Fond Initial:<b style={{marginLeft:\"1rem\"}}>{el.fond_initial}</b></h5>\r\n<h5>Fond Final:<b style={{marginLeft:\"1rem\"}}>{el.fond_final}</b></h5>\r\n          </div>\r\n          </div>\r\n       </div>\r\n        </div>\r\n        \r\n        </Modal.Body>\r\n        <Button variant=\"success\" onClick={() => createPDF()} >\r\n            Telecharger PDF\r\n          </Button>\r\n      </Modal>}\r\n      <div className='Zcaisse_header'>\r\n      <h1>Zcaisse Historiques</h1> \r\n        </div>      \r\n      \r\n     <div className=\"zcaisse_container\">   \r\n     \r\n     <div className='filter_z'>\r\n    \r\n     <LocalizationProvider dateAdapter={AdapterDayjs}>\r\n      <MobileDatePicker\r\n          label=\"Date Zcaisse\"\r\n          inputFormat=\"MM/DD/YYYY\"\r\n          value={value}\r\n          onChange={handleChange}\r\n          renderInput={(params) => <TextField {...params} />}\r\n        />\r\n      </LocalizationProvider>\r\n      <AutorenewSharpIcon fontSize=\"large\" color='inherit' className='relo' onClick={()=>handlereload()}/>\r\n     </div>\r\n\r\n\r\n     <div className='zCaisse'>\r\n     {dataZ.length!=0?dataZ?.filter((el)=>el.data.ouverture.includes(dateSelected)).map((e,key)=>(\r\n      <div className='history' key={key}>\r\n        \r\n        <b>{e.id}</b>\r\n<b>{e.data.ouverture}</b>\r\n<b>{e.data.fermeture}</b>\r\n<b><button style={{backgroundColor:\"#08C18A\",color:\"white\"}} onClick={()=>handleshow(e.data)}>Afficher</button></b>\r\n<b><button style={{backgroundColor:\"transparent\", color:\"#08C18A\"}} onClick={() => handlePrintHistory(e.data)}>imprimer</button></b>\r\n      </div>\r\n      \r\n     )):\"\"} \r\n     </div>\r\n     \r\n      {user_id?\"\":(\r\n        <div className='login_modal'>\r\n      \r\n           <div className='Login_zcaisse'>\r\n          <h2>Login</h2>\r\n<input type=\"text\" onChange={(e)=>setCredentials({...credentials,username:e.target.value,})} placeholder=\"Nom utilisateur\"/>\r\n<input type=\"password\" onChange={(e)=>setCredentials({...credentials,password:e.target.value,})} placeholder=\"Mot de passe\" />\r\n<button onClick={()=>submitCreds()}>se connecter</button>\r\n        </div>\r\n        </div>\r\n       \r\n      )}\r\n     </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Zcaisse","import { BrowserRouter, Routes, Route } from \"react-router-dom\";\r\nimport \"./App.css\";\r\nimport Home from \"./Screens/Home\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport Init from \"./Screens/Init\";\r\nimport Main from \"./Screens/Main\";\r\nimport Backoffice from \"./Screens/Backoffice\";\r\nimport Menu from \"./Screens/Menu\";\r\nimport Caisse from \"./Screens/Caisse\";\r\nimport Avoires from \"./Screens/Avoires\";\r\nimport Cloture from \"./Screens/Cloture\";\r\nimport Test from \"./Screens/Test\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport Checkout from \"./Screens/Checkout\";\r\nimport CheckoutTwo from \"./Screens/CheckoutTwo\";\r\nimport History from \"./Screens/History\";\r\nimport Clients from \"./Screens/Clients\";\r\nimport CalendarScreen from \"./Screens/CalendarScreen\";\r\nimport io from \"socket.io-client\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { setCheckoutChange } from \"./Slices/order\";\r\nimport Swal from \"sweetalert2\";\r\nimport updateSound from \"./Shared/updateorder.wav\";\r\nimport bornSound from \"./Shared/born-sound.mp3\";\r\nimport Zcaisse from \"./Screens/Zcaisse\";\r\n\r\nconst socket = io.connect(process.env.REACT_APP_API_SOCKET);\r\nfunction App() {\r\n  let today = new Date()\r\n  var time = today.getHours() + \":\" + today.getMinutes() \r\n\r\n\r\nconst MINUTE_MS = 60000;\r\n\r\nuseEffect(() => {\r\n  const interval = setInterval(() => {\r\n    console.log(\"kol d9i9a\")\r\n    if(time ==\"11:55\"){\r\n      Swal.fire({\r\n        icon: \"success\",\r\n        title: \r\n        \"<h5 >\" +\r\n        `w9yet` +\r\n        \"</h5>\",\r\n        \r\n        showConfirmButton: false,\r\n        timer: 2500,\r\n      });\r\n    }\r\n  }, MINUTE_MS);\r\n\r\n  return () => clearInterval(interval); \r\n}, [])\r\n  \r\n\r\n  useEffect(() => {\r\n  \r\n    const unloadCallback = (event) => {\r\n      event.preventDefault();\r\n      event.returnValue = \"\";\r\n     \r\n    };\r\n  \r\n    window.addEventListener(\"beforeunload\", unloadCallback);\r\n    return () => window.removeEventListener(\"beforeunload\", unloadCallback);\r\n  }, []);\r\n \r\n  const [soundUpdate, setSoundUpdate] = useState(new Audio(updateSound));\r\n  const [audioBorn, setaudioBorn] = useState(new Audio(bornSound));\r\n  const dispatch = useDispatch()\r\n  const user_id =localStorage.getItem(\"user_id\")\r\n   socket.on(`update${user_id}`, (order) => {\r\n    soundUpdate.play()\r\n    if(order.status==\"cooking\"){\r\n    \r\n      Swal.fire({\r\n        icon: \"success\",\r\n        title: \r\n        \"<h5 >\" +\r\n        `La commande <span style='color:green'>${order.order_id}</span> en prparation` +\r\n        \"</h5>\",\r\n        \r\n        showConfirmButton: false,\r\n        timer: 2500,\r\n      });\r\n    }else if(order.status==\"ready\"){\r\n      Swal.fire({\r\n        icon: \"success\",\r\n        title: \r\n        \"<h5 >\" +\r\n        `La commande <span style='color:green'>${order.order_id}</span> et prte` +\r\n        \"</h5>\",\r\n        \r\n        showConfirmButton: false,\r\n        timer: 2500,\r\n      });\r\n    } else{\r\n      Swal.fire({\r\n        icon: \"success\",\r\n        title: \r\n        \"<h5 >\" +\r\n        `La commande <span style='color:green'>${order.order_id}</span> a t annul` +\r\n        \"</h5>\",\r\n        \r\n        showConfirmButton: false,\r\n        timer: 2500,\r\n      });\r\n    }\r\n   \r\n     dispatch(setCheckoutChange({order:order}))\r\n    \r\n    })\r\n  \r\n  return (\r\n    <div className=\"App\">\r\n      <Routes>\r\n        <Route exact path=\"/\" element={<Home />} />\r\n        <Route path=\"/init\" element={<Init />} />\r\n        <Route path=\"/main\" element={<Main />} />\r\n        <Route path=\"/menu\" element={<Menu />} />\r\n        <Route path=\"/menu/:order_id\" element={<Menu />} />\r\n        <Route path=\"/caisse\" element={<Caisse />} />\r\n        <Route path=\"/cloture\" element={<Cloture />} />\r\n        <Route path=\"/calendar\" element={<CalendarScreen />} />\r\n        <Route path=\"/history/:type\" element={<History />} />\r\n        <Route path=\"/clients\" element={<Clients />} />\r\n        <Route path=\"/data/zcaisse\" element={<Zcaisse />} />\r\n        <Route path=\"/avoires\" element={<Avoires />} />\r\n        <Route path=\"/backoffice\" element={<Backoffice />} />\r\n        <Route path=\"/clients/:id\" element={<Clients />} />\r\n        \r\n        <Route\r\n          path=\"/checkout2/:table_id/:type/:part\"\r\n          element={<CheckoutTwo />}\r\n        />\r\n         \r\n        <Route path=\"/checkout/:table_id\" element={<Checkout />} />\r\n        <Route path=\"/test\" element={<Test />} />\r\n      </Routes>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { configureStore } from \"@reduxjs/toolkit\";\r\nimport authReducer from \"./Slices/auth\";\r\nimport messageReducer from \"./Slices/message\";\r\nimport dataReducer from \"./Slices/data\";\r\nimport orderReducer from \"./Slices/order\";\r\nimport caisseReducer from \"./Slices/caisse\";\r\nimport { combineReducers } from \"@reduxjs/toolkit\";\r\nimport {\r\n  persistStore,\r\n  persistReducer,\r\n  FLUSH,\r\n  REHYDRATE,\r\n  PAUSE,\r\n  PERSIST,\r\n  PURGE,\r\n  REGISTER,\r\n} from \"redux-persist\";\r\nimport storage from \"redux-persist/lib/storage\";\r\n\r\nconst rootReducer = combineReducers({\r\n  auth: authReducer,\r\n  message: messageReducer,\r\n  data: dataReducer,\r\n  order: orderReducer,\r\n  caisse: caisseReducer,\r\n});\r\nconst persistConfig = {\r\n  key: \"root\",\r\n  version: 1,\r\n  storage,\r\n};\r\nconst persistedReducer = persistReducer(persistConfig, rootReducer);\r\n\r\nexport const store = configureStore({\r\n  reducer: persistedReducer,\r\n  middleware: (getDefaultMiddleware) =>\r\n    getDefaultMiddleware({\r\n      serializableCheck: {\r\n        ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\r\n      },\r\n    }),\r\n});\r\n","import React from \"react\";\r\nimport { render } from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport { store } from \"./store\";\r\nimport { Provider } from \"react-redux\";\r\nimport { HashRouter } from \"react-router-dom\";\r\nimport \"react-bootstrap-typeahead/css/Typeahead.css\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport { PersistGate } from \"redux-persist/integration/react\";\r\nimport { persistStore } from \"redux-persist\";\r\nlet persistor = persistStore(store);\r\n\r\nrender(\r\n  <Provider store={store}>\r\n    <HashRouter>\r\n      <PersistGate loading={null} persistor={persistor}>\r\n        <App />\r\n      </PersistGate>\r\n    </HashRouter>\r\n  </Provider>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}